var JY=Object.defineProperty;var ZY=(t,e,n)=>e in t?JY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sw=(t,e,n)=>(ZY(t,typeof e!="symbol"?e+"":e,n),n);function e3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E={},n3={get exports(){return E},set exports(t){E=t}},vv={},x={},r3={get exports(){return x},set exports(t){x=t}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),i3=Symbol.for("react.portal"),s3=Symbol.for("react.fragment"),o3=Symbol.for("react.strict_mode"),a3=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),u3=Symbol.for("react.context"),c3=Symbol.for("react.forward_ref"),h3=Symbol.for("react.suspense"),f3=Symbol.for("react.memo"),d3=Symbol.for("react.lazy"),R_=Symbol.iterator;function p3(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var b2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E2=Object.assign,O2={};function Cc(t,e,n){this.props=t,this.context=e,this.refs=O2,this.updater=n||b2}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T2(){}T2.prototype=Cc.prototype;function zO(t,e,n){this.props=t,this.context=e,this.refs=O2,this.updater=n||b2}var HO=zO.prototype=new T2;HO.constructor=zO;E2(HO,Cc.prototype);HO.isPureReactComponent=!0;var P_=Array.isArray,k2=Object.prototype.hasOwnProperty,WO={current:null},x2={key:!0,ref:!0,__self:!0,__source:!0};function _2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)k2.call(e,r)&&!x2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vd,type:t,key:s,ref:o,props:i,_owner:WO.current}}function m3(t,e){return{$$typeof:vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GO(t){return typeof t=="object"&&t!==null&&t.$$typeof===vd}function g3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D_=/\/+/g;function bw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?g3(""+t.key):e.toString(36)}function bm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vd:case i3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bw(o,0):r,P_(i)?(n="",t!=null&&(n=t.replace(D_,"$&/")+"/"),bm(i,e,n,"",function(u){return u})):i!=null&&(GO(i)&&(i=m3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",P_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bw(s,a);o+=bm(s,e,n,l,i)}else if(l=p3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bw(s,a++),o+=bm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cp(t,e,n){if(t==null)return t;var r=[],i=0;return bm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function y3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},Em={transition:null},v3={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:Em,ReactCurrentOwner:WO};Ae.Children={map:cp,forEach:function(t,e,n){cp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cp(t,function(){e++}),e},toArray:function(t){return cp(t,function(e){return e})||[]},only:function(t){if(!GO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Cc;Ae.Fragment=s3;Ae.Profiler=a3;Ae.PureComponent=zO;Ae.StrictMode=o3;Ae.Suspense=h3;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v3;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=WO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k2.call(e,l)&&!x2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:u3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:l3,_context:t},t.Consumer=t};Ae.createElement=_2;Ae.createFactory=function(t){var e=_2.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:c3,render:t}};Ae.isValidElement=GO;Ae.lazy=function(t){return{$$typeof:d3,_payload:{_status:-1,_result:t},_init:y3}};Ae.memo=function(t,e){return{$$typeof:f3,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Em.transition;Em.transition={};try{t()}finally{Em.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return sr.current.useCallback(t,e)};Ae.useContext=function(t){return sr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return sr.current.useEffect(t,e)};Ae.useId=function(){return sr.current.useId()};Ae.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return sr.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Ae.useRef=function(t){return sr.current.useRef(t)};Ae.useState=function(t){return sr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return sr.current.useTransition()};Ae.version="18.2.0";(function(t){t.exports=Ae})(r3);const Re=t3(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3=x,S3=Symbol.for("react.element"),b3=Symbol.for("react.fragment"),E3=Object.prototype.hasOwnProperty,O3=w3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T3={key:!0,ref:!0,__self:!0,__source:!0};function C2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)E3.call(e,r)&&!T3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:S3,type:t,key:s,ref:o,props:i,_owner:O3.current}}vv.Fragment=b3;vv.jsx=C2;vv.jsxs=C2;(function(t){t.exports=vv})(n3);var ES={},uf={},k3={get exports(){return uf},set exports(t){uf=t}},Fr={},OS={},x3={get exports(){return OS},set exports(t){OS=t}},I2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var ee=M.length;M.push(V);e:for(;0<ee;){var Se=ee-1>>>1,Pe=M[Se];if(0<i(Pe,V))M[Se]=V,M[ee]=Pe,ee=Se;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],ee=M.pop();if(ee!==V){M[0]=ee;e:for(var Se=0,Pe=M.length,yr=Pe>>>1;Se<yr;){var en=2*(Se+1)-1,no=M[en],un=en+1,vr=M[un];if(0>i(no,ee))un<Pe&&0>i(vr,no)?(M[Se]=vr,M[un]=ee,Se=un):(M[Se]=no,M[en]=ee,Se=en);else if(un<Pe&&0>i(vr,ee))M[Se]=vr,M[un]=ee,Se=un;else break e}}return V}function i(M,V){var ee=M.sortIndex-V.sortIndex;return ee!==0?ee:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=M)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function S(M){if(g=!1,w(M),!p)if(n(l)!==null)p=!0,Y(b);else{var V=n(u);V!==null&&ne(S,V.startTime-M)}}function b(M,V){p=!1,g&&(g=!1,m(R),R=-1),d=!0;var ee=f;try{for(w(V),h=n(l);h!==null&&(!(h.expirationTime>V)||M&&!B());){var Se=h.callback;if(typeof Se=="function"){h.callback=null,f=h.priorityLevel;var Pe=Se(h.expirationTime<=V);V=t.unstable_now(),typeof Pe=="function"?h.callback=Pe:h===n(l)&&r(l),w(V)}else r(l);h=n(l)}if(h!==null)var yr=!0;else{var en=n(u);en!==null&&ne(S,en.startTime-V),yr=!1}return yr}finally{h=null,f=ee,d=!1}}var k=!1,_=null,R=-1,T=5,C=-1;function B(){return!(t.unstable_now()-C<T)}function G(){if(_!==null){var M=t.unstable_now();C=M;var V=!0;try{V=_(!0,M)}finally{V?J():(k=!1,_=null)}}else k=!1}var J;if(typeof y=="function")J=function(){y(G)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=G,J=function(){D.postMessage(null)}}else J=function(){v(G,0)};function Y(M){_=M,k||(k=!0,J())}function ne(M,V){R=v(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,Y(b))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var ee=f;f=V;try{return M()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=f;f=M;try{return V()}finally{f=ee}},t.unstable_scheduleCallback=function(M,V,ee){var Se=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Se+ee:Se):ee=Se,M){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ee+Pe,M={id:c++,callback:V,priorityLevel:M,startTime:ee,expirationTime:Pe,sortIndex:-1},ee>Se?(M.sortIndex=ee,e(u,M),n(l)===null&&M===n(u)&&(g?(m(R),R=-1):g=!0,ne(S,ee-Se))):(M.sortIndex=Pe,e(l,M),p||d||(p=!0,Y(b))),M},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(M){var V=f;return function(){var ee=f;f=V;try{return M.apply(this,arguments)}finally{f=ee}}}})(I2);(function(t){t.exports=I2})(x3);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2=x,Pr=OS;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N2=new Set,cf={};function Sl(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(cf[t]=e,t=0;t<e.length;t++)N2.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TS=Object.prototype.hasOwnProperty,_3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L_={},M_={};function C3(t){return TS.call(M_,t)?!0:TS.call(L_,t)?!1:_3.test(t)?M_[t]=!0:(L_[t]=!0,!1)}function I3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A3(t,e,n,r){if(e===null||typeof e>"u"||I3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var XO=/[\-:]([a-z])/g;function KO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(XO,KO);kn[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(XO,KO);kn[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(XO,KO);kn[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function JO(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A3(e,n,i,r)&&(n=null),r||i===null?C3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Js=A2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hp=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),kS=Symbol.for("react.profiler"),R2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),eT=Symbol.for("react.forward_ref"),xS=Symbol.for("react.suspense"),_S=Symbol.for("react.suspense_list"),tT=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),D2=Symbol.for("react.offscreen"),F_=Symbol.iterator;function Jc(t){return t===null||typeof t!="object"?null:(t=F_&&t[F_]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,Ew;function Sh(t){if(Ew===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ew=e&&e[1]||""}return`
`+Ew+t}var Ow=!1;function Tw(t,e){if(!t||Ow)return"";Ow=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ow=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function N3(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=Tw(t.type,!1),t;case 11:return t=Tw(t.type.render,!1),t;case 1:return t=Tw(t.type,!0),t;default:return""}}function CS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eu:return"Fragment";case Zl:return"Portal";case kS:return"Profiler";case ZO:return"StrictMode";case xS:return"Suspense";case _S:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P2:return(t.displayName||"Context")+".Consumer";case R2:return(t._context.displayName||"Context")+".Provider";case eT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tT:return e=t.displayName||null,e!==null?e:CS(t.type)||"Memo";case oo:e=t._payload,t=t._init;try{return CS(t(e))}catch{}}return null}function R3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CS(e);case 8:return e===ZO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P3(t){var e=L2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fp(t){t._valueTracker||(t._valueTracker=P3(t))}function M2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function IS(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F2(t,e){e=e.checked,e!=null&&JO(t,"checked",e,!1)}function AS(t,e){F2(t,e);var n=Go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?NS(t,e.type,n):e.hasOwnProperty("defaultValue")&&NS(t,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function U_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function NS(t,e,n){(e!=="number"||lg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bh=Array.isArray;function Su(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Go(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function RS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(bh(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Go(n)}}function $2(t,e){var n=Go(e.value),r=Go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dp,V2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D3=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(t){D3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vh[e]=Vh[t]})});function j2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vh.hasOwnProperty(t)&&Vh[t]?(""+e).trim():e+"px"}function B2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var L3=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DS(t,e){if(e){if(L3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function LS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MS=null;function nT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var FS=null,bu=null,Eu=null;function B_(t){if(t=bd(t)){if(typeof FS!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ov(e),FS(t.stateNode,t.type,e))}}function Q2(t){bu?Eu?Eu.push(t):Eu=[t]:bu=t}function Y2(){if(bu){var t=bu,e=Eu;if(Eu=bu=null,B_(t),e)for(t=0;t<e.length;t++)B_(e[t])}}function q2(t,e){return t(e)}function z2(){}var kw=!1;function H2(t,e,n){if(kw)return t(e,n);kw=!0;try{return q2(t,e,n)}finally{kw=!1,(bu!==null||Eu!==null)&&(z2(),Y2())}}function ff(t,e){var n=t.stateNode;if(n===null)return null;var r=Ov(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var $S=!1;if($s)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){$S=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{$S=!1}function M3(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jh=!1,ug=null,cg=!1,US=null,F3={onError:function(t){jh=!0,ug=t}};function $3(t,e,n,r,i,s,o,a,l){jh=!1,ug=null,M3.apply(F3,arguments)}function U3(t,e,n,r,i,s,o,a,l){if($3.apply(this,arguments),jh){if(jh){var u=ug;jh=!1,ug=null}else throw Error(z(198));cg||(cg=!0,US=u)}}function bl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function W2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q_(t){if(bl(t)!==t)throw Error(z(188))}function V3(t){var e=t.alternate;if(!e){if(e=bl(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Q_(i),t;if(s===r)return Q_(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function G2(t){return t=V3(t),t!==null?X2(t):null}function X2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X2(t);if(e!==null)return e;t=t.sibling}return null}var K2=Pr.unstable_scheduleCallback,Y_=Pr.unstable_cancelCallback,j3=Pr.unstable_shouldYield,B3=Pr.unstable_requestPaint,At=Pr.unstable_now,Q3=Pr.unstable_getCurrentPriorityLevel,rT=Pr.unstable_ImmediatePriority,J2=Pr.unstable_UserBlockingPriority,hg=Pr.unstable_NormalPriority,Y3=Pr.unstable_LowPriority,Z2=Pr.unstable_IdlePriority,wv=null,Zi=null;function q3(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(wv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:W3,z3=Math.log,H3=Math.LN2;function W3(t){return t>>>=0,t===0?32:31-(z3(t)/H3|0)|0}var pp=64,mp=4194304;function Eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eh(a):(s&=o,s!==0&&(r=Eh(s)))}else o=n&~i,o!==0?r=Eh(o):s!==0&&(r=Eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ti(e),i=1<<n,r|=t[n],e&=~i;return r}function G3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ti(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=G3(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function VS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eL(){var t=pp;return pp<<=1,!(pp&4194240)&&(pp=64),t}function xw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ti(e),t[e]=n}function K3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ti(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function tL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nL,sT,rL,iL,sL,jS=!1,gp=[],Ao=null,No=null,Ro=null,df=new Map,pf=new Map,fo=[],J3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q_(t,e){switch(t){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":df.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(e.pointerId)}}function eh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bd(e),e!==null&&sT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Z3(t,e,n,r,i){switch(e){case"focusin":return Ao=eh(Ao,t,e,n,r,i),!0;case"dragenter":return No=eh(No,t,e,n,r,i),!0;case"mouseover":return Ro=eh(Ro,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return df.set(s,eh(df.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pf.set(s,eh(pf.get(s)||null,t,e,n,r,i)),!0}return!1}function oL(t){var e=Aa(t.target);if(e!==null){var n=bl(e);if(n!==null){if(e=n.tag,e===13){if(e=W2(n),e!==null){t.blockedOn=e,sL(t.priority,function(){rL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Om(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=BS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);MS=r,n.target.dispatchEvent(r),MS=null}else return e=bd(n),e!==null&&sT(e),t.blockedOn=n,!1;e.shift()}return!0}function z_(t,e,n){Om(t)&&n.delete(e)}function e5(){jS=!1,Ao!==null&&Om(Ao)&&(Ao=null),No!==null&&Om(No)&&(No=null),Ro!==null&&Om(Ro)&&(Ro=null),df.forEach(z_),pf.forEach(z_)}function th(t,e){t.blockedOn===e&&(t.blockedOn=null,jS||(jS=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,e5)))}function mf(t){function e(i){return th(i,t)}if(0<gp.length){th(gp[0],t);for(var n=1;n<gp.length;n++){var r=gp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ao!==null&&th(Ao,t),No!==null&&th(No,t),Ro!==null&&th(Ro,t),df.forEach(e),pf.forEach(e),n=0;n<fo.length;n++)r=fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)oL(n),n.blockedOn===null&&fo.shift()}var Ou=Js.ReactCurrentBatchConfig,dg=!0;function t5(t,e,n,r){var i=qe,s=Ou.transition;Ou.transition=null;try{qe=1,oT(t,e,n,r)}finally{qe=i,Ou.transition=s}}function n5(t,e,n,r){var i=qe,s=Ou.transition;Ou.transition=null;try{qe=4,oT(t,e,n,r)}finally{qe=i,Ou.transition=s}}function oT(t,e,n,r){if(dg){var i=BS(t,e,n,r);if(i===null)Mw(t,e,r,pg,n),q_(t,r);else if(Z3(i,t,e,n,r))r.stopPropagation();else if(q_(t,r),e&4&&-1<J3.indexOf(t)){for(;i!==null;){var s=bd(i);if(s!==null&&nL(s),s=BS(t,e,n,r),s===null&&Mw(t,e,r,pg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mw(t,e,r,null,n)}}var pg=null;function BS(t,e,n,r){if(pg=null,t=nT(r),t=Aa(t),t!==null)if(e=bl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=W2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pg=t,null}function aL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q3()){case rT:return 1;case J2:return 4;case hg:case Y3:return 16;case Z2:return 536870912;default:return 16}default:return 16}}var So=null,aT=null,Tm=null;function lL(){if(Tm)return Tm;var t,e=aT,n=e.length,r,i="value"in So?So.value:So.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tm=i.slice(t,1<r?1-r:void 0)}function km(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yp(){return!0}function H_(){return!1}function $r(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yp:H_,this.isPropagationStopped=H_,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lT=$r(Ic),Sd=wt({},Ic,{view:0,detail:0}),r5=$r(Sd),_w,Cw,nh,Sv=wt({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nh&&(nh&&t.type==="mousemove"?(_w=t.screenX-nh.screenX,Cw=t.screenY-nh.screenY):Cw=_w=0,nh=t),_w)},movementY:function(t){return"movementY"in t?t.movementY:Cw}}),W_=$r(Sv),i5=wt({},Sv,{dataTransfer:0}),s5=$r(i5),o5=wt({},Sd,{relatedTarget:0}),Iw=$r(o5),a5=wt({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),l5=$r(a5),u5=wt({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c5=$r(u5),h5=wt({},Ic,{data:0}),G_=$r(h5),f5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p5[t])?!!e[t]:!1}function uT(){return m5}var g5=wt({},Sd,{key:function(t){if(t.key){var e=f5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=km(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uT,charCode:function(t){return t.type==="keypress"?km(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?km(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y5=$r(g5),v5=wt({},Sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X_=$r(v5),w5=wt({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uT}),S5=$r(w5),b5=wt({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),E5=$r(b5),O5=wt({},Sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T5=$r(O5),k5=[9,13,27,32],cT=$s&&"CompositionEvent"in window,Bh=null;$s&&"documentMode"in document&&(Bh=document.documentMode);var x5=$s&&"TextEvent"in window&&!Bh,uL=$s&&(!cT||Bh&&8<Bh&&11>=Bh),K_=String.fromCharCode(32),J_=!1;function cL(t,e){switch(t){case"keyup":return k5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tu=!1;function _5(t,e){switch(t){case"compositionend":return hL(e);case"keypress":return e.which!==32?null:(J_=!0,K_);case"textInput":return t=e.data,t===K_&&J_?null:t;default:return null}}function C5(t,e){if(tu)return t==="compositionend"||!cT&&cL(t,e)?(t=lL(),Tm=aT=So=null,tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uL&&e.locale!=="ko"?null:e.data;default:return null}}var I5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I5[t.type]:e==="textarea"}function fL(t,e,n,r){Q2(r),e=mg(e,"onChange"),0<e.length&&(n=new lT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qh=null,gf=null;function A5(t){OL(t,0)}function bv(t){var e=iu(t);if(M2(e))return t}function N5(t,e){if(t==="change")return e}var dL=!1;if($s){var Aw;if($s){var Nw="oninput"in document;if(!Nw){var eC=document.createElement("div");eC.setAttribute("oninput","return;"),Nw=typeof eC.oninput=="function"}Aw=Nw}else Aw=!1;dL=Aw&&(!document.documentMode||9<document.documentMode)}function tC(){Qh&&(Qh.detachEvent("onpropertychange",pL),gf=Qh=null)}function pL(t){if(t.propertyName==="value"&&bv(gf)){var e=[];fL(e,gf,t,nT(t)),H2(A5,e)}}function R5(t,e,n){t==="focusin"?(tC(),Qh=e,gf=n,Qh.attachEvent("onpropertychange",pL)):t==="focusout"&&tC()}function P5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bv(gf)}function D5(t,e){if(t==="click")return bv(e)}function L5(t,e){if(t==="input"||t==="change")return bv(e)}function M5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:M5;function yf(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TS.call(e,i)||!xi(t[i],e[i]))return!1}return!0}function nC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rC(t,e){var n=nC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nC(n)}}function mL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gL(){for(var t=window,e=lg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lg(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F5(t){var e=gL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mL(n.ownerDocument.documentElement,n)){if(r!==null&&hT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rC(n,s);var o=rC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $5=$s&&"documentMode"in document&&11>=document.documentMode,nu=null,QS=null,Yh=null,YS=!1;function iC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YS||nu==null||nu!==lg(r)||(r=nu,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yh&&yf(Yh,r)||(Yh=r,r=mg(QS,"onSelect"),0<r.length&&(e=new lT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nu)))}function vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ru={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},Rw={},yL={};$s&&(yL=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Ev(t){if(Rw[t])return Rw[t];if(!ru[t])return t;var e=ru[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yL)return Rw[t]=e[n];return t}var vL=Ev("animationend"),wL=Ev("animationiteration"),SL=Ev("animationstart"),bL=Ev("transitionend"),EL=new Map,sC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){EL.set(t,e),Sl(e,[t])}for(var Pw=0;Pw<sC.length;Pw++){var Dw=sC[Pw],U5=Dw.toLowerCase(),V5=Dw[0].toUpperCase()+Dw.slice(1);ca(U5,"on"+V5)}ca(vL,"onAnimationEnd");ca(wL,"onAnimationIteration");ca(SL,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(bL,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oh));function oC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U3(r,e,void 0,t),t.currentTarget=null}function OL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oC(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oC(i,a,u),s=l}}}if(cg)throw t=US,cg=!1,US=null,t}function tt(t,e){var n=e[GS];n===void 0&&(n=e[GS]=new Set);var r=t+"__bubble";n.has(r)||(TL(e,t,2,!1),n.add(r))}function Lw(t,e,n){var r=0;e&&(r|=4),TL(n,t,r,e)}var wp="_reactListening"+Math.random().toString(36).slice(2);function vf(t){if(!t[wp]){t[wp]=!0,N2.forEach(function(n){n!=="selectionchange"&&(j5.has(n)||Lw(n,!1,t),Lw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wp]||(e[wp]=!0,Lw("selectionchange",!1,e))}}function TL(t,e,n,r){switch(aL(e)){case 1:var i=t5;break;case 4:i=n5;break;default:i=oT}n=i.bind(null,e,n,t),i=void 0,!$S||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Aa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}H2(function(){var u=s,c=nT(n),h=[];e:{var f=EL.get(t);if(f!==void 0){var d=lT,p=t;switch(t){case"keypress":if(km(n)===0)break e;case"keydown":case"keyup":d=y5;break;case"focusin":p="focus",d=Iw;break;case"focusout":p="blur",d=Iw;break;case"beforeblur":case"afterblur":d=Iw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=s5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=S5;break;case vL:case wL:case SL:d=l5;break;case bL:d=E5;break;case"scroll":d=r5;break;case"wheel":d=T5;break;case"copy":case"cut":case"paste":d=c5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=X_}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=ff(y,m),S!=null&&g.push(wf(y,S,w)))),v)break;y=y.return}0<g.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==MS&&(p=n.relatedTarget||n.fromElement)&&(Aa(p)||p[Us]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Aa(p):null,p!==null&&(v=bl(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(g=W_,S="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=X_,S="onPointerLeave",m="onPointerEnter",y="pointer"),v=d==null?f:iu(d),w=p==null?f:iu(p),f=new g(S,y+"leave",d,n,c),f.target=v,f.relatedTarget=w,S=null,Aa(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=w,g.relatedTarget=v,S=g),v=S,d&&p)t:{for(g=d,m=p,y=0,w=g;w;w=Vl(w))y++;for(w=0,S=m;S;S=Vl(S))w++;for(;0<y-w;)g=Vl(g),y--;for(;0<w-y;)m=Vl(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Vl(g),m=Vl(m)}g=null}else g=null;d!==null&&aC(h,f,d,g,!1),p!==null&&v!==null&&aC(h,v,p,g,!0)}}e:{if(f=u?iu(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var b=N5;else if(Z_(f))if(dL)b=L5;else{b=P5;var k=R5}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=D5);if(b&&(b=b(t,u))){fL(h,b,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&NS(f,"number",f.value)}switch(k=u?iu(u):window,t){case"focusin":(Z_(k)||k.contentEditable==="true")&&(nu=k,QS=u,Yh=null);break;case"focusout":Yh=QS=nu=null;break;case"mousedown":YS=!0;break;case"contextmenu":case"mouseup":case"dragend":YS=!1,iC(h,n,c);break;case"selectionchange":if($5)break;case"keydown":case"keyup":iC(h,n,c)}var _;if(cT)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else tu?cL(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(uL&&n.locale!=="ko"&&(tu||R!=="onCompositionStart"?R==="onCompositionEnd"&&tu&&(_=lL()):(So=c,aT="value"in So?So.value:So.textContent,tu=!0)),k=mg(u,R),0<k.length&&(R=new G_(R,t,null,n,c),h.push({event:R,listeners:k}),_?R.data=_:(_=hL(n),_!==null&&(R.data=_)))),(_=x5?_5(t,n):C5(t,n))&&(u=mg(u,"onBeforeInput"),0<u.length&&(c=new G_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=_))}OL(h,e)})}function wf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ff(t,n),s!=null&&r.unshift(wf(t,s,i)),s=ff(t,e),s!=null&&r.push(wf(t,s,i))),t=t.return}return r}function Vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ff(n,s),l!=null&&o.unshift(wf(n,l,a))):i||(l=ff(n,s),l!=null&&o.push(wf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B5=/\r\n?/g,Q5=/\u0000|\uFFFD/g;function lC(t){return(typeof t=="string"?t:""+t).replace(B5,`
`).replace(Q5,"")}function Sp(t,e,n){if(e=lC(e),lC(t)!==e&&n)throw Error(z(425))}function gg(){}var qS=null,zS=null;function HS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WS=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,uC=typeof Promise=="function"?Promise:void 0,q5=typeof queueMicrotask=="function"?queueMicrotask:typeof uC<"u"?function(t){return uC.resolve(null).then(t).catch(z5)}:WS;function z5(t){setTimeout(function(){throw t})}function Fw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mf(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Ac,Sf="__reactProps$"+Ac,Us="__reactContainer$"+Ac,GS="__reactEvents$"+Ac,H5="__reactListeners$"+Ac,W5="__reactHandles$"+Ac;function Aa(t){var e=t[Yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Us]||n[Yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cC(t);t!==null;){if(n=t[Yi])return n;t=cC(t)}return e}t=n,n=t.parentNode}return null}function bd(t){return t=t[Yi]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ov(t){return t[Sf]||null}var XS=[],su=-1;function ha(t){return{current:t}}function st(t){0>su||(t.current=XS[su],XS[su]=null,su--)}function Ze(t,e){su++,XS[su]=t.current,t.current=e}var Xo={},Qn=ha(Xo),dr=ha(!1),Za=Xo;function Wu(t,e){var n=t.type.contextTypes;if(!n)return Xo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function yg(){st(dr),st(Qn)}function hC(t,e,n){if(Qn.current!==Xo)throw Error(z(168));Ze(Qn,e),Ze(dr,n)}function kL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,R3(t)||"Unknown",i));return wt({},n,r)}function vg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xo,Za=Qn.current,Ze(Qn,t),Ze(dr,dr.current),!0}function fC(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=kL(t,e,Za),r.__reactInternalMemoizedMergedChildContext=t,st(dr),st(Qn),Ze(Qn,t)):st(dr),Ze(dr,n)}var bs=null,Tv=!1,$w=!1;function xL(t){bs===null?bs=[t]:bs.push(t)}function G5(t){Tv=!0,xL(t)}function fa(){if(!$w&&bs!==null){$w=!0;var t=0,e=qe;try{var n=bs;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bs=null,Tv=!1}catch(i){throw bs!==null&&(bs=bs.slice(t+1)),K2(rT,fa),i}finally{qe=e,$w=!1}}return null}var ou=[],au=0,wg=null,Sg=0,Qr=[],Yr=0,el=null,ks=1,xs="";function Ea(t,e){ou[au++]=Sg,ou[au++]=wg,wg=t,Sg=e}function _L(t,e,n){Qr[Yr++]=ks,Qr[Yr++]=xs,Qr[Yr++]=el,el=t;var r=ks;t=xs;var i=32-Ti(r)-1;r&=~(1<<i),n+=1;var s=32-Ti(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ks=1<<32-Ti(e)+i|n<<i|r,xs=s+t}else ks=1<<s|n<<i|r,xs=t}function fT(t){t.return!==null&&(Ea(t,1),_L(t,1,0))}function dT(t){for(;t===wg;)wg=ou[--au],ou[au]=null,Sg=ou[--au],ou[au]=null;for(;t===el;)el=Qr[--Yr],Qr[Yr]=null,xs=Qr[--Yr],Qr[Yr]=null,ks=Qr[--Yr],Qr[Yr]=null}var Ir=null,_r=null,ct=!1,gi=null;function CL(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,_r=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=el!==null?{id:ks,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,_r=null,!0):!1;default:return!1}}function KS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function JS(t){if(ct){var e=_r;if(e){var n=e;if(!dC(t,e)){if(KS(t))throw Error(z(418));e=Po(n.nextSibling);var r=Ir;e&&dC(t,e)?CL(r,n):(t.flags=t.flags&-4097|2,ct=!1,Ir=t)}}else{if(KS(t))throw Error(z(418));t.flags=t.flags&-4097|2,ct=!1,Ir=t}}}function pC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function bp(t){if(t!==Ir)return!1;if(!ct)return pC(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HS(t.type,t.memoizedProps)),e&&(e=_r)){if(KS(t))throw IL(),Error(z(418));for(;e;)CL(t,e),e=Po(e.nextSibling)}if(pC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Ir?Po(t.stateNode.nextSibling):null;return!0}function IL(){for(var t=_r;t;)t=Po(t.nextSibling)}function Gu(){_r=Ir=null,ct=!1}function pT(t){gi===null?gi=[t]:gi.push(t)}var X5=Js.ReactCurrentBatchConfig;function pi(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bg=ha(null),Eg=null,lu=null,mT=null;function gT(){mT=lu=Eg=null}function yT(t){var e=bg.current;st(bg),t._currentValue=e}function ZS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tu(t,e){Eg=t,mT=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ur=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(mT!==t)if(t={context:t,memoizedValue:e,next:null},lu===null){if(Eg===null)throw Error(z(308));lu=t,Eg.dependencies={lanes:0,firstContext:t}}else lu=lu.next=t;return e}var Na=null;function vT(t){Na===null?Na=[t]:Na.push(t)}function AL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vs(t,r)}function Vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ao=!1;function wT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vs(t,n)}return i=r.interleaved,i===null?(e.next=e,vT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vs(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iT(t,n)}}function mC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Og(t,e,n,r){var i=t.updateQueue;ao=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,d=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=wt({},h,f);break e;case 2:ao=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nl|=o,t.lanes=o,t.memoizedState=h}}function gC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var RL=new A2.Component().refs;function eb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kv={isMounted:function(t){return(t=t._reactInternals)?bl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),i=Mo(t),s=Ns(r,i);s.payload=e,n!=null&&(s.callback=n),e=Do(t,s,i),e!==null&&(ki(e,t,i,r),xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),i=Mo(t),s=Ns(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Do(t,s,i),e!==null&&(ki(e,t,i,r),xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=Mo(t),i=Ns(n,r);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,r),e!==null&&(ki(e,t,r,n),xm(e,t,r))}};function yC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yf(n,r)||!yf(i,s):!0}function PL(t,e,n){var r=!1,i=Xo,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=pr(e)?Za:Qn.current,r=e.contextTypes,s=(r=r!=null)?Wu(t,i):Xo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kv.enqueueReplaceState(e,e.state,null)}function tb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=RL,wT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=pr(e)?Za:Qn.current,i.context=Wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kv.enqueueReplaceState(i,i.state,null),Og(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===RL&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ep(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wC(t){var e=t._init;return e(t._payload)}function DL(t){function e(m,y){if(t){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Fo(m,y),m.index=0,m.sibling=null,m}function s(m,y,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,S){return y===null||y.tag!==6?(y=qw(w,m.mode,S),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,S){var b=w.type;return b===eu?c(m,y,w.props.children,S,w.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===oo&&wC(b)===y.type)?(S=i(y,w.props),S.ref=rh(m,y,w),S.return=m,S):(S=Rm(w.type,w.key,w.props,null,m.mode,S),S.ref=rh(m,y,w),S.return=m,S)}function u(m,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=zw(w,m.mode,S),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function c(m,y,w,S,b){return y===null||y.tag!==7?(y=qa(w,m.mode,S,b),y.return=m,y):(y=i(y,w),y.return=m,y)}function h(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qw(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hp:return w=Rm(y.type,y.key,y.props,null,m.mode,w),w.ref=rh(m,null,y),w.return=m,w;case Zl:return y=zw(y,m.mode,w),y.return=m,y;case oo:var S=y._init;return h(m,S(y._payload),w)}if(bh(y)||Jc(y))return y=qa(y,m.mode,w,null),y.return=m,y;Ep(m,y)}return null}function f(m,y,w,S){var b=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(m,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hp:return w.key===b?l(m,y,w,S):null;case Zl:return w.key===b?u(m,y,w,S):null;case oo:return b=w._init,f(m,y,b(w._payload),S)}if(bh(w)||Jc(w))return b!==null?null:c(m,y,w,S,null);Ep(m,w)}return null}function d(m,y,w,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,a(y,m,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hp:return m=m.get(S.key===null?w:S.key)||null,l(y,m,S,b);case Zl:return m=m.get(S.key===null?w:S.key)||null,u(y,m,S,b);case oo:var k=S._init;return d(m,y,w,k(S._payload),b)}if(bh(S)||Jc(S))return m=m.get(w)||null,c(y,m,S,b,null);Ep(y,S)}return null}function p(m,y,w,S){for(var b=null,k=null,_=y,R=y=0,T=null;_!==null&&R<w.length;R++){_.index>R?(T=_,_=null):T=_.sibling;var C=f(m,_,w[R],S);if(C===null){_===null&&(_=T);break}t&&_&&C.alternate===null&&e(m,_),y=s(C,y,R),k===null?b=C:k.sibling=C,k=C,_=T}if(R===w.length)return n(m,_),ct&&Ea(m,R),b;if(_===null){for(;R<w.length;R++)_=h(m,w[R],S),_!==null&&(y=s(_,y,R),k===null?b=_:k.sibling=_,k=_);return ct&&Ea(m,R),b}for(_=r(m,_);R<w.length;R++)T=d(_,m,R,w[R],S),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?R:T.key),y=s(T,y,R),k===null?b=T:k.sibling=T,k=T);return t&&_.forEach(function(B){return e(m,B)}),ct&&Ea(m,R),b}function g(m,y,w,S){var b=Jc(w);if(typeof b!="function")throw Error(z(150));if(w=b.call(w),w==null)throw Error(z(151));for(var k=b=null,_=y,R=y=0,T=null,C=w.next();_!==null&&!C.done;R++,C=w.next()){_.index>R?(T=_,_=null):T=_.sibling;var B=f(m,_,C.value,S);if(B===null){_===null&&(_=T);break}t&&_&&B.alternate===null&&e(m,_),y=s(B,y,R),k===null?b=B:k.sibling=B,k=B,_=T}if(C.done)return n(m,_),ct&&Ea(m,R),b;if(_===null){for(;!C.done;R++,C=w.next())C=h(m,C.value,S),C!==null&&(y=s(C,y,R),k===null?b=C:k.sibling=C,k=C);return ct&&Ea(m,R),b}for(_=r(m,_);!C.done;R++,C=w.next())C=d(_,m,R,C.value,S),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?R:C.key),y=s(C,y,R),k===null?b=C:k.sibling=C,k=C);return t&&_.forEach(function(G){return e(m,G)}),ct&&Ea(m,R),b}function v(m,y,w,S){if(typeof w=="object"&&w!==null&&w.type===eu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hp:e:{for(var b=w.key,k=y;k!==null;){if(k.key===b){if(b=w.type,b===eu){if(k.tag===7){n(m,k.sibling),y=i(k,w.props.children),y.return=m,m=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===oo&&wC(b)===k.type){n(m,k.sibling),y=i(k,w.props),y.ref=rh(m,k,w),y.return=m,m=y;break e}n(m,k);break}else e(m,k);k=k.sibling}w.type===eu?(y=qa(w.props.children,m.mode,S,w.key),y.return=m,m=y):(S=Rm(w.type,w.key,w.props,null,m.mode,S),S.ref=rh(m,y,w),S.return=m,m=S)}return o(m);case Zl:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=zw(w,m.mode,S),y.return=m,m=y}return o(m);case oo:return k=w._init,v(m,y,k(w._payload),S)}if(bh(w))return p(m,y,w,S);if(Jc(w))return g(m,y,w,S);Ep(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,w),y.return=m,m=y):(n(m,y),y=qw(w,m.mode,S),y.return=m,m=y),o(m)):n(m,y)}return v}var Xu=DL(!0),LL=DL(!1),Ed={},es=ha(Ed),bf=ha(Ed),Ef=ha(Ed);function Ra(t){if(t===Ed)throw Error(z(174));return t}function ST(t,e){switch(Ze(Ef,e),Ze(bf,t),Ze(es,Ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=PS(e,t)}st(es),Ze(es,e)}function Ku(){st(es),st(bf),st(Ef)}function ML(t){Ra(Ef.current);var e=Ra(es.current),n=PS(e,t.type);e!==n&&(Ze(bf,t),Ze(es,n))}function bT(t){bf.current===t&&(st(es),st(bf))}var gt=ha(0);function Tg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uw=[];function ET(){for(var t=0;t<Uw.length;t++)Uw[t]._workInProgressVersionPrimary=null;Uw.length=0}var _m=Js.ReactCurrentDispatcher,Vw=Js.ReactCurrentBatchConfig,tl=0,vt=null,Yt=null,nn=null,kg=!1,qh=!1,Of=0,K5=0;function Cn(){throw Error(z(321))}function OT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function TT(t,e,n,r,i,s){if(tl=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_m.current=t===null||t.memoizedState===null?t9:n9,t=n(r,i),qh){s=0;do{if(qh=!1,Of=0,25<=s)throw Error(z(301));s+=1,nn=Yt=null,e.updateQueue=null,_m.current=r9,t=n(r,i)}while(qh)}if(_m.current=xg,e=Yt!==null&&Yt.next!==null,tl=0,nn=Yt=vt=null,kg=!1,e)throw Error(z(300));return t}function kT(){var t=Of!==0;return Of=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?vt.memoizedState=nn=t:nn=nn.next=t,nn}function ei(){if(Yt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nn===null?vt.memoizedState:nn.next;if(e!==null)nn=e,Yt=t;else{if(t===null)throw Error(z(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nn===null?vt.memoizedState=nn=t:nn=nn.next=t}return nn}function Tf(t,e){return typeof e=="function"?e(t):e}function jw(t){var e=ei(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((tl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,vt.lanes|=c,nl|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xi(r,e.memoizedState)||(ur=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,nl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bw(t){var e=ei(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xi(s,e.memoizedState)||(ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function FL(){}function $L(t,e){var n=vt,r=ei(),i=e(),s=!xi(r.memoizedState,i);if(s&&(r.memoizedState=i,ur=!0),r=r.queue,xT(jL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,kf(9,VL.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(z(349));tl&30||UL(n,e,i)}return i}function UL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VL(t,e,n,r){e.value=n,e.getSnapshot=r,BL(e)&&QL(t)}function jL(t,e,n){return n(function(){BL(e)&&QL(t)})}function BL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch{return!0}}function QL(t){var e=Vs(t,1);e!==null&&ki(e,t,1,-1)}function SC(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:t},e.queue=t,t=t.dispatch=e9.bind(null,vt,t),[e.memoizedState,t]}function kf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YL(){return ei().memoizedState}function Cm(t,e,n,r){var i=Bi();vt.flags|=t,i.memoizedState=kf(1|e,n,void 0,r===void 0?null:r)}function xv(t,e,n,r){var i=ei();r=r===void 0?null:r;var s=void 0;if(Yt!==null){var o=Yt.memoizedState;if(s=o.destroy,r!==null&&OT(r,o.deps)){i.memoizedState=kf(e,n,s,r);return}}vt.flags|=t,i.memoizedState=kf(1|e,n,s,r)}function bC(t,e){return Cm(8390656,8,t,e)}function xT(t,e){return xv(2048,8,t,e)}function qL(t,e){return xv(4,2,t,e)}function zL(t,e){return xv(4,4,t,e)}function HL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WL(t,e,n){return n=n!=null?n.concat([t]):null,xv(4,4,HL.bind(null,e,t),n)}function _T(){}function GL(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XL(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KL(t,e,n){return tl&21?(xi(n,e)||(n=eL(),vt.lanes|=n,nl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ur=!0),t.memoizedState=n)}function J5(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Vw.transition;Vw.transition={};try{t(!1),e()}finally{qe=n,Vw.transition=r}}function JL(){return ei().memoizedState}function Z5(t,e,n){var r=Mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZL(t))eM(e,n);else if(n=AL(t,e,n,r),n!==null){var i=nr();ki(n,t,r,i),tM(n,e,r)}}function e9(t,e,n){var r=Mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZL(t))eM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xi(a,o)){var l=e.interleaved;l===null?(i.next=i,vT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AL(t,e,i,r),n!==null&&(i=nr(),ki(n,t,r,i),tM(n,e,r))}}function ZL(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function eM(t,e){qh=kg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iT(t,n)}}var xg={readContext:Zr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},t9={readContext:Zr,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:bC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cm(4194308,4,HL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cm(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z5.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:SC,useDebugValue:_T,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=SC(!1),e=t[0];return t=J5.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=Bi();if(ct){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),sn===null)throw Error(z(349));tl&30||UL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bC(jL.bind(null,r,s,t),[t]),r.flags|=2048,kf(9,VL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bi(),e=sn.identifierPrefix;if(ct){var n=xs,r=ks;n=(r&~(1<<32-Ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Of++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n9={readContext:Zr,useCallback:GL,useContext:Zr,useEffect:xT,useImperativeHandle:WL,useInsertionEffect:qL,useLayoutEffect:zL,useMemo:XL,useReducer:jw,useRef:YL,useState:function(){return jw(Tf)},useDebugValue:_T,useDeferredValue:function(t){var e=ei();return KL(e,Yt.memoizedState,t)},useTransition:function(){var t=jw(Tf)[0],e=ei().memoizedState;return[t,e]},useMutableSource:FL,useSyncExternalStore:$L,useId:JL,unstable_isNewReconciler:!1},r9={readContext:Zr,useCallback:GL,useContext:Zr,useEffect:xT,useImperativeHandle:WL,useInsertionEffect:qL,useLayoutEffect:zL,useMemo:XL,useReducer:Bw,useRef:YL,useState:function(){return Bw(Tf)},useDebugValue:_T,useDeferredValue:function(t){var e=ei();return Yt===null?e.memoizedState=t:KL(e,Yt.memoizedState,t)},useTransition:function(){var t=Bw(Tf)[0],e=ei().memoizedState;return[t,e]},useMutableSource:FL,useSyncExternalStore:$L,useId:JL,unstable_isNewReconciler:!1};function Ju(t,e){try{var n="",r=e;do n+=N3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i9=typeof WeakMap=="function"?WeakMap:Map;function nM(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cg||(Cg=!0,fb=r),nb(t,e)},n}function rM(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nb(t,e),typeof r!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function EC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=v9.bind(null,t,e,n),e.then(t,t))}function OC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var s9=Js.ReactCurrentOwner,ur=!1;function Gn(t,e,n,r){e.child=t===null?LL(e,null,n,r):Xu(e,t.child,n,r)}function kC(t,e,n,r,i){n=n.render;var s=e.ref;return Tu(e,i),r=TT(t,e,n,r,s,i),n=kT(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(ct&&n&&fT(e),e.flags|=1,Gn(t,e,r,i),e.child)}function xC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!LT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iM(t,e,s,r,i)):(t=Rm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(o,r)&&t.ref===e.ref)return js(t,e,i)}return e.flags|=1,t=Fo(s,r),t.ref=e.ref,t.return=e,e.child=t}function iM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yf(s,r)&&t.ref===e.ref)if(ur=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ur=!0);else return e.lanes=t.lanes,js(t,e,i)}return rb(t,e,n,r,i)}function sM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(cu,br),br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(cu,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(cu,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(cu,br),br|=r;return Gn(t,e,i,n),e.child}function oM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rb(t,e,n,r,i){var s=pr(n)?Za:Qn.current;return s=Wu(e,s),Tu(e,i),n=TT(t,e,n,r,s,i),r=kT(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(ct&&r&&fT(e),e.flags|=1,Gn(t,e,n,i),e.child)}function _C(t,e,n,r,i){if(pr(n)){var s=!0;vg(e)}else s=!1;if(Tu(e,i),e.stateNode===null)Im(t,e),PL(e,n,r),tb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=pr(n)?Za:Qn.current,u=Wu(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vC(e,o,r,u),ao=!1;var f=e.memoizedState;o.state=f,Og(e,r,o,i),l=e.memoizedState,a!==r||f!==l||dr.current||ao?(typeof c=="function"&&(eb(e,n,c,r),l=e.memoizedState),(a=ao||yC(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NL(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:pi(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=pr(n)?Za:Qn.current,l=Wu(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&vC(e,o,r,l),ao=!1,f=e.memoizedState,o.state=f,Og(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||dr.current||ao?(typeof d=="function"&&(eb(e,n,d,r),p=e.memoizedState),(u=ao||yC(e,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ib(t,e,n,r,s,i)}function ib(t,e,n,r,i,s){oM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fC(e,n,!1),js(t,e,s);r=e.stateNode,s9.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&fC(e,n,!0),e.child}function aM(t){var e=t.stateNode;e.pendingContext?hC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hC(t,e.context,!1),ST(t,e.containerInfo)}function CC(t,e,n,r,i){return Gu(),pT(i),e.flags|=256,Gn(t,e,n,r),e.child}var sb={dehydrated:null,treeContext:null,retryLane:0};function ob(t){return{baseLanes:t,cachePool:null,transitions:null}}function lM(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(gt,i&1),t===null)return JS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Iv(o,r,0,null),t=qa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ob(n),e.memoizedState=sb,t):CT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return o9(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fo(a,s):(s=qa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ob(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sb,r}return s=t.child,t=s.sibling,r=Fo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CT(t,e){return e=Iv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Op(t,e,n,r){return r!==null&&pT(r),Xu(e,t.child,null,n),t=CT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o9(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qw(Error(z(422))),Op(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Iv({mode:"visible",children:r.children},i,0,null),s=qa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=ob(o),e.memoizedState=sb,s);if(!(e.mode&1))return Op(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Qw(s,r,void 0),Op(t,e,o,r)}if(a=(o&t.childLanes)!==0,ur||a){if(r=sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vs(t,i),ki(r,t,i,-1))}return DT(),r=Qw(Error(z(421))),Op(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_r=Po(i.nextSibling),Ir=e,ct=!0,gi=null,t!==null&&(Qr[Yr++]=ks,Qr[Yr++]=xs,Qr[Yr++]=el,ks=t.id,xs=t.overflow,el=e),e=CT(e,r.children),e.flags|=4096,e)}function IC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ZS(t.return,e,n)}function Yw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IC(t,n,e);else if(t.tag===19)IC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yw(e,!0,n,null,s);break;case"together":Yw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Im(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a9(t,e,n){switch(e.tag){case 3:aM(e),Gu();break;case 5:ML(e);break;case 1:pr(e.type)&&vg(e);break;case 4:ST(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(bg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?lM(t,e,n):(Ze(gt,gt.current&1),t=js(t,e,n),t!==null?t.sibling:null);Ze(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,sM(t,e,n)}return js(t,e,n)}var cM,ab,hM,fM;cM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ab=function(){};hM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ra(es.current);var s=null;switch(n){case"input":i=IS(t,i),r=IS(t,r),s=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),s=[];break;case"textarea":i=RS(t,i),r=RS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gg)}DS(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fM=function(t,e,n,r){n!==r&&(e.flags|=4)};function ih(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l9(t,e,n){var r=e.pendingProps;switch(dT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return pr(e.type)&&yg(),In(e),null;case 3:return r=e.stateNode,Ku(),st(dr),st(Qn),ET(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gi!==null&&(mb(gi),gi=null))),ab(t,e),In(e),null;case 5:bT(e);var i=Ra(Ef.current);if(n=e.type,t!==null&&e.stateNode!=null)hM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return In(e),null}if(t=Ra(es.current),bp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yi]=e,r[Sf]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<Oh.length;i++)tt(Oh[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":$_(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":V_(r,s),tt("invalid",r)}DS(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sp(r.textContent,a,t),i=["children",""+a]):cf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":fp(r),U_(r,s,!0);break;case"textarea":fp(r),j_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yi]=e,t[Sf]=r,cM(t,e,!1,!1),e.stateNode=t;e:{switch(o=LS(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oh.length;i++)tt(Oh[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":$_(t,r),i=IS(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),tt("invalid",t);break;case"textarea":V_(t,r),i=RS(t,r),tt("invalid",t);break;default:i=r}DS(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?B2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hf(t,l):typeof l=="number"&&hf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&JO(t,s,l,o))}switch(n){case"input":fp(t),U_(t,r,!1);break;case"textarea":fp(t),j_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Go(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Su(t,!!r.multiple,s,!1):r.defaultValue!=null&&Su(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)fM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ra(Ef.current),Ra(es.current),bp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yi]=e,(s=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:Sp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yi]=e,e.stateNode=r}return In(e),null;case 13:if(st(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&_r!==null&&e.mode&1&&!(e.flags&128))IL(),Gu(),e.flags|=98560,s=!1;else if(s=bp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Yi]=e}else Gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else gi!==null&&(mb(gi),gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?zt===0&&(zt=3):DT())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return Ku(),ab(t,e),t===null&&vf(e.stateNode.containerInfo),In(e),null;case 10:return yT(e.type._context),In(e),null;case 17:return pr(e.type)&&yg(),In(e),null;case 19:if(st(gt),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ih(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tg(t),o!==null){for(e.flags|=128,ih(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>Zu&&(e.flags|=128,r=!0,ih(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return In(e),null}else 2*At()-s.renderingStartTime>Zu&&n!==1073741824&&(e.flags|=128,r=!0,ih(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=gt.current,Ze(gt,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return PT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function u9(t,e){switch(dT(e),e.tag){case 1:return pr(e.type)&&yg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ku(),st(dr),st(Qn),ET(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bT(e),null;case 13:if(st(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Gu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(gt),null;case 4:return Ku(),null;case 10:return yT(e.type._context),null;case 22:case 23:return PT(),null;case 24:return null;default:return null}}var Tp=!1,Ln=!1,c9=typeof WeakSet=="function"?WeakSet:Set,oe=null;function uu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ot(t,e,r)}else n.current=null}function lb(t,e,n){try{n()}catch(r){Ot(t,e,r)}}var AC=!1;function h9(t,e){if(qS=dg,t=gL(),hT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zS={focusedElem:t,selectionRange:n},dg=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:pi(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){Ot(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return p=AC,AC=!1,p}function zh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lb(e,n,s)}i=i.next}while(i!==r)}}function _v(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ub(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dM(t){var e=t.alternate;e!==null&&(t.alternate=null,dM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Sf],delete e[GS],delete e[H5],delete e[W5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pM(t){return t.tag===5||t.tag===3||t.tag===4}function NC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gg));else if(r!==4&&(t=t.child,t!==null))for(cb(t,e,n),t=t.sibling;t!==null;)cb(t,e,n),t=t.sibling}function hb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hb(t,e,n),t=t.sibling;t!==null;)hb(t,e,n),t=t.sibling}var fn=null,mi=!1;function ro(t,e,n){for(n=n.child;n!==null;)mM(t,e,n),n=n.sibling}function mM(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(wv,n)}catch{}switch(n.tag){case 5:Ln||uu(n,e);case 6:var r=fn,i=mi;fn=null,ro(t,e,n),fn=r,mi=i,fn!==null&&(mi?(t=fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fn.removeChild(n.stateNode));break;case 18:fn!==null&&(mi?(t=fn,n=n.stateNode,t.nodeType===8?Fw(t.parentNode,n):t.nodeType===1&&Fw(t,n),mf(t)):Fw(fn,n.stateNode));break;case 4:r=fn,i=mi,fn=n.stateNode.containerInfo,mi=!0,ro(t,e,n),fn=r,mi=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lb(n,e,o),i=i.next}while(i!==r)}ro(t,e,n);break;case 1:if(!Ln&&(uu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ot(n,e,a)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,ro(t,e,n),Ln=r):ro(t,e,n);break;default:ro(t,e,n)}}function RC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c9),e.forEach(function(r){var i=S9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fn=a.stateNode,mi=!1;break e;case 3:fn=a.stateNode.containerInfo,mi=!0;break e;case 4:fn=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(fn===null)throw Error(z(160));mM(s,o,i),fn=null,mi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gM(e,t),e=e.sibling}function gM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ui(e,t),Di(t),r&4){try{zh(3,t,t.return),_v(3,t)}catch(g){Ot(t,t.return,g)}try{zh(5,t,t.return)}catch(g){Ot(t,t.return,g)}}break;case 1:ui(e,t),Di(t),r&512&&n!==null&&uu(n,n.return);break;case 5:if(ui(e,t),Di(t),r&512&&n!==null&&uu(n,n.return),t.flags&32){var i=t.stateNode;try{hf(i,"")}catch(g){Ot(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F2(i,s),LS(a,o);var u=LS(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?B2(i,h):c==="dangerouslySetInnerHTML"?V2(i,h):c==="children"?hf(i,h):JO(i,c,h,u)}switch(a){case"input":AS(i,s);break;case"textarea":$2(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Su(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Su(i,!!s.multiple,s.defaultValue,!0):Su(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sf]=s}catch(g){Ot(t,t.return,g)}}break;case 6:if(ui(e,t),Di(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ot(t,t.return,g)}}break;case 3:if(ui(e,t),Di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mf(e.containerInfo)}catch(g){Ot(t,t.return,g)}break;case 4:ui(e,t),Di(t);break;case 13:ui(e,t),Di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(NT=At())),r&4&&RC(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||c,ui(e,t),Ln=u):ui(e,t),Di(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(h=oe=c;oe!==null;){switch(f=oe,d=f.child,f.tag){case 0:case 11:case 14:case 15:zh(4,f,f.return);break;case 1:uu(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ot(r,n,g)}}break;case 5:uu(f,f.return);break;case 22:if(f.memoizedState!==null){DC(h);continue}}d!==null?(d.return=f,oe=d):DC(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=j2("display",o))}catch(g){Ot(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ot(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ui(e,t),Di(t),r&4&&RC(t);break;case 21:break;default:ui(e,t),Di(t)}}function Di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pM(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hf(i,""),r.flags&=-33);var s=NC(t);hb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NC(t);cb(t,a,o);break;default:throw Error(z(161))}}catch(l){Ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f9(t,e,n){oe=t,yM(t)}function yM(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=Tp;var u=Ln;if(Tp=o,(Ln=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?LC(i):l!==null?(l.return=o,oe=l):LC(i);for(;s!==null;)oe=s,yM(s),s=s.sibling;oe=i,Tp=a,Ln=u}PC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):PC(t)}}function PC(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||_v(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&mf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ln||e.flags&512&&ub(e)}catch(f){Ot(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function DC(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function LC(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_v(4,e)}catch(l){Ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ot(e,i,l)}}var s=e.return;try{ub(e)}catch(l){Ot(e,s,l)}break;case 5:var o=e.return;try{ub(e)}catch(l){Ot(e,o,l)}}}catch(l){Ot(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var d9=Math.ceil,_g=Js.ReactCurrentDispatcher,IT=Js.ReactCurrentOwner,Xr=Js.ReactCurrentBatchConfig,Fe=0,sn=null,Vt=null,En=0,br=0,cu=ha(0),zt=0,xf=null,nl=0,Cv=0,AT=0,Hh=null,ar=null,NT=0,Zu=1/0,ws=null,Cg=!1,fb=null,Lo=null,kp=!1,bo=null,Ig=0,Wh=0,db=null,Am=-1,Nm=0;function nr(){return Fe&6?At():Am!==-1?Am:Am=At()}function Mo(t){return t.mode&1?Fe&2&&En!==0?En&-En:X5.transition!==null?(Nm===0&&(Nm=eL()),Nm):(t=qe,t!==0||(t=window.event,t=t===void 0?16:aL(t.type)),t):1}function ki(t,e,n,r){if(50<Wh)throw Wh=0,db=null,Error(z(185));wd(t,n,r),(!(Fe&2)||t!==sn)&&(t===sn&&(!(Fe&2)&&(Cv|=n),zt===4&&po(t,En)),mr(t,r),n===1&&Fe===0&&!(e.mode&1)&&(Zu=At()+500,Tv&&fa()))}function mr(t,e){var n=t.callbackNode;X3(t,e);var r=fg(t,t===sn?En:0);if(r===0)n!==null&&Y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y_(n),e===1)t.tag===0?G5(MC.bind(null,t)):xL(MC.bind(null,t)),q5(function(){!(Fe&6)&&fa()}),n=null;else{switch(tL(r)){case 1:n=rT;break;case 4:n=J2;break;case 16:n=hg;break;case 536870912:n=Z2;break;default:n=hg}n=kM(n,vM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vM(t,e){if(Am=-1,Nm=0,Fe&6)throw Error(z(327));var n=t.callbackNode;if(ku()&&t.callbackNode!==n)return null;var r=fg(t,t===sn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ag(t,r);else{e=r;var i=Fe;Fe|=2;var s=SM();(sn!==t||En!==e)&&(ws=null,Zu=At()+500,Ya(t,e));do try{g9();break}catch(a){wM(t,a)}while(1);gT(),_g.current=s,Fe=i,Vt!==null?e=0:(sn=null,En=0,e=zt)}if(e!==0){if(e===2&&(i=VS(t),i!==0&&(r=i,e=pb(t,i))),e===1)throw n=xf,Ya(t,0),po(t,r),mr(t,At()),n;if(e===6)po(t,r);else{if(i=t.current.alternate,!(r&30)&&!p9(i)&&(e=Ag(t,r),e===2&&(s=VS(t),s!==0&&(r=s,e=pb(t,s))),e===1))throw n=xf,Ya(t,0),po(t,r),mr(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Oa(t,ar,ws);break;case 3:if(po(t,r),(r&130023424)===r&&(e=NT+500-At(),10<e)){if(fg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=WS(Oa.bind(null,t,ar,ws),e);break}Oa(t,ar,ws);break;case 4:if(po(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ti(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d9(r/1960))-r,10<r){t.timeoutHandle=WS(Oa.bind(null,t,ar,ws),r);break}Oa(t,ar,ws);break;case 5:Oa(t,ar,ws);break;default:throw Error(z(329))}}}return mr(t,At()),t.callbackNode===n?vM.bind(null,t):null}function pb(t,e){var n=Hh;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=Ag(t,e),t!==2&&(e=ar,ar=n,e!==null&&mb(e)),t}function mb(t){ar===null?ar=t:ar.push.apply(ar,t)}function p9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(t,e){for(e&=~AT,e&=~Cv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ti(e),r=1<<n;t[n]=-1,e&=~r}}function MC(t){if(Fe&6)throw Error(z(327));ku();var e=fg(t,0);if(!(e&1))return mr(t,At()),null;var n=Ag(t,e);if(t.tag!==0&&n===2){var r=VS(t);r!==0&&(e=r,n=pb(t,r))}if(n===1)throw n=xf,Ya(t,0),po(t,e),mr(t,At()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,ar,ws),mr(t,At()),null}function RT(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(Zu=At()+500,Tv&&fa())}}function rl(t){bo!==null&&bo.tag===0&&!(Fe&6)&&ku();var e=Fe;Fe|=1;var n=Xr.transition,r=qe;try{if(Xr.transition=null,qe=1,t)return t()}finally{qe=r,Xr.transition=n,Fe=e,!(Fe&6)&&fa()}}function PT(){br=cu.current,st(cu)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y5(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(dT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yg();break;case 3:Ku(),st(dr),st(Qn),ET();break;case 5:bT(r);break;case 4:Ku();break;case 13:st(gt);break;case 19:st(gt);break;case 10:yT(r.type._context);break;case 22:case 23:PT()}n=n.return}if(sn=t,Vt=t=Fo(t.current,null),En=br=e,zt=0,xf=null,AT=Cv=nl=0,ar=Hh=null,Na!==null){for(e=0;e<Na.length;e++)if(n=Na[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Na=null}return t}function wM(t,e){do{var n=Vt;try{if(gT(),_m.current=xg,kg){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kg=!1}if(tl=0,nn=Yt=vt=null,qh=!1,Of=0,IT.current=null,n===null||n.return===null){zt=1,xf=e,Vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=OC(o);if(d!==null){d.flags&=-257,TC(d,o,a,s,e),d.mode&1&&EC(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){EC(s,u,e),DT();break e}l=Error(z(426))}}else if(ct&&a.mode&1){var v=OC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TC(v,o,a,s,e),pT(Ju(l,a));break e}}s=l=Ju(l,a),zt!==4&&(zt=2),Hh===null?Hh=[s]:Hh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=nM(s,l,e);mC(s,m);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lo===null||!Lo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=rM(s,a,e);mC(s,S);break e}}s=s.return}while(s!==null)}EM(n)}catch(b){e=b,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(1)}function SM(){var t=_g.current;return _g.current=xg,t===null?xg:t}function DT(){(zt===0||zt===3||zt===2)&&(zt=4),sn===null||!(nl&268435455)&&!(Cv&268435455)||po(sn,En)}function Ag(t,e){var n=Fe;Fe|=2;var r=SM();(sn!==t||En!==e)&&(ws=null,Ya(t,e));do try{m9();break}catch(i){wM(t,i)}while(1);if(gT(),Fe=n,_g.current=r,Vt!==null)throw Error(z(261));return sn=null,En=0,zt}function m9(){for(;Vt!==null;)bM(Vt)}function g9(){for(;Vt!==null&&!j3();)bM(Vt)}function bM(t){var e=TM(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?EM(t):Vt=e,IT.current=null}function EM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u9(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Vt=null;return}}else if(n=l9(n,e,br),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);zt===0&&(zt=5)}function Oa(t,e,n){var r=qe,i=Xr.transition;try{Xr.transition=null,qe=1,y9(t,e,n,r)}finally{Xr.transition=i,qe=r}return null}function y9(t,e,n,r){do ku();while(bo!==null);if(Fe&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(K3(t,s),t===sn&&(Vt=sn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kp||(kp=!0,kM(hg,function(){return ku(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=qe;qe=1;var a=Fe;Fe|=4,IT.current=null,h9(t,n),gM(n,t),F5(zS),dg=!!qS,zS=qS=null,t.current=n,f9(n),B3(),Fe=a,qe=o,Xr.transition=s}else t.current=n;if(kp&&(kp=!1,bo=t,Ig=i),s=t.pendingLanes,s===0&&(Lo=null),q3(n.stateNode),mr(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cg)throw Cg=!1,t=fb,fb=null,t;return Ig&1&&t.tag!==0&&ku(),s=t.pendingLanes,s&1?t===db?Wh++:(Wh=0,db=t):Wh=0,fa(),null}function ku(){if(bo!==null){var t=tL(Ig),e=Xr.transition,n=qe;try{if(Xr.transition=null,qe=16>t?16:t,bo===null)var r=!1;else{if(t=bo,bo=null,Ig=0,Fe&6)throw Error(z(331));var i=Fe;for(Fe|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:zh(8,c,s)}var h=c.child;if(h!==null)h.return=c,oe=h;else for(;oe!==null;){c=oe;var f=c.sibling,d=c.return;if(dM(c),c===u){oe=null;break}if(f!==null){f.return=d,oe=f;break}oe=d}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zh(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,oe=m;break e}oe=s.return}}var y=t.current;for(oe=y;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=y;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_v(9,a)}}catch(b){Ot(a,a.return,b)}if(a===o){oe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,oe=S;break e}oe=a.return}}if(Fe=i,fa(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(wv,t)}catch{}r=!0}return r}finally{qe=n,Xr.transition=e}}return!1}function FC(t,e,n){e=Ju(n,e),e=nM(t,e,1),t=Do(t,e,1),e=nr(),t!==null&&(wd(t,1,e),mr(t,e))}function Ot(t,e,n){if(t.tag===3)FC(t,t,n);else for(;e!==null;){if(e.tag===3){FC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lo===null||!Lo.has(r))){t=Ju(n,t),t=rM(e,t,1),e=Do(e,t,1),t=nr(),e!==null&&(wd(e,1,t),mr(e,t));break}}e=e.return}}function v9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(En&n)===n&&(zt===4||zt===3&&(En&130023424)===En&&500>At()-NT?Ya(t,0):AT|=n),mr(t,e)}function OM(t,e){e===0&&(t.mode&1?(e=mp,mp<<=1,!(mp&130023424)&&(mp=4194304)):e=1);var n=nr();t=Vs(t,e),t!==null&&(wd(t,e,n),mr(t,n))}function w9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OM(t,n)}function S9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),OM(t,n)}var TM;TM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)ur=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ur=!1,a9(t,e,n);ur=!!(t.flags&131072)}else ur=!1,ct&&e.flags&1048576&&_L(e,Sg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Im(t,e),t=e.pendingProps;var i=Wu(e,Qn.current);Tu(e,n),i=TT(null,e,r,t,i,n);var s=kT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,vg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wT(e),i.updater=kv,e.stateNode=i,i._reactInternals=e,tb(e,r,t,n),e=ib(null,e,r,!0,s,n)):(e.tag=0,ct&&s&&fT(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Im(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E9(r),t=pi(r,t),i){case 0:e=rb(null,e,r,t,n);break e;case 1:e=_C(null,e,r,t,n);break e;case 11:e=kC(null,e,r,t,n);break e;case 14:e=xC(null,e,r,pi(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),rb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),_C(t,e,r,i,n);case 3:e:{if(aM(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NL(t,e),Og(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ju(Error(z(423)),e),e=CC(t,e,r,n,i);break e}else if(r!==i){i=Ju(Error(z(424)),e),e=CC(t,e,r,n,i);break e}else for(_r=Po(e.stateNode.containerInfo.firstChild),Ir=e,ct=!0,gi=null,n=LL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gu(),r===i){e=js(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return ML(e),t===null&&JS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,HS(r,i)?o=null:s!==null&&HS(r,s)&&(e.flags|=32),oM(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&JS(e),null;case 13:return lM(t,e,n);case 4:return ST(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),kC(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(bg,r._currentValue),r._currentValue=o,s!==null)if(xi(s.value,o)){if(s.children===i.children&&!dr.current){e=js(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ns(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ZS(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ZS(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tu(e,n),i=Zr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=pi(r,e.pendingProps),i=pi(r.type,i),xC(t,e,r,i,n);case 15:return iM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),Im(t,e),e.tag=1,pr(r)?(t=!0,vg(e)):t=!1,Tu(e,n),PL(e,r,i),tb(e,r,i,n),ib(null,e,r,!0,t,n);case 19:return uM(t,e,n);case 22:return sM(t,e,n)}throw Error(z(156,e.tag))};function kM(t,e){return K2(t,e)}function b9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new b9(t,e,n,r)}function LT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E9(t){if(typeof t=="function")return LT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eT)return 11;if(t===tT)return 14}return 2}function Fo(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")LT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eu:return qa(n.children,i,s,e);case ZO:o=8,i|=8;break;case kS:return t=Wr(12,n,e,i|2),t.elementType=kS,t.lanes=s,t;case xS:return t=Wr(13,n,e,i),t.elementType=xS,t.lanes=s,t;case _S:return t=Wr(19,n,e,i),t.elementType=_S,t.lanes=s,t;case D2:return Iv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R2:o=10;break e;case P2:o=9;break e;case eT:o=11;break e;case tT:o=14;break e;case oo:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qa(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function Iv(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=D2,t.lanes=n,t.stateNode={isHidden:!1},t}function qw(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function zw(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xw(0),this.expirationTimes=xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MT(t,e,n,r,i,s,o,a,l){return t=new O9(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wT(s),t}function T9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xM(t){if(!t)return Xo;t=t._reactInternals;e:{if(bl(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(pr(n))return kL(t,n,e)}return e}function _M(t,e,n,r,i,s,o,a,l){return t=MT(n,r,!0,t,i,s,o,a,l),t.context=xM(null),n=t.current,r=nr(),i=Mo(n),s=Ns(r,i),s.callback=e??null,Do(n,s,i),t.current.lanes=i,wd(t,i,r),mr(t,r),t}function Av(t,e,n,r){var i=e.current,s=nr(),o=Mo(i);return n=xM(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(i,e,o),t!==null&&(ki(t,i,o,s),xm(t,i,o)),o}function Ng(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $C(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FT(t,e){$C(t,e),(t=t.alternate)&&$C(t,e)}function k9(){return null}var CM=typeof reportError=="function"?reportError:function(t){console.error(t)};function $T(t){this._internalRoot=t}Nv.prototype.render=$T.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Av(t,e,null,null)};Nv.prototype.unmount=$T.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){Av(null,t,null,null)}),e[Us]=null}};function Nv(t){this._internalRoot=t}Nv.prototype.unstable_scheduleHydration=function(t){if(t){var e=iL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fo.length&&e!==0&&e<fo[n].priority;n++);fo.splice(n,0,t),n===0&&oL(t)}};function UT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UC(){}function x9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ng(o);s.call(u)}}var o=_M(e,r,t,0,null,!1,!1,"",UC);return t._reactRootContainer=o,t[Us]=o.current,vf(t.nodeType===8?t.parentNode:t),rl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ng(l);a.call(u)}}var l=MT(t,0,!1,null,null,!1,!1,"",UC);return t._reactRootContainer=l,t[Us]=l.current,vf(t.nodeType===8?t.parentNode:t),rl(function(){Av(e,l,n,r)}),l}function Pv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ng(o);a.call(l)}}Av(e,o,t,i)}else o=x9(n,e,t,i,r);return Ng(o)}nL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eh(e.pendingLanes);n!==0&&(iT(e,n|1),mr(e,At()),!(Fe&6)&&(Zu=At()+500,fa()))}break;case 13:rl(function(){var r=Vs(t,1);if(r!==null){var i=nr();ki(r,t,1,i)}}),FT(t,1)}};sT=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var n=nr();ki(e,t,134217728,n)}FT(t,134217728)}};rL=function(t){if(t.tag===13){var e=Mo(t),n=Vs(t,e);if(n!==null){var r=nr();ki(n,t,e,r)}FT(t,e)}};iL=function(){return qe};sL=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};FS=function(t,e,n){switch(e){case"input":if(AS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ov(r);if(!i)throw Error(z(90));M2(r),AS(r,i)}}}break;case"textarea":$2(t,n);break;case"select":e=n.value,e!=null&&Su(t,!!n.multiple,e,!1)}};q2=RT;z2=rl;var _9={usingClientEntryPoint:!1,Events:[bd,iu,Ov,Q2,Y2,RT]},sh={findFiberByHostInstance:Aa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C9={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G2(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||k9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{wv=xp.inject(C9),Zi=xp}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_9;Fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UT(e))throw Error(z(200));return T9(t,e,null,n)};Fr.createRoot=function(t,e){if(!UT(t))throw Error(z(299));var n=!1,r="",i=CM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MT(t,1,!1,null,null,n,!1,r,i),t[Us]=e.current,vf(t.nodeType===8?t.parentNode:t),new $T(e)};Fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=G2(e),t=t===null?null:t.stateNode,t};Fr.flushSync=function(t){return rl(t)};Fr.hydrate=function(t,e,n){if(!Rv(e))throw Error(z(200));return Pv(null,t,e,!0,n)};Fr.hydrateRoot=function(t,e,n){if(!UT(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_M(e,null,t,1,n??null,i,!1,s,o),t[Us]=e.current,vf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nv(e)};Fr.render=function(t,e,n){if(!Rv(e))throw Error(z(200));return Pv(null,t,e,!1,n)};Fr.unmountComponentAtNode=function(t){if(!Rv(t))throw Error(z(40));return t._reactRootContainer?(rl(function(){Pv(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};Fr.unstable_batchedUpdates=RT;Fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rv(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Pv(t,e,n,!1,r)};Fr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Fr})(k3);var VC=uf;ES.createRoot=VC.createRoot,ES.hydrateRoot=VC.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}var Eo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Eo||(Eo={}));const jC="popstate";function I9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return gb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rg(i)}return N9(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A9(){return Math.random().toString(36).substr(2,8)}function BC(t,e){return{usr:t.state,key:t.key,idx:e}}function gb(t,e,n,r){return n===void 0&&(n=null),_f({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nc(e):e,{state:n,key:e&&e.key||r||A9()})}function Rg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function N9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Eo.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_f({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Eo.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:m})}function f(v,m){a=Eo.Push;let y=gb(g.location,v,m);n&&n(y,v),u=c()+1;let w=BC(y,u),S=g.createHref(y);try{o.pushState(w,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function d(v,m){a=Eo.Replace;let y=gb(g.location,v,m);n&&n(y,v),u=c();let w=BC(y,u),S=g.createHref(y);o.replaceState(w,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Rg(v);return Rt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jC,h),l=v,()=>{i.removeEventListener(jC,h),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(v){return o.go(v)}};return g}var QC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QC||(QC={}));function R9(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Nc(e):e,i=jT(r.pathname||"/",n);if(i==null)return null;let s=IM(t);P9(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=B9(s[a],q9(i));return o}function IM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$o([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IM(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:V9(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AM(s.path))i(s,o,l)}),e}function AM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function P9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D9=/^:\w+$/,L9=3,M9=2,F9=1,$9=10,U9=-2,YC=t=>t==="*";function V9(t,e){let n=t.split("/"),r=n.length;return n.some(YC)&&(r+=U9),e&&(r+=M9),n.filter(i=>!YC(i)).reduce((i,s)=>i+(D9.test(s)?L9:s===""?F9:$9),r)}function j9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B9(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Q9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:$o([i,c.pathname]),pathnameBase:G9($o([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=$o([i,c.pathnameBase]))}return s}function Q9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=z9(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Y9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function q9(t){try{return decodeURI(t)}catch(e){return VT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z9(t,e){try{return decodeURIComponent(t)}catch(n){return VT(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function jT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:W9(n,e):e,search:X9(r),hash:K9(i)}}function W9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nc(t):(i=_f({},t),Rt(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=H9(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),G9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PM=["post","put","patch","delete"];new Set(PM);const Z9=["get",...PM];new Set(Z9);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}const BT=x.createContext(null),QT=x.createContext(null),El=x.createContext(null),Dv=x.createContext(null),Ol=x.createContext({outlet:null,matches:[]}),DM=x.createContext(null);function eq(t,e){let{relative:n}=e===void 0?{}:e;Rc()||Rt(!1);let{basename:r,navigator:i}=x.useContext(El),{hash:s,pathname:o,search:a}=YT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$o([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Rc(){return x.useContext(Dv)!=null}function Tl(){return Rc()||Rt(!1),x.useContext(Dv).location}function LM(t){x.useContext(El).static||x.useLayoutEffect(t)}function kl(){return x.useContext(BT)!=null?mq():tq()}function tq(){Rc()||Rt(!1);let{basename:t,navigator:e}=x.useContext(El),{matches:n}=x.useContext(Ol),{pathname:r}=Tl(),i=JSON.stringify(NM(n).map(a=>a.pathnameBase)),s=x.useRef(!1);return LM(()=>{s.current=!0}),x.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=RM(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:$o([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const nq=x.createContext(null);function rq(t){let e=x.useContext(Ol).outlet;return e&&x.createElement(nq.Provider,{value:t},e)}function YT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(Ol),{pathname:i}=Tl(),s=JSON.stringify(NM(r).map(o=>o.pathnameBase));return x.useMemo(()=>RM(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function iq(t,e){return sq(t,e)}function sq(t,e,n){Rc()||Rt(!1);let{navigator:r}=x.useContext(El),{matches:i}=x.useContext(Ol),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Tl(),u;if(e){var c;let g=typeof e=="string"?Nc(e):e;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Rt(!1),u=g}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=R9(t,{pathname:f}),p=cq(d&&d.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:$o([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:$o([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return e&&p?x.createElement(Dv.Provider,{value:{location:Pg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Eo.Pop}},p):p}function oq(){let t=pq(),e=J9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const aq=x.createElement(oq,null);class lq extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(Ol.Provider,{value:this.props.routeContext},x.createElement(DM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uq(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(BT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ol.Provider,{value:e},r)}function cq(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Rt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||aq);let f=e.concat(s.slice(0,u+1)),d=()=>{let p;return c?p=h:l.route.element?p=l.route.element:p=a,x.createElement(uq,{match:l,routeContext:{outlet:a,matches:f},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?x.createElement(lq,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f}}):d()},null)}var yb;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(yb||(yb={}));var Cf;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Cf||(Cf={}));function hq(t){let e=x.useContext(BT);return e||Rt(!1),e}function fq(t){let e=x.useContext(QT);return e||Rt(!1),e}function dq(t){let e=x.useContext(Ol);return e||Rt(!1),e}function MM(t){let e=dq(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function pq(){var t;let e=x.useContext(DM),n=fq(Cf.UseRouteError),r=MM(Cf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function mq(){let{router:t}=hq(yb.UseNavigateStable),e=MM(Cf.UseNavigateStable),n=x.useRef(!1);return LM(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pg({fromRouteId:e},s)))},[t,e])}function vb(t){let{to:e,replace:n,state:r,relative:i}=t;Rc()||Rt(!1);let s=x.useContext(QT),o=kl();return x.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function gq(t){return rq(t.context)}function Wl(t){Rt(!1)}function yq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Eo.Pop,navigator:s,static:o=!1}=t;Rc()&&Rt(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Nc(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,p=x.useMemo(()=>{let g=jT(u,a);return g==null?null:{location:{pathname:g,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return p==null?null:x.createElement(El.Provider,{value:l},x.createElement(Dv.Provider,{children:n,value:p}))}function vq(t){let{children:e,location:n}=t;return iq(wb(e),n)}var qC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(qC||(qC={}));new Promise(()=>{});function wb(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,wb(r.props.children,s));return}r.type!==Wl&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function FM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sq(t,e){return t.button===0&&(!e||e==="_self")&&!wq(t)}const bq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Eq=["aria-current","caseSensitive","className","end","style","to","children"];function Oq(t){let{basename:e,children:n,window:r}=t,i=x.useRef();i.current==null&&(i.current=I9({window:r,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location});return x.useLayoutEffect(()=>s.listen(a),[s]),x.createElement(yq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const Tq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=FM(e,bq),{basename:f}=x.useContext(El),d,p=!1;if(typeof u=="string"&&kq.test(u)&&(d=u,Tq))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=jT(w.pathname,f);w.origin===y.origin&&S!=null?u=S+w.search+w.hash:p=!0}catch{}let g=eq(u,{relative:i}),v=xq(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function m(y){r&&r(y),y.defaultPrevented||v(y)}return x.createElement("a",Dg({},h,{href:d||g,onClick:p||s?r:m,ref:n,target:l}))}),$M=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=FM(e,Eq),h=YT(l,{relative:c.relative}),f=Tl(),d=x.useContext(QT),{navigator:p}=x.useContext(El),g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,v=f.pathname,m=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;i||(v=v.toLowerCase(),m=m?m.toLowerCase():null,g=g.toLowerCase());let y=v===g||!o&&v.startsWith(g)&&v.charAt(g.length)==="/",w=m!=null&&(m===g||!o&&m.startsWith(g)&&m.charAt(g.length)==="/"),S=y?r:void 0,b;typeof s=="function"?b=s({isActive:y,isPending:w}):b=[s,y?"active":null,w?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:y,isPending:w}):a;return x.createElement(Sb,Dg({},c,{"aria-current":S,className:b,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:y,isPending:w}):u)});var zC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(zC||(zC={}));var HC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HC||(HC={}));function xq(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=kl(),l=Tl(),u=YT(t,{relative:o});return x.useCallback(c=>{if(Sq(c,n)){c.preventDefault();let h=r!==void 0?r:Rg(l)===Rg(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var Lg={},_q={get exports(){return Lg},set exports(t){Lg=t}},UM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=x;function Cq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Iq=typeof Object.is=="function"?Object.is:Cq,Aq=ec.useState,Nq=ec.useEffect,Rq=ec.useLayoutEffect,Pq=ec.useDebugValue;function Dq(t,e){var n=e(),r=Aq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Rq(function(){i.value=n,i.getSnapshot=e,Ww(i)&&s({inst:i})},[t,n,e]),Nq(function(){return Ww(i)&&s({inst:i}),t(function(){Ww(i)&&s({inst:i})})},[t]),Pq(n),n}function Ww(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Iq(t,n)}catch{return!0}}function Lq(t,e){return e()}var Mq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lq:Dq;UM.useSyncExternalStore=ec.useSyncExternalStore!==void 0?ec.useSyncExternalStore:Mq;(function(t){t.exports=UM})(_q);var bb={},Fq={get exports(){return bb},set exports(t){bb=t}},VM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=x,$q=Lg;function Uq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vq=typeof Object.is=="function"?Object.is:Uq,jq=$q.useSyncExternalStore,Bq=Lv.useRef,Qq=Lv.useEffect,Yq=Lv.useMemo,qq=Lv.useDebugValue;VM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Bq(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Yq(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return h=p}return h=d}if(p=h,Vq(c,d))return p;var g=r(d);return i!==void 0&&i(p,g)?p:(c=d,h=g)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=jq(t,s[0],s[1]);return Qq(function(){o.hasValue=!0,o.value=a},[a]),qq(a),a};(function(t){t.exports=VM})(Fq);function zq(t){t()}let jM=zq;const Hq=t=>jM=t,Wq=()=>jM,Ko=x.createContext(null);function BM(){return x.useContext(Ko)}const Gq=()=>{throw new Error("uSES not initialized!")};let QM=Gq;const Xq=t=>{QM=t},Kq=(t,e)=>t===e;function Jq(t=Ko){const e=t===Ko?BM:()=>x.useContext(t);return function(r,i=Kq){const{store:s,subscription:o,getServerState:a}=e(),l=QM(o.addNestedSub,s.getState,a||s.getState,r,i);return x.useDebugValue(l),l}}const Zq=Jq();function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function e6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ob={},t6={get exports(){return Ob},set exports(t){Ob=t}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=typeof Symbol=="function"&&Symbol.for,qT=an?Symbol.for("react.element"):60103,zT=an?Symbol.for("react.portal"):60106,Mv=an?Symbol.for("react.fragment"):60107,Fv=an?Symbol.for("react.strict_mode"):60108,$v=an?Symbol.for("react.profiler"):60114,Uv=an?Symbol.for("react.provider"):60109,Vv=an?Symbol.for("react.context"):60110,HT=an?Symbol.for("react.async_mode"):60111,jv=an?Symbol.for("react.concurrent_mode"):60111,Bv=an?Symbol.for("react.forward_ref"):60112,Qv=an?Symbol.for("react.suspense"):60113,n6=an?Symbol.for("react.suspense_list"):60120,Yv=an?Symbol.for("react.memo"):60115,qv=an?Symbol.for("react.lazy"):60116,r6=an?Symbol.for("react.block"):60121,i6=an?Symbol.for("react.fundamental"):60117,s6=an?Symbol.for("react.responder"):60118,o6=an?Symbol.for("react.scope"):60119;function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qT:switch(t=t.type,t){case HT:case jv:case Mv:case $v:case Fv:case Qv:return t;default:switch(t=t&&t.$$typeof,t){case Vv:case Bv:case qv:case Yv:case Uv:return t;default:return e}}case zT:return e}}}function YM(t){return Ur(t)===jv}He.AsyncMode=HT;He.ConcurrentMode=jv;He.ContextConsumer=Vv;He.ContextProvider=Uv;He.Element=qT;He.ForwardRef=Bv;He.Fragment=Mv;He.Lazy=qv;He.Memo=Yv;He.Portal=zT;He.Profiler=$v;He.StrictMode=Fv;He.Suspense=Qv;He.isAsyncMode=function(t){return YM(t)||Ur(t)===HT};He.isConcurrentMode=YM;He.isContextConsumer=function(t){return Ur(t)===Vv};He.isContextProvider=function(t){return Ur(t)===Uv};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qT};He.isForwardRef=function(t){return Ur(t)===Bv};He.isFragment=function(t){return Ur(t)===Mv};He.isLazy=function(t){return Ur(t)===qv};He.isMemo=function(t){return Ur(t)===Yv};He.isPortal=function(t){return Ur(t)===zT};He.isProfiler=function(t){return Ur(t)===$v};He.isStrictMode=function(t){return Ur(t)===Fv};He.isSuspense=function(t){return Ur(t)===Qv};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mv||t===jv||t===$v||t===Fv||t===Qv||t===n6||typeof t=="object"&&t!==null&&(t.$$typeof===qv||t.$$typeof===Yv||t.$$typeof===Uv||t.$$typeof===Vv||t.$$typeof===Bv||t.$$typeof===i6||t.$$typeof===s6||t.$$typeof===o6||t.$$typeof===r6)};He.typeOf=Ur;(function(t){t.exports=He})(t6);var qM=Ob,a6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zM={};zM[qM.ForwardRef]=a6;zM[qM.Memo]=l6;var WC={},u6={get exports(){return WC},set exports(t){WC=t}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=Symbol.for("react.element"),GT=Symbol.for("react.portal"),zv=Symbol.for("react.fragment"),Hv=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),c6=Symbol.for("react.server_context"),Kv=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),Zv=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),t0=Symbol.for("react.lazy"),h6=Symbol.for("react.offscreen"),HM;HM=Symbol.for("react.module.reference");function ii(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WT:switch(t=t.type,t){case zv:case Wv:case Hv:case Jv:case Zv:return t;default:switch(t=t&&t.$$typeof,t){case c6:case Xv:case Kv:case t0:case e0:case Gv:return t;default:return e}}case GT:return e}}}We.ContextConsumer=Xv;We.ContextProvider=Gv;We.Element=WT;We.ForwardRef=Kv;We.Fragment=zv;We.Lazy=t0;We.Memo=e0;We.Portal=GT;We.Profiler=Wv;We.StrictMode=Hv;We.Suspense=Jv;We.SuspenseList=Zv;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return ii(t)===Xv};We.isContextProvider=function(t){return ii(t)===Gv};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WT};We.isForwardRef=function(t){return ii(t)===Kv};We.isFragment=function(t){return ii(t)===zv};We.isLazy=function(t){return ii(t)===t0};We.isMemo=function(t){return ii(t)===e0};We.isPortal=function(t){return ii(t)===GT};We.isProfiler=function(t){return ii(t)===Wv};We.isStrictMode=function(t){return ii(t)===Hv};We.isSuspense=function(t){return ii(t)===Jv};We.isSuspenseList=function(t){return ii(t)===Zv};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zv||t===Wv||t===Hv||t===Jv||t===Zv||t===h6||typeof t=="object"&&t!==null&&(t.$$typeof===t0||t.$$typeof===e0||t.$$typeof===Gv||t.$$typeof===Xv||t.$$typeof===Kv||t.$$typeof===HM||t.getModuleId!==void 0)};We.typeOf=ii;(function(t){t.exports=We})(u6);function f6(){const t=Wq();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const GC={notify(){},get:()=>[]};function d6(t,e){let n,r=GC;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=f6())}function u(){n&&(n(),n=void 0,r.clear(),r=GC)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const p6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m6=p6?x.useLayoutEffect:x.useEffect;function g6({store:t,context:e,children:n,serverState:r}){const i=x.useMemo(()=>{const a=d6(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=x.useMemo(()=>t.getState(),[t]);m6(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Ko;return Re.createElement(o.Provider,{value:i},n)}function WM(t=Ko){const e=t===Ko?BM:()=>x.useContext(t);return function(){const{store:r}=e();return r}}const y6=WM();function v6(t=Ko){const e=t===Ko?y6:WM(t);return function(){return e().dispatch}}const w6=v6();Xq(bb.useSyncExternalStoreWithSelector);Hq(uf.unstable_batchedUpdates);function wi(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Jo(t){return!!t&&!!t[ut]}function Bs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===C6}(t)||Array.isArray(t)||!!t[nI]||!!(!((e=t.constructor)===null||e===void 0)&&e[nI])||XT(t)||KT(t))}function il(t,e,n){n===void 0&&(n=!1),Pc(t)===0?(n?Object.keys:_u)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Pc(t){var e=t[ut];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:XT(t)?2:KT(t)?3:0}function xu(t,e){return Pc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function S6(t,e){return Pc(t)===2?t.get(e):t[e]}function GM(t,e,n){var r=Pc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function XM(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function XT(t){return x6&&t instanceof Map}function KT(t){return _6&&t instanceof Set}function Ta(t){return t.o||t.t}function JT(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=JM(t);delete e[ut];for(var n=_u(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function ZT(t,e){return e===void 0&&(e=!1),ek(t)||Jo(t)||!Bs(t)||(Pc(t)>1&&(t.set=t.add=t.clear=t.delete=b6),Object.freeze(t),e&&il(t,function(n,r){return ZT(r,!0)},!0)),t}function b6(){wi(2)}function ek(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ts(t){var e=_b[t];return e||wi(18,t),e}function E6(t,e){_b[t]||(_b[t]=e)}function Tb(){return If}function Gw(t,e){e&&(ts("Patches"),t.u=[],t.s=[],t.v=e)}function Mg(t){kb(t),t.p.forEach(O6),t.p=null}function kb(t){t===If&&(If=t.l)}function XC(t){return If={p:[],l:If,h:t,m:!0,_:0}}function O6(t){var e=t[ut];e.i===0||e.i===1?e.j():e.g=!0}function Xw(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||ts("ES5").S(e,t,r),r?(n[ut].P&&(Mg(e),wi(4)),Bs(t)&&(t=Fg(e,t),e.l||$g(e,t)),e.u&&ts("Patches").M(n[ut].t,t,e.u,e.s)):t=Fg(e,n,[]),Mg(e),e.u&&e.v(e.u,e.s),t!==KM?t:void 0}function Fg(t,e,n){if(ek(e))return e;var r=e[ut];if(!r)return il(e,function(a,l){return KC(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return $g(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=JT(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),il(s,function(a,l){return KC(t,r,i,a,l,n,o)}),$g(t,i,!1),n&&t.u&&ts("Patches").N(r,n,t.u,t.s)}return r.o}function KC(t,e,n,r,i,s,o){if(Jo(i)){var a=Fg(t,i,s&&e&&e.i!==3&&!xu(e.R,r)?s.concat(r):void 0);if(GM(n,r,a),!Jo(a))return;t.m=!1}else o&&n.add(i);if(Bs(i)&&!ek(i)){if(!t.h.D&&t._<1)return;Fg(t,i),e&&e.A.l||$g(t,i)}}function $g(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&ZT(e,n)}function Kw(t,e){var n=t[ut];return(n?Ta(n):t)[e]}function JC(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function mo(t){t.P||(t.P=!0,t.l&&mo(t.l))}function Jw(t){t.o||(t.o=JT(t.t))}function xb(t,e,n){var r=XT(e)?ts("MapSet").F(e,n):KT(e)?ts("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Tb(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Af;o&&(l=[a],u=Th);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):ts("ES5").J(e,n);return(n?n.A:Tb()).p.push(r),r}function T6(t){return Jo(t)||wi(22,t),function e(n){if(!Bs(n))return n;var r,i=n[ut],s=Pc(n);if(i){if(!i.P&&(i.i<4||!ts("ES5").K(i)))return i.t;i.I=!0,r=ZC(n,s),i.I=!1}else r=ZC(n,s);return il(r,function(o,a){i&&S6(i.t,o)===a||GM(r,o,e(a))}),s===3?new Set(r):r}(t)}function ZC(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return JT(t)}function k6(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[ut];return Af.get(l,s)},set:function(l){var u=this[ut];Af.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ut];if(!a.P)switch(a.i){case 5:r(a)&&mo(a);break;case 4:n(a)&&mo(a)}}}function n(s){for(var o=s.t,a=s.k,l=_u(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==ut){var h=o[c];if(h===void 0&&!xu(o,c))return!0;var f=a[c],d=f&&f[ut];if(d?d.t!==h:!XM(f,h))return!0}}var p=!!o[ut];return l.length!==_u(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};E6("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,t(d,!0));return f}var p=JM(h);delete p[ut];for(var g=_u(p),v=0;v<g.length;v++){var m=g[v];p[m]=t(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),u={i:a?5:4,A:o?o.A:Tb(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ut,{value:u,writable:!0}),l},S:function(s,o,a){a?Jo(o)&&o[ut].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[ut];if(c){var h=c.t,f=c.k,d=c.R,p=c.i;if(p===4)il(f,function(w){w!==ut&&(h[w]!==void 0||xu(h,w)?d[w]||l(f[w]):(d[w]=!0,mo(c)))}),il(h,function(w){f[w]!==void 0||xu(f,w)||(d[w]=!1,mo(c))});else if(p===5){if(r(c)&&(mo(c),d.length=!0),f.length<h.length)for(var g=f.length;g<h.length;g++)d[g]=!1;else for(var v=h.length;v<f.length;v++)d[v]=!0;for(var m=Math.min(f.length,h.length),y=0;y<m;y++)f.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&l(f[y])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var eI,If,tk=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",x6=typeof Map<"u",_6=typeof Set<"u",tI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",KM=tk?Symbol.for("immer-nothing"):((eI={})["immer-nothing"]=!0,eI),nI=tk?Symbol.for("immer-draftable"):"__$immer_draftable",ut=tk?Symbol.for("immer-state"):"__$immer_state",C6=""+Object.prototype.constructor,_u=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,JM=Object.getOwnPropertyDescriptors||function(t){var e={};return _u(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},_b={},Af={get:function(t,e){if(e===ut)return t;var n=Ta(t);if(!xu(n,e))return function(i,s,o){var a,l=JC(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Bs(r)?r:r===Kw(t.t,e)?(Jw(t),t.o[e]=xb(t.A.h,r,t)):r},has:function(t,e){return e in Ta(t)},ownKeys:function(t){return Reflect.ownKeys(Ta(t))},set:function(t,e,n){var r=JC(Ta(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kw(Ta(t),e),s=i==null?void 0:i[ut];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(XM(n,i)&&(n!==void 0||xu(t.t,e)))return!0;Jw(t),mo(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kw(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Jw(t),mo(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ta(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){wi(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){wi(12)}},Th={};il(Af,function(t,e){Th[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Th.deleteProperty=function(t,e){return Th.set.call(this,t,e,void 0)},Th.set=function(t,e,n){return Af.set.call(this,t[0],e,n,t[0])};var I6=function(){function t(n){var r=this;this.O=tI,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(g){var v=this;g===void 0&&(g=a);for(var m=arguments.length,y=Array(m>1?m-1:0),w=1;w<m;w++)y[w-1]=arguments[w];return l.produce(g,function(S){var b;return(b=s).call.apply(b,[v,S].concat(y))})}}var u;if(typeof s!="function"&&wi(6),o!==void 0&&typeof o!="function"&&wi(7),Bs(i)){var c=XC(r),h=xb(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?Mg(c):kb(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return Gw(c,o),Xw(g,c)},function(g){throw Mg(c),g}):(Gw(c,o),Xw(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===KM&&(u=void 0),r.D&&ZT(u,!0),o){var d=[],p=[];ts("Patches").M(i,u,d,p),o(d,p)}return u}wi(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Bs(n)||wi(8),Jo(n)&&(n=T6(n));var r=XC(this),i=xb(this,n,void 0);return i[ut].C=!0,kb(r),i},e.finishDraft=function(n,r){var i=n&&n[ut],s=i.A;return Gw(s,r),Xw(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!tI&&wi(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ts("Patches").$;return Jo(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Dr=new I6,ZM=Dr.produce;Dr.produceWithPatches.bind(Dr);Dr.setAutoFreeze.bind(Dr);Dr.setUseProxies.bind(Dr);Dr.applyPatches.bind(Dr);Dr.createDraft.bind(Dr);Dr.finishDraft.bind(Dr);function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function A6(t,e){if(Ar(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ar(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eF(t){var e=A6(t,"string");return Ar(e)==="symbol"?e:String(e)}function Ii(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var sI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Zw=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ug={INIT:"@@redux/INIT"+Zw(),REPLACE:"@@redux/REPLACE"+Zw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zw()}};function N6(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function tF(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rn(1));return n(tF)(t,e)}if(typeof t!="function")throw new Error(Rn(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Rn(3));return s}function h(g){if(typeof g!="function")throw new Error(Rn(4));if(l)throw new Error(Rn(5));var v=!0;return u(),a.push(g),function(){if(v){if(l)throw new Error(Rn(6));v=!1,u();var y=a.indexOf(g);a.splice(y,1),o=null}}}function f(g){if(!N6(g))throw new Error(Rn(7));if(typeof g.type>"u")throw new Error(Rn(8));if(l)throw new Error(Rn(9));try{l=!0,s=i(s,g)}finally{l=!1}for(var v=o=a,m=0;m<v.length;m++){var y=v[m];y()}return g}function d(g){if(typeof g!="function")throw new Error(Rn(10));i=g,f({type:Ug.REPLACE})}function p(){var g,v=h;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Rn(11));function w(){y.next&&y.next(c())}w();var S=v(w);return{unsubscribe:S}}},g[sI]=function(){return this},g}return f({type:Ug.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[sI]=p,r}function R6(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ug.INIT});if(typeof r>"u")throw new Error(Rn(12));if(typeof n(void 0,{type:Ug.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function P6(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{R6(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],p=n[d],g=l[d],v=p(g,u);if(typeof v>"u")throw u&&u.type,new Error(Rn(14));h[d]=v,c=c||v!==g}return c=c||s.length!==Object.keys(l).length,c?h:l}}function Vg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function D6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Rn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Vg.apply(void 0,a)(i.dispatch),iI(iI({},i),{},{dispatch:s})}}}function nF(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var rF=nF();rF.withExtraArgument=nF;const oI=rF;var iF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),L6=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tc=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},M6=Object.defineProperty,F6=Object.defineProperties,$6=Object.getOwnPropertyDescriptors,aI=Object.getOwnPropertySymbols,U6=Object.prototype.hasOwnProperty,V6=Object.prototype.propertyIsEnumerable,lI=function(t,e,n){return e in t?M6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Uo=function(t,e){for(var n in e||(e={}))U6.call(e,n)&&lI(t,n,e[n]);if(aI)for(var r=0,i=aI(e);r<i.length;r++){var n=i[r];V6.call(e,n)&&lI(t,n,e[n])}return t},e1=function(t,e){return F6(t,$6(e))},j6=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},B6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vg:Vg.apply(null,arguments)};function Q6(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Y6=function(t){iF(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,tc([void 0],n[0].concat(this)))):new(e.bind.apply(e,tc([void 0],n.concat(this))))},e}(Array),q6=function(t){iF(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,tc([void 0],n[0].concat(this)))):new(e.bind.apply(e,tc([void 0],n.concat(this))))},e}(Array);function Cb(t){return Bs(t)?ZM(t,function(){}):t}function z6(t){return typeof t=="boolean"}function H6(){return function(e){return W6(e)}}function W6(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Y6;return n&&(z6(n)?r.push(oI):r.push(oI.withExtraArgument(n.extraArgument))),r}var G6=!0;function X6(t){var e=H6(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(Q6(i))d=P6(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var g=D6.apply(void 0,p),v=Vg;l&&(v=B6(Uo({trace:!G6},typeof l=="object"&&l)));var m=new q6(g),y=m;Array.isArray(f)?y=tc([g],f):typeof f=="function"&&(y=f(m));var w=v.apply(void 0,y);return tF(d,c,w)}function Vo(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Uo(Uo({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function sF(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function K6(t){return typeof t=="function"}function J6(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?sF(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(K6(t))l=function(){return Cb(t())};else{var u=Cb(t);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var d=tc([s[f.type]],o.filter(function(p){var g=p.matcher;return g(f)}).map(function(p){var g=p.reducer;return g}));return d.filter(function(p){return!!p}).length===0&&(d=[a]),d.reduce(function(p,g){if(g)if(Jo(p)){var v=p,m=g(v,f);return m===void 0?p:m}else{if(Bs(p))return ZM(p,function(y){return g(y,f)});var m=g(p,f);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},h)}return c.getInitialState=l,c}function Z6(t,e){return t+"/"+e}function ez(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Cb(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=Z6(e,c),d,p;"reducer"in h?(d=h.reducer,p=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=p?Vo(f,p):Vo(f)});function l(){var c=typeof t.extraReducers=="function"?sF(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],p=d===void 0?[]:d,g=c[2],v=g===void 0?void 0:g,m=Uo(Uo({},f),o);return J6(n,function(y){for(var w in m)y.addCase(w,m[w]);for(var S=0,b=p;S<b.length;S++){var k=b[S];y.addMatcher(k.matcher,k.reducer)}v&&y.addDefaultCase(v)})}var u;return{name:e,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var tz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nz=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=tz[Math.random()*64|0];return e},rz=["name","message","stack","code"],t1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),uI=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),iz=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=rz;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Vo(e+"/fulfilled",function(u,c,h,f){return{payload:u,meta:e1(Uo({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Vo(e+"/pending",function(u,c,h){return{payload:void 0,meta:e1(Uo({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Vo(e+"/rejected",function(u,c,h,f,d){return{payload:f,error:(r&&r.serializeError||iz)(u||"Rejected"),meta:e1(Uo({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(u):nz(),p=new a,g;function v(y){g=y,p.abort()}var m=function(){return j6(this,null,function(){var y,w,S,b,k,_,R;return L6(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),b=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:h,extra:f}),oz(b)?[4,b]:[3,2];case 1:b=T.sent(),T.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(C,B){return p.signal.addEventListener("abort",function(){return B({name:"AbortError",message:g||"Aborted"})})}),c(s(d,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:d,arg:u},{getState:h,extra:f}))),[4,Promise.race([k,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:d,signal:p.signal,abort:v,rejectWithValue:function(C,B){return new t1(C,B)},fulfillWithValue:function(C,B){return new uI(C,B)}})).then(function(C){if(C instanceof t1)throw C;return C instanceof uI?i(C.payload,d,u,C.meta):i(C,d,u)})])];case 3:return S=T.sent(),[3,5];case 4:return _=T.sent(),S=_ instanceof t1?o(null,d,u,_.payload,_.meta):o(_,d,u),[3,5];case 5:return R=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,R||c(S),[2,S]}})})}();return Object.assign(m,{abort:v,requestId:d,arg:u,unwrap:function(){return m.then(sz)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function sz(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function oz(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var nk="listenerMiddleware";Vo(nk+"/add");Vo(nk+"/removeAll");Vo(nk+"/remove");var cI;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);k6();const az={loginStatus:"",userName:"",isUserLogged:!1,lang:"en"},oF=ez({name:"userState",initialState:az,reducers:{changeLoginStatus(t,e){t.loginStatus=e.payload},changeUserName(t,e){t.userName=e.payload},changeIsUserLogged(t,e){t.isUserLogged=e.payload},changeLang(t,e){t.lang=e.payload}}}),{changeLoginStatus:Qs,changeUserName:nc,changeIsUserLogged:rc,changeLang:hI}=oF.actions,lz=oF.reducer,uz=X6({reducer:{userState:lz}}),Zs=()=>w6(),ic=Zq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new hz;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fz=function(t){const e=aF(t);return lF.encodeByteArray(e,!0)},jg=function(t){return fz(t).replace(/\./g,"")},uF=function(t){try{return lF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=()=>dz().__FIREBASE_DEFAULTS__,mz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uF(t[1]);return e&&JSON.parse(e)},rk=()=>{try{return pz()||mz()||gz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cF=t=>{var e,n;return(n=(e=rk())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yz=t=>{const e=cF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vz=()=>{var t;return(t=rk())===null||t===void 0?void 0:t.config},hF=t=>{var e;return(e=rk())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jg(JSON.stringify(n)),jg(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function Ez(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tz(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kz(){try{return typeof indexedDB=="object"}catch{return!1}}function xz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_z,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Od.prototype.create)}}class Od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Cz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new eo(i,a,r)}}function Cz(t,e){return t.replace(Iz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Iz=/\{\$([^}]+)}/g;function Az(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fI(s)&&fI(o)){if(!Bg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Nz(t,e){const n=new Rz(t,e);return n.subscribe.bind(n)}class Rz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n1),i.error===void 0&&(i.error=n1),i.complete===void 0&&(i.complete=n1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mz(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lz(t){return t===ka?void 0:t}function Mz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const $z={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Uz=Ue.INFO,Vz={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},jz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Vz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ik=class{constructor(e){this.name=e,this._logLevel=Uz,this._logHandler=jz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$z[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const Bz=(t,e)=>e.some(n=>t instanceof n);let dI,pI;function Qz(){return dI||(dI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yz(){return pI||(pI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fF=new WeakMap,Ib=new WeakMap,dF=new WeakMap,r1=new WeakMap,sk=new WeakMap;function qz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fF.set(n,t)}).catch(()=>{}),sk.set(e,t),e}function zz(t){if(Ib.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ib.set(t,e)}let Ab={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ib.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hz(t){Ab=t(Ab)}function Wz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i1(this),e,...n);return dF.set(r,e.sort?e.sort():[e]),jo(r)}:Yz().includes(t)?function(...e){return t.apply(i1(this),e),jo(fF.get(this))}:function(...e){return jo(t.apply(i1(this),e))}}function Gz(t){return typeof t=="function"?Wz(t):(t instanceof IDBTransaction&&zz(t),Bz(t,Qz())?new Proxy(t,Ab):t)}function jo(t){if(t instanceof IDBRequest)return qz(t);if(r1.has(t))return r1.get(t);const e=Gz(t);return e!==t&&(r1.set(t,e),sk.set(e,t)),e}const i1=t=>sk.get(t);function Xz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jo(o.result),l.oldVersion,l.newVersion,jo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Kz=["get","getKey","getAll","getAllKeys","count"],Jz=["put","add","delete","clear"],s1=new Map;function mI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s1.get(e))return s1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return s1.set(e,s),s}Hz(t=>({...t,get:(e,n,r)=>mI(e,n)||t.get(e,n,r),has:(e,n)=>!!mI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nb="@firebase/app",gI="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new ik("@firebase/app"),t8="@firebase/app-compat",n8="@firebase/analytics-compat",r8="@firebase/analytics",i8="@firebase/app-check-compat",s8="@firebase/app-check",o8="@firebase/auth",a8="@firebase/auth-compat",l8="@firebase/database",u8="@firebase/database-compat",c8="@firebase/functions",h8="@firebase/functions-compat",f8="@firebase/installations",d8="@firebase/installations-compat",p8="@firebase/messaging",m8="@firebase/messaging-compat",g8="@firebase/performance",y8="@firebase/performance-compat",v8="@firebase/remote-config",w8="@firebase/remote-config-compat",S8="@firebase/storage",b8="@firebase/storage-compat",E8="@firebase/firestore",O8="@firebase/firestore-compat",T8="firebase",k8="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="[DEFAULT]",x8={[Nb]:"fire-core",[t8]:"fire-core-compat",[r8]:"fire-analytics",[n8]:"fire-analytics-compat",[s8]:"fire-app-check",[i8]:"fire-app-check-compat",[o8]:"fire-auth",[a8]:"fire-auth-compat",[l8]:"fire-rtdb",[u8]:"fire-rtdb-compat",[c8]:"fire-fn",[h8]:"fire-fn-compat",[f8]:"fire-iid",[d8]:"fire-iid-compat",[p8]:"fire-fcm",[m8]:"fire-fcm-compat",[g8]:"fire-perf",[y8]:"fire-perf-compat",[v8]:"fire-rc",[w8]:"fire-rc-compat",[S8]:"fire-gcs",[b8]:"fire-gcs-compat",[E8]:"fire-fst",[O8]:"fire-fst-compat","fire-js":"fire-js",[T8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map,Pb=new Map;function _8(t,e){try{t.container.addComponent(e)}catch(n){ol.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sc(t){const e=t.name;if(Pb.has(e))return ol.debug(`There were multiple attempts to register component ${e}.`),!1;Pb.set(e,t);for(const n of Qg.values())_8(n,t);return!0}function ok(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bo=new Od("app","Firebase",C8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=k8;function pF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bo.create("bad-app-name",{appName:String(i)});if(n||(n=vz()),!n)throw Bo.create("no-options");const s=Qg.get(i);if(s){if(Bg(n,s.options)&&Bg(r,s.config))return s;throw Bo.create("duplicate-app",{appName:i})}const o=new Fz(i);for(const l of Pb.values())o.addComponent(l);const a=new I8(n,r,o);return Qg.set(i,a),a}function mF(t=Rb){const e=Qg.get(t);if(!e&&t===Rb)return pF();if(!e)throw Bo.create("no-app",{appName:t});return e}function Qo(t,e,n){var r;let i=(r=x8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ol.warn(a.join(" "));return}sc(new sl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="firebase-heartbeat-database",N8=1,Nf="firebase-heartbeat-store";let o1=null;function gF(){return o1||(o1=Xz(A8,N8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nf)}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),o1}async function R8(t){try{return(await gF()).transaction(Nf).objectStore(Nf).get(yF(t))}catch(e){if(e instanceof eo)ol.warn(e.message);else{const n=Bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ol.warn(n.message)}}}async function yI(t,e){try{const r=(await gF()).transaction(Nf,"readwrite");return await r.objectStore(Nf).put(e,yF(t)),r.done}catch(n){if(n instanceof eo)ol.warn(n.message);else{const r=Bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ol.warn(r.message)}}}function yF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=1024,D8=30*24*60*60*1e3;class L8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=D8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vI(),{heartbeatsToSend:n,unsentEntries:r}=M8(this._heartbeatsCache.heartbeats),i=jg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vI(){return new Date().toISOString().substring(0,10)}function M8(t,e=P8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kz()?xz().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await R8(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wI(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){sc(new sl("platform-logger",e=>new Zz(e),"PRIVATE")),sc(new sl("heartbeat",e=>new L8(e),"PRIVATE")),Qo(Nb,gI,t),Qo(Nb,gI,"esm2017"),Qo("fire-js","")}$8("");function ak(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U8=vF,wF=new Od("auth","Firebase",vF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new ik("@firebase/auth");function V8(t,...e){Yg.logLevel<=Ue.WARN&&Yg.warn(`Auth (${Dc}): ${t}`,...e)}function Pm(t,...e){Yg.logLevel<=Ue.ERROR&&Yg.error(`Auth (${Dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,...e){throw lk(t,...e)}function ns(t,...e){return lk(t,...e)}function SF(t,e,n){const r=Object.assign(Object.assign({},U8()),{[e]:n});return new Od("auth","Firebase",r).create(e,{appName:t.name})}function j8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ti(t,"argument-error"),SF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lk(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wF.create(t,...e)}function ye(t,e,...n){if(!t)throw lk(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pm(e),new Error(e)}function Ys(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function B8(){return SI()==="http:"||SI()==="https:"}function SI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B8()||Ez()||"connection"in navigator)?navigator.onLine:!0}function Y8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=bz()||Oz()}get(){return Q8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=new kd(3e4,6e4);function xl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _l(t,e,n,r,i={}){return EF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Td(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bF.fetch()(OF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function EF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q8),e);try{const i=new H8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _p(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _p(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _p(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _p(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SF(t,c,u);ti(t,c)}}catch(i){if(i instanceof eo)throw i;ti(t,"network-request-failed",{message:String(i)})}}async function xd(t,e,n,r,i={}){const s=await _l(t,e,n,r,i);return"mfaPendingCredential"in s&&ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uk(t.config,i):`${t.config.apiScheme}://${i}`}class H8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),z8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _p(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ns(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t,e){return _l(t,"POST","/v1/accounts:delete",e)}async function G8(t,e){return _l(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X8(t,e=!1){const n=ir(t),r=await n.getIdToken(e),i=ck(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gh(a1(i.auth_time)),issuedAtTime:Gh(a1(i.iat)),expirationTime:Gh(a1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function a1(t){return Number(t)*1e3}function ck(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=uF(n);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K8(t){const e=ck(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&J8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rf(t,G8(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?n7(s.providerUserInfo):[],a=t7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new TF(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function e7(t){const e=ir(t);await qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n7(t){return t.map(e=>{var{providerId:n}=e,r=ak(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e){const n=await EF(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OF(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bF.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ye(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pf;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ak(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rf(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X8(this,e)}reload(){return e7(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rf(this,W8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:b,providerData:k,stsTokenManager:_}=n;ye(w&&_,e,"internal-error");const R=Pf.fromJSON(this.name,_);ye(typeof w=="string",e,"internal-error"),io(h,e.name),io(f,e.name),ye(typeof S=="boolean",e,"internal-error"),ye(typeof b=="boolean",e,"internal-error"),io(d,e.name),io(p,e.name),io(g,e.name),io(v,e.name),io(m,e.name),io(y,e.name);const T=new za({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:R,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(T.providerData=k.map(C=>Object.assign({},C))),v&&(T._redirectEventId=v),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pf;i.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qg(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;function Cs(t){Ys(t instanceof Function,"Expected a class definition");let e=bI.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kF.type="NONE";const EI=kF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t,e,n){return`firebase:${t}:${e}:${n}`}class Cu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?za._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cu(Cs(EI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cs(EI);const o=Dm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=za._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Cu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AF(e))return"Blackberry";if(NF(e))return"Webos";if(hk(e))return"Safari";if((e.includes("chrome/")||_F(e))&&!e.includes("edge/"))return"Chrome";if(IF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xF(t=Yn()){return/firefox\//i.test(t)}function hk(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _F(t=Yn()){return/crios\//i.test(t)}function CF(t=Yn()){return/iemobile/i.test(t)}function IF(t=Yn()){return/android/i.test(t)}function AF(t=Yn()){return/blackberry/i.test(t)}function NF(t=Yn()){return/webos/i.test(t)}function n0(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i7(t=Yn()){var e;return n0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s7(){return Tz()&&document.documentMode===10}function RF(t=Yn()){return n0(t)||IF(t)||NF(t)||AF(t)||/windows phone/i.test(t)||CF(t)}function o7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t,e=[]){let n;switch(t){case"Browser":n=OI(Yn());break;case"Worker":n=`${OI(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}async function DF(t,e){return _l(t,"GET","/v2/recaptchaConfig",xl(t,e))}function TI(t){return t!==void 0&&t.enterprise!==void 0}class LF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function MF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ns("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",a7().appendChild(r)})}function l7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const u7="https://www.google.com/recaptcha/enterprise.js?render=",c7="recaptcha-enterprise",h7="NO_RECAPTCHA";class FF{constructor(e){this.type=c7,this.auth=da(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new LF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;TI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(h7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&TI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}MF(u7+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function oc(t,e,n,r=!1){const i=new FF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kI(this),this.idTokenSubscription=new kI(this),this.beforeStateQueue=new f7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ir(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}async initializeRecaptchaConfig(){const e=await DF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new LF(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new FF(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(t){return ir(t)}class kI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nz(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){const n=ok(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bg(s,e??{}))return i;ti(i,"already-initialized")}return n.initialize({options:e})}function m7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g7(t,e,n){const r=da(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$F(e),{host:o,port:a}=y7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||v7()}function $F(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y7(t){const e=$F(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xI(o)}}}function xI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function w7(t,e){return _l(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",xl(t,e))}async function UF(t,e){return _l(t,"POST","/v1/accounts:sendOobCode",xl(t,e))}async function S7(t,e){return UF(t,e)}async function u1(t,e){return UF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}async function E7(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends fk{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await oc(e,r,"signInWithPassword");return l1(e,i)}else return l1(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await oc(e,r,"signInWithPassword");return l1(e,s)}else return Promise.reject(i)});case"emailLink":return b7(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return w7(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return E7(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="http://localhost";class al extends fk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ak(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new al(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Iu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Iu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Iu(e,n)}buildRequest(){const e={requestUri:O7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k7(t){const e=kh(xh(t)).link,n=e?kh(xh(e)).deep_link_id:null,r=kh(xh(t)).deep_link_id;return(r?kh(xh(r)).link:null)||r||n||e||t}class dk{constructor(e){var n,r,i,s,o,a;const l=kh(xh(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=T7((i=l.mode)!==null&&i!==void 0?i:null);ye(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=k7(e);try{return new dk(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.providerId=Lc.PROVIDER_ID}static credential(e,n){return Df._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dk.parseLink(n);return ye(r,"argument-error"),Df._fromEmailAndCode(e,r.code,r.tenantId)}}Lc.PROVIDER_ID="password";Lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends pk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends _d{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends _d{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends _d{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e){return xd(t,"POST","/v1/accounts:signUp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await za._fromIdTokenResponse(e,r,i),o=_I(r);return new ll({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_I(r);return new ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _I(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends eo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zg(e,n,r,i)}}function VF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zg._fromErrorAndOperation(t,s,e,r):s})}async function x7(t,e,n=!1){const r=await Rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Rf(t,VF(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=ck(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),ll._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e,n=!1){const r="signIn",i=await VF(t,r,e),s=await ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function C7(t,e){return jF(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e,n){var r;ye(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ye(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ye(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ye(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e,n){var r;const i=da(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await oc(i,s,"getOobCode",!0);n&&Lm(i,o,n),await u1(i,o)}else n&&Lm(i,s,n),await u1(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await oc(i,s,"getOobCode",!0);n&&Lm(i,a,n),await u1(i,a)}else return Promise.reject(o)})}async function A7(t,e,n){var r;const i=da(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await oc(i,s,"signUpPassword");o=c1(i,u)}else o=c1(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await oc(i,s,"signUpPassword");return c1(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ll._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function N7(t,e,n){return C7(ir(t),Lc.credential(e,n))}async function R7(t,e){const n=ir(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Lm(n.auth,i,e);const{email:s}=await S7(n.auth,i);s!==t.email&&await t.reload()}function P7(t,e,n,r){return ir(t).onIdTokenChanged(e,n,r)}function D7(t,e,n){return ir(t).beforeAuthStateChanged(e,n)}function L7(t,e,n,r){return ir(t).onAuthStateChanged(e,n,r)}const Hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(){const t=Yn();return hk(t)||n0(t)}const F7=1e3,$7=10;class QF extends BF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=M7()&&o7(),this.fallbackToPolling=RF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QF.type="LOCAL";const U7=QF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF extends BF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YF.type="SESSION";const qF=YF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new r0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await V7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=mk("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function B7(t){rs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function Q7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q7(){return zF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="firebaseLocalStorageDb",z7=1,Wg="firebaseLocalStorage",WF="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function i0(t,e){return t.transaction([Wg],e?"readwrite":"readonly").objectStore(Wg)}function H7(){const t=indexedDB.deleteDatabase(HF);return new Cd(t).toPromise()}function Lb(){const t=indexedDB.open(HF,z7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wg,{keyPath:WF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wg)?e(r):(r.close(),await H7(),e(await Lb()))})})}async function CI(t,e,n){const r=i0(t,!0).put({[WF]:e,value:n});return new Cd(r).toPromise()}async function W7(t,e){const n=i0(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function II(t,e){const n=i0(t,!0).delete(e);return new Cd(n).toPromise()}const G7=800,X7=3;class GF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r0._getInstance(q7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q7(),!this.activeServiceWorker)return;this.sender=new j7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lb();return await CI(e,Hg,"1"),await II(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>II(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=i0(i,!1).getAll();return new Cd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GF.type="LOCAL";const K7=GF;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t,e){return e?Cs(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends fk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J7(t){return jF(t.auth,new gk(t),t.bypassAuthState)}function Z7(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),_7(n,new gk(t),t.bypassAuthState)}async function eH(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),x7(n,new gk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J7;case"linkViaPopup":case"linkViaRedirect":return eH;case"reauthViaPopup":case"reauthViaRedirect":return Z7;default:ti(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=new kd(2e3,1e4);async function nH(t,e,n){const r=da(t);j8(t,e,pk);const i=XF(r,n);return new Pa(r,"signInViaPopup",e,i).executeNotNull()}class Pa extends KF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=mk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tH.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="pendingRedirect",Mm=new Map;class iH extends KF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mm.get(this.auth._key());if(!e){try{const r=await sH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mm.set(this.auth._key(),e)}return this.bypassAuthState||Mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sH(t,e){const n=lH(e),r=aH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oH(t,e){Mm.set(t._key(),e)}function aH(t){return Cs(t._redirectPersistence)}function lH(t){return Dm(rH,t.config.apiKey,t.name)}async function uH(t,e,n=!1){const r=da(t),i=XF(r,e),o=await new iH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=10*60*1e3;class hH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cH&&this.cachedEventUids.clear(),this.cachedEventUids.has(AI(e))}saveEventToCache(e){this.cachedEventUids.add(AI(e)),this.lastProcessedEventTime=Date.now()}}function AI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e={}){return _l(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mH=/^https?/;async function gH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dH(t);for(const n of e)try{if(yH(n))return}catch{}ti(t,"unauthorized-domain")}function yH(t){const e=Db(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mH.test(n))return!1;if(pH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=new kd(3e4,6e4);function NI(){const t=rs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wH(t){return new Promise((e,n)=>{var r,i,s;function o(){NI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NI(),n(ns(t,"network-request-failed"))},timeout:vH.get()})}if(!((i=(r=rs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rs().gapi)===null||s===void 0)&&s.load)o();else{const a=l7("iframefcb");return rs()[a]=()=>{gapi.load?o():n(ns(t,"network-request-failed"))},MF(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function SH(t){return Fm=Fm||wH(t),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new kd(5e3,15e3),EH="__/auth/iframe",OH="emulator/auth/iframe",TH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xH(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uk(e,OH):`https://${t.config.authDomain}/${EH}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},i=kH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Td(r).slice(1)}`}async function _H(t){const e=await SH(t),n=rs().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:xH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ns(t,"network-request-failed"),a=rs().setTimeout(()=>{s(o)},bH.get());function l(){rs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IH=500,AH=600,NH="_blank",RH="http://localhost";class RI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PH(t,e,n,r=IH,i=AH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},CH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Yn().toLowerCase();n&&(a=_F(u)?NH:n),xF(u)&&(e=e||RH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(i7(u)&&a!=="_self")return DH(e||"",a),new RI(null);const h=window.open(e||"",a,c);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new RI(h)}function DH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH="__/auth/handler",MH="emulator/auth/handler",FH=encodeURIComponent("fac");async function PI(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:i};if(e instanceof pk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Az(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof _d){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${FH}=${encodeURIComponent(l)}`:"";return`${$H(t)}?${Td(a).slice(1)}${u}`}function $H({config:t}){return t.emulator?uk(t,MH):`https://${t.authDomain}/${LH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="webStorageSupport";class UH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qF,this._completeRedirectFn=uH,this._overrideRedirectResult=oH}async _openPopup(e,n,r,i){var s;Ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PI(e,n,r,Db(),i);return PH(e,o,mk())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PI(e,n,r,Db(),i);return B7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _H(e),r=new hH(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h1,{type:h1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[h1];o!==void 0&&n(!!o),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RF()||hk()||n0()}}const VH=UH;var DI="@firebase/auth",LI="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function QH(t){sc(new sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ye(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PF(t)},u=new d7(r,i,s,l);return m7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sc(new sl("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new jH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qo(DI,LI,BH(t)),Qo(DI,LI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=5*60,qH=hF("authIdTokenMaxAge")||YH;let MI=null;const zH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qH)return;const i=n==null?void 0:n.token;MI!==i&&(MI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZF(t=mF()){const e=ok(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p7(t,{popupRedirectResolver:VH,persistence:[K7,U7,qF]}),r=hF("authTokenSyncURL");if(r){const s=zH(r);D7(n,s,()=>s(n.currentUser)),P7(n,o=>s(o))}const i=cF("auth");return i&&g7(n,`http://${i}`),n}QH("Browser");const HH=()=>{const t=ic(o=>o.userState.isUserLogged),e=kl(),n=Tl(),r=Zs(),i=x.useRef(!1),s=t&&n.pathname==="/editor";return x.useEffect(()=>{const o=ZF();return L7(o,l=>l?(r(rc(!0)),r(nc(l.displayName??"name")),i.current=!0):(s&&(e("/"),r(rc(!1)),r(nc(""))),i.current=!1))},[r,s,e]),i.current};function WH(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var FI={};function Mb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&FI[e[0]]||(typeof e[0]=="string"&&(FI[e[0]]=new Date),WH.apply(void 0,e))}var e$=function(e,n){return function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}}};function $I(t,e,n){t.loadNamespaces(e,e$(t,n))}function UI(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,e$(t,r))}function GH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var o=function(l,u){var c=e.services.backendConnector.state["".concat(l,"|").concat(u)];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function XH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Mb("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{lng:n.lng,precheck:function(s,o){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,t))return!1}}):GH(t,e,n)}var KH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,JH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ZH=function(e){return JH[e]},eW=function(e){return e.replace(KH,ZH)};function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:eW};function tW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fb=jI(jI({},Fb),t)}function nW(){return Fb}var t$;function rW(t){t$=t}function iW(){return t$}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eF(r.key),r)}}function oi(t,e,n){return e&&BI(t.prototype,e),n&&BI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var sW={type:"3rdParty",init:function(e){tW(e.options.react),rW(e)}},oW=x.createContext(),aW=function(){function t(){si(this,t),this.usedNamespaces={}}return oi(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function n$(t){if(Array.isArray(t))return t}function lW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r$(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(t,e){return n$(t)||lW(t,e)||r$(t,e)||i$()}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cW=function(e,n){var r=x.useRef();return x.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function xn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=x.useContext(oW)||{},i=r.i18n,s=r.defaultNS,o=n||i||iW();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new aW),!o){Mb("You will need to pass in an i18next instance by using initReactI18next");var a=function(T,C){return typeof C=="string"?C:C&&Ar(C)==="object"&&typeof C.defaultValue=="string"?C.defaultValue:Array.isArray(T)?T[T.length-1]:T},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}o.options.react&&o.options.react.wait!==void 0&&Mb("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=f1(f1(f1({},nW()),o.options.react),e),c=u.useSuspense,h=u.keyPrefix,f=t||s||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);var d=(o.isInitialized||o.initializedStoreOnce)&&f.every(function(R){return XH(R,o,u)});function p(){return o.getFixedT(e.lng||null,u.nsMode==="fallback"?f:f[0],h)}var g=x.useState(p),v=uW(g,2),m=v[0],y=v[1],w=f.join();e.lng&&(w="".concat(e.lng).concat(w));var S=cW(w),b=x.useRef(!0);x.useEffect(function(){var R=u.bindI18n,T=u.bindI18nStore;b.current=!0,!d&&!c&&(e.lng?UI(o,e.lng,f,function(){b.current&&y(p)}):$I(o,f,function(){b.current&&y(p)})),d&&S&&S!==w&&b.current&&y(p);function C(){b.current&&y(p)}return R&&o&&o.on(R,C),T&&o&&o.store.on(T,C),function(){b.current=!1,R&&o&&R.split(" ").forEach(function(B){return o.off(B,C)}),T&&o&&T.split(" ").forEach(function(B){return o.store.off(B,C)})}},[o,w]);var k=x.useRef(!0);x.useEffect(function(){b.current&&!k.current&&y(p),k.current=!1},[o,h]);var _=[m,o,d];if(_.t=m,_.i18n=o,_.ready=d,d||!d&&!c)return _;throw new Promise(function(R){e.lng?UI(o,e.lng,f,function(){return R()}):$I(o,f,function(){return R()})})}var Id=t=>t.type==="checkbox",hu=t=>t instanceof Date,Xn=t=>t==null;const s$=t=>typeof t=="object";var Kt=t=>!Xn(t)&&!Array.isArray(t)&&s$(t)&&!hu(t),hW=t=>Kt(t)&&t.target?Id(t.target)?t.target.checked:t.target.value:t,fW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,dW=(t,e)=>t.has(fW(e)),pW=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},yk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xa(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(yk&&(t instanceof Blob||t instanceof FileList))&&(n||Kt(t)))if(e=n?[]:{},!Array.isArray(t)&&!pW(t))e=t;else for(const r in t)e[r]=xa(t[r]);else return t;return e}var Ad=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,le=(t,e,n)=>{if(!e||!Kt(t))return n;const r=Ad(e.split(/[,[\].]+?/)).reduce((i,s)=>Xn(i)?i:i[s],t);return Ft(r)||r===t?Ft(t[e])?n:t[e]:r};const qI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Si={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Re.createContext(null);var mW=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Si.all&&(e._proxyFormState[o]=!r||Si.all),n&&(n[o]=!0),t[o]}});return i},Vr=t=>Kt(t)&&!Object.keys(t).length,gW=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Vr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Si.all))},d1=t=>Array.isArray(t)?t:[t];function yW(t){const e=Re.useRef(t);e.current=t,Re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Hi=t=>typeof t=="string",vW=(t,e,n,r,i)=>Hi(t)?(r&&e.watch.add(t),le(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),le(n,s))):(r&&(e.watchAll=!0),n),vk=t=>/^\w*$/.test(t),o$=t=>Ad(t.replace(/["|']|\]/g,"").split(/\.|\[/));function nt(t,e,n){let r=-1;const i=vk(e)?[e]:o$(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Kt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var a$=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const $b=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=le(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Kt(o)&&$b(o,e)}}};var zI=t=>({isOnSubmit:!t||t===Si.onSubmit,isOnBlur:t===Si.onBlur,isOnChange:t===Si.onChange,isOnAll:t===Si.all,isOnTouch:t===Si.onTouched}),HI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),wW=(t,e,n)=>{const r=Ad(le(t,n));return nt(r,"root",e[n]),nt(t,n,r),t},Au=t=>typeof t=="boolean",wk=t=>t.type==="file",Oo=t=>typeof t=="function",Gg=t=>{if(!yk)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$m=t=>Hi(t),Sk=t=>t.type==="radio",Xg=t=>t instanceof RegExp;const WI={value:!1,isValid:!1},GI={value:!0,isValid:!0};var l$=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?GI:{value:t[0].value,isValid:!0}:GI:WI}return WI};const XI={isValid:!1,value:null};var u$=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,XI):XI;function KI(t,e,n="validate"){if($m(t)||Array.isArray(t)&&t.every($m)||Au(t)&&!t)return{type:n,message:$m(t)?t:"",ref:e}}var jl=t=>Kt(t)&&!Xg(t)?t:{value:t,message:""},JI=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:d,name:p,valueAsNumber:g,mount:v,disabled:m}=t._f,y=le(e,p);if(!v||m)return{};const w=o?o[0]:s,S=G=>{r&&w.reportValidity&&(w.setCustomValidity(Au(G)?"":G||""),w.reportValidity())},b={},k=Sk(s),_=Id(s),R=k||_,T=(g||wk(s))&&Ft(s.value)&&Ft(y)||Gg(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,C=a$.bind(null,p,n,b),B=(G,J,I,D=gs.maxLength,Y=gs.minLength)=>{const ne=G?J:I;b[p]={type:G?D:Y,message:ne,ref:s,...C(G?D:Y,ne)}};if(i?!Array.isArray(y)||!y.length:a&&(!R&&(T||Xn(y))||Au(y)&&!y||_&&!l$(o).isValid||k&&!u$(o).isValid)){const{value:G,message:J}=$m(a)?{value:!!a,message:a}:jl(a);if(G&&(b[p]={type:gs.required,message:J,ref:w,...C(gs.required,J)},!n))return S(J),b}if(!T&&(!Xn(c)||!Xn(h))){let G,J;const I=jl(h),D=jl(c);if(!Xn(y)&&!isNaN(y)){const Y=s.valueAsNumber||y&&+y;Xn(I.value)||(G=Y>I.value),Xn(D.value)||(J=Y<D.value)}else{const Y=s.valueAsDate||new Date(y),ne=ee=>new Date(new Date().toDateString()+" "+ee),M=s.type=="time",V=s.type=="week";Hi(I.value)&&y&&(G=M?ne(y)>ne(I.value):V?y>I.value:Y>new Date(I.value)),Hi(D.value)&&y&&(J=M?ne(y)<ne(D.value):V?y<D.value:Y<new Date(D.value))}if((G||J)&&(B(!!G,I.message,D.message,gs.max,gs.min),!n))return S(b[p].message),b}if((l||u)&&!T&&(Hi(y)||i&&Array.isArray(y))){const G=jl(l),J=jl(u),I=!Xn(G.value)&&y.length>+G.value,D=!Xn(J.value)&&y.length<+J.value;if((I||D)&&(B(I,G.message,J.message),!n))return S(b[p].message),b}if(f&&!T&&Hi(y)){const{value:G,message:J}=jl(f);if(Xg(G)&&!y.match(G)&&(b[p]={type:gs.pattern,message:J,ref:s,...C(gs.pattern,J)},!n))return S(J),b}if(d){if(Oo(d)){const G=await d(y,e),J=KI(G,w);if(J&&(b[p]={...J,...C(gs.validate,J.message)},!n))return S(J.message),b}else if(Kt(d)){let G={};for(const J in d){if(!Vr(G)&&!n)break;const I=KI(await d[J](y,e),w,J);I&&(G={...I,...C(J,I.message)},S(I.message),n&&(b[p]=G))}if(!Vr(G)&&(b[p]={ref:w,...G},!n))return b}}return S(!0),b};function SW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ft(t)?r++:t[e[r++]];return t}function bW(t){for(const e in t)if(!Ft(t[e]))return!1;return!0}function hn(t,e){const n=Array.isArray(e)?e:vk(e)?[e]:o$(e),r=n.length===1?t:SW(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Kt(r)&&Vr(r)||Array.isArray(r)&&bW(r))&&hn(t,n.slice(0,-1)),t}function p1(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Kg=t=>Xn(t)||!s$(t);function Da(t,e){if(Kg(t)||Kg(e))return t===e;if(hu(t)&&hu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(hu(s)&&hu(o)||Kt(s)&&Kt(o)||Array.isArray(s)&&Array.isArray(o)?!Da(s,o):s!==o)return!1}}return!0}var c$=t=>t.type==="select-multiple",EW=t=>Sk(t)||Id(t),m1=t=>Gg(t)&&t.isConnected,h$=t=>{for(const e in t)if(Oo(t[e]))return!0;return!1};function Jg(t,e={}){const n=Array.isArray(t);if(Kt(t)||n)for(const r in t)Array.isArray(t[r])||Kt(t[r])&&!h$(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jg(t[r],e[r])):Xn(t[r])||(e[r]=!0);return e}function f$(t,e,n){const r=Array.isArray(t);if(Kt(t)||r)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!h$(t[i])?Ft(e)||Kg(n[i])?n[i]=Array.isArray(t[i])?Jg(t[i],[]):{...Jg(t[i])}:f$(t[i],Xn(e)?{}:e[i],n[i]):n[i]=!Da(t[i],e[i]);return n}var g1=(t,e)=>f$(t,e,Jg(e)),d$=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ft(t)?t:e?t===""?NaN:t&&+t:n&&Hi(t)?new Date(t):r?r(t):t;function y1(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return wk(e)?e.files:Sk(e)?u$(t.refs).value:c$(e)?[...e.selectedOptions].map(({value:n})=>n):Id(e)?l$(t.refs).value:d$(Ft(e.value)?t.ref.value:e.value,t)}var OW=(t,e,n,r)=>{const i={};for(const s of t){const o=le(e,s);o&&nt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},oh=t=>Ft(t)?t:Xg(t)?t.source:Kt(t)?Xg(t.value)?t.value.source:t.value:t,TW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ZI(t,e,n){const r=le(t,n);if(r||vk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=le(e,s),a=le(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var kW=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,xW=(t,e)=>!Ad(le(t,e)).length&&hn(t,e);const _W={mode:Si.onSubmit,reValidateMode:Si.onChange,shouldFocusError:!0};function CW(t={},e){let n={..._W,...t},r={submitCount:0,isDirty:!1,isLoading:Oo(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Kt(n.defaultValues)||Kt(n.values)?xa(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:xa(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:p1(),array:p1(),state:p1()},d=t.resetOptions&&t.resetOptions.keepDirtyValues,p=zI(n.mode),g=zI(n.reValidateMode),v=n.criteriaMode===Si.all,m=N=>L=>{clearTimeout(c),c=setTimeout(N,L)},y=async N=>{if(h.isValid||N){const L=n.resolver?Vr((await T()).errors):await B(i,!0);L!==r.isValid&&f.state.next({isValid:L})}},w=N=>h.isValidating&&f.state.next({isValidating:N}),S=(N,L=[],j,fe,ie=!0,K=!0)=>{if(fe&&j){if(a.action=!0,K&&Array.isArray(le(i,N))){const ge=j(le(i,N),fe.argA,fe.argB);ie&&nt(i,N,ge)}if(K&&Array.isArray(le(r.errors,N))){const ge=j(le(r.errors,N),fe.argA,fe.argB);ie&&nt(r.errors,N,ge),xW(r.errors,N)}if(h.touchedFields&&K&&Array.isArray(le(r.touchedFields,N))){const ge=j(le(r.touchedFields,N),fe.argA,fe.argB);ie&&nt(r.touchedFields,N,ge)}h.dirtyFields&&(r.dirtyFields=g1(s,o)),f.state.next({name:N,isDirty:J(N,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else nt(o,N,L)},b=(N,L)=>{nt(r.errors,N,L),f.state.next({errors:r.errors})},k=(N,L,j,fe)=>{const ie=le(i,N);if(ie){const K=le(o,N,Ft(j)?le(s,N):j);Ft(K)||fe&&fe.defaultChecked||L?nt(o,N,L?K:y1(ie._f)):Y(N,K),a.mount&&y()}},_=(N,L,j,fe,ie)=>{let K=!1,ge=!1;const bt={name:N};if(!j||fe){h.isDirty&&(ge=r.isDirty,r.isDirty=bt.isDirty=J(),K=ge!==bt.isDirty);const _t=Da(le(s,N),L);ge=le(r.dirtyFields,N),_t?hn(r.dirtyFields,N):nt(r.dirtyFields,N,!0),bt.dirtyFields=r.dirtyFields,K=K||h.dirtyFields&&ge!==!_t}if(j){const _t=le(r.touchedFields,N);_t||(nt(r.touchedFields,N,j),bt.touchedFields=r.touchedFields,K=K||h.touchedFields&&_t!==j)}return K&&ie&&f.state.next(bt),K?bt:{}},R=(N,L,j,fe)=>{const ie=le(r.errors,N),K=h.isValid&&Au(L)&&r.isValid!==L;if(t.delayError&&j?(u=m(()=>b(N,j)),u(t.delayError)):(clearTimeout(c),u=null,j?nt(r.errors,N,j):hn(r.errors,N)),(j?!Da(ie,j):ie)||!Vr(fe)||K){const ge={...fe,...K&&Au(L)?{isValid:L}:{},errors:r.errors,name:N};r={...r,...ge},f.state.next(ge)}w(!1)},T=async N=>n.resolver(o,n.context,OW(N||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),C=async N=>{const{errors:L}=await T();if(N)for(const j of N){const fe=le(L,j);fe?nt(r.errors,j,fe):hn(r.errors,j)}else r.errors=L;return L},B=async(N,L,j={valid:!0})=>{for(const fe in N){const ie=N[fe];if(ie){const{_f:K,...ge}=ie;if(K){const bt=l.array.has(K.name),_t=await JI(ie,o,v,n.shouldUseNativeValidation&&!L,bt);if(_t[K.name]&&(j.valid=!1,L))break;!L&&(le(_t,K.name)?bt?wW(r.errors,_t,K.name):nt(r.errors,K.name,_t[K.name]):hn(r.errors,K.name))}ge&&await B(ge,L,j)}}return j.valid},G=()=>{for(const N of l.unMount){const L=le(i,N);L&&(L._f.refs?L._f.refs.every(j=>!m1(j)):!m1(L._f.ref))&&un(N)}l.unMount=new Set},J=(N,L)=>(N&&L&&nt(o,N,L),!Da(Se(),s)),I=(N,L,j)=>vW(N,l,{...a.mount?o:Ft(L)?s:Hi(N)?{[N]:L}:L},j,L),D=N=>Ad(le(a.mount?o:s,N,t.shouldUnregister?le(s,N,[]):[])),Y=(N,L,j={})=>{const fe=le(i,N);let ie=L;if(fe){const K=fe._f;K&&(!K.disabled&&nt(o,N,d$(L,K)),ie=Gg(K.ref)&&Xn(L)?"":L,c$(K.ref)?[...K.ref.options].forEach(ge=>ge.selected=ie.includes(ge.value)):K.refs?Id(K.ref)?K.refs.length>1?K.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ie)?!!ie.find(bt=>bt===ge.value):ie===ge.value)):K.refs[0]&&(K.refs[0].checked=!!ie):K.refs.forEach(ge=>ge.checked=ge.value===ie):wk(K.ref)?K.ref.value="":(K.ref.value=ie,K.ref.type||f.values.next({name:N,values:{...o}})))}(j.shouldDirty||j.shouldTouch)&&_(N,ie,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&ee(N)},ne=(N,L,j)=>{for(const fe in L){const ie=L[fe],K=`${N}.${fe}`,ge=le(i,K);(l.array.has(N)||!Kg(ie)||ge&&!ge._f)&&!hu(ie)?ne(K,ie,j):Y(K,ie,j)}},M=(N,L,j={})=>{const fe=le(i,N),ie=l.array.has(N),K=xa(L);nt(o,N,K),ie?(f.array.next({name:N,values:{...o}}),(h.isDirty||h.dirtyFields)&&j.shouldDirty&&f.state.next({name:N,dirtyFields:g1(s,o),isDirty:J(N,K)})):fe&&!fe._f&&!Xn(K)?ne(N,K,j):Y(N,K,j),HI(N,l)&&f.state.next({...r}),f.values.next({name:N,values:{...o}}),!a.mount&&e()},V=async N=>{const L=N.target;let j=L.name,fe=!0;const ie=le(i,j),K=()=>L.type?y1(ie._f):hW(N);if(ie){let ge,bt;const _t=K(),Ul=N.type===qI.BLUR||N.type===qI.FOCUS_OUT,GY=!TW(ie._f)&&!n.resolver&&!le(r.errors,j)&&!ie._f.deps||kW(Ul,le(r.touchedFields,j),r.isSubmitted,g,p),vw=HI(j,l,Ul);nt(o,j,_t),Ul?(ie._f.onBlur&&ie._f.onBlur(N),u&&u(0)):ie._f.onChange&&ie._f.onChange(N);const ww=_(j,_t,Ul,!1),XY=!Vr(ww)||vw;if(!Ul&&f.values.next({name:j,type:N.type,values:{...o}}),GY)return h.isValid&&y(),XY&&f.state.next({name:j,...vw?{}:ww});if(!Ul&&vw&&f.state.next({...r}),w(!0),n.resolver){const{errors:A_}=await T([j]),KY=ZI(r.errors,i,j),N_=ZI(A_,i,KY.name||j);ge=N_.error,j=N_.name,bt=Vr(A_)}else ge=(await JI(ie,o,v,n.shouldUseNativeValidation))[j],fe=isNaN(_t)||_t===le(o,j,_t),fe&&(ge?bt=!1:h.isValid&&(bt=await B(i,!0)));fe&&(ie._f.deps&&ee(ie._f.deps),R(j,bt,ge,ww))}},ee=async(N,L={})=>{let j,fe;const ie=d1(N);if(w(!0),n.resolver){const K=await C(Ft(N)?N:ie);j=Vr(K),fe=N?!ie.some(ge=>le(K,ge)):j}else N?(fe=(await Promise.all(ie.map(async K=>{const ge=le(i,K);return await B(ge&&ge._f?{[K]:ge}:ge)}))).every(Boolean),!(!fe&&!r.isValid)&&y()):fe=j=await B(i);return f.state.next({...!Hi(N)||h.isValid&&j!==r.isValid?{}:{name:N},...n.resolver||!N?{isValid:j}:{},errors:r.errors,isValidating:!1}),L.shouldFocus&&!fe&&$b(i,K=>K&&le(r.errors,K),N?ie:l.mount),fe},Se=N=>{const L={...s,...a.mount?o:{}};return Ft(N)?L:Hi(N)?le(L,N):N.map(j=>le(L,j))},Pe=(N,L)=>({invalid:!!le((L||r).errors,N),isDirty:!!le((L||r).dirtyFields,N),isTouched:!!le((L||r).touchedFields,N),error:le((L||r).errors,N)}),yr=N=>{N&&d1(N).forEach(L=>hn(r.errors,L)),f.state.next({errors:N?r.errors:{}})},en=(N,L,j)=>{const fe=(le(i,N,{_f:{}})._f||{}).ref;nt(r.errors,N,{...L,ref:fe}),f.state.next({name:N,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&fe&&fe.focus&&fe.focus()},no=(N,L)=>Oo(N)?f.values.subscribe({next:j=>N(I(void 0,L),j)}):I(N,L,!0),un=(N,L={})=>{for(const j of N?d1(N):l.mount)l.mount.delete(j),l.array.delete(j),L.keepValue||(hn(i,j),hn(o,j)),!L.keepError&&hn(r.errors,j),!L.keepDirty&&hn(r.dirtyFields,j),!L.keepTouched&&hn(r.touchedFields,j),!n.shouldUnregister&&!L.keepDefaultValue&&hn(s,j);f.values.next({values:{...o}}),f.state.next({...r,...L.keepDirty?{isDirty:J()}:{}}),!L.keepIsValid&&y()},vr=(N,L={})=>{let j=le(i,N);const fe=Au(L.disabled);return nt(i,N,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:N}},name:N,mount:!0,...L}}),l.mount.add(N),j?fe&&nt(o,N,L.disabled?void 0:le(o,N,y1(j._f))):k(N,!0,L.value),{...fe?{disabled:L.disabled}:{},...n.shouldUseNativeValidation?{required:!!L.required,min:oh(L.min),max:oh(L.max),minLength:oh(L.minLength),maxLength:oh(L.maxLength),pattern:oh(L.pattern)}:{},name:N,onChange:V,onBlur:V,ref:ie=>{if(ie){vr(N,L),j=le(i,N);const K=Ft(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,ge=EW(K),bt=j._f.refs||[];if(ge?bt.find(_t=>_t===K):K===j._f.ref)return;nt(i,N,{_f:{...j._f,...ge?{refs:[...bt.filter(m1),K,...Array.isArray(le(s,N))?[{}]:[]],ref:{type:K.type,name:N}}:{ref:K}}}),k(N,!1,void 0,K)}else j=le(i,N,{}),j._f&&(j._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(dW(l.array,N)&&a.action)&&l.unMount.add(N)}}},Fl=()=>n.shouldFocusError&&$b(i,N=>N&&le(r.errors,N),l.mount),up=(N,L)=>async j=>{j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let fe=xa(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:ie,values:K}=await T();r.errors=ie,fe=K}else await B(i);hn(r.errors,"root"),Vr(r.errors)?(f.state.next({errors:{}}),await N(fe,j)):(L&&await L({...r.errors},j),Fl(),setTimeout(Fl)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Kc=(N,L={})=>{le(i,N)&&(Ft(L.defaultValue)?M(N,le(s,N)):(M(N,L.defaultValue),nt(s,N,L.defaultValue)),L.keepTouched||hn(r.touchedFields,N),L.keepDirty||(hn(r.dirtyFields,N),r.isDirty=L.defaultValue?J(N,le(s,N)):J()),L.keepError||(hn(r.errors,N),h.isValid&&y()),f.state.next({...r}))},ms=(N,L={})=>{const j=N||s,fe=xa(j),ie=N&&!Vr(N)?fe:s;if(L.keepDefaultValues||(s=j),!L.keepValues){if(L.keepDirtyValues||d)for(const K of l.mount)le(r.dirtyFields,K)?nt(ie,K,le(o,K)):M(K,le(ie,K));else{if(yk&&Ft(N))for(const K of l.mount){const ge=le(i,K);if(ge&&ge._f){const bt=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Gg(bt)){const _t=bt.closest("form");if(_t){_t.reset();break}}}}i={}}o=t.shouldUnregister?L.keepDefaultValues?xa(s):{}:fe,f.array.next({values:{...ie}}),f.values.next({values:{...ie}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!L.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!Da(N,s)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L.keepDirtyValues?r.dirtyFields:L.keepDefaultValues&&N?g1(s,N):{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$l=(N,L)=>ms(Oo(N)?N(o):N,L);return{control:{register:vr,unregister:un,getFieldState:Pe,_executeSchema:T,_getWatch:I,_getDirty:J,_updateValid:y,_removeUnmounted:G,_updateFieldArray:S,_getFieldArray:D,_reset:ms,_resetDefaultValues:()=>Oo(n.defaultValues)&&n.defaultValues().then(N=>{$l(N,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:N=>{r={...r,...N}},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(N){a=N},get _defaultValues(){return s},get _names(){return l},set _names(N){l=N},get _formState(){return r},set _formState(N){r=N},get _options(){return n},set _options(N){n={...n,...N}}},trigger:ee,register:vr,handleSubmit:up,watch:no,setValue:M,getValues:Se,reset:$l,resetField:Kc,clearErrors:yr,unregister:un,setError:en,setFocus:(N,L={})=>{const j=le(i,N),fe=j&&j._f;if(fe){const ie=fe.refs?fe.refs[0]:fe.ref;ie.focus&&(ie.focus(),L.shouldSelect&&ie.select())}},getFieldState:Pe}}function bk(t={}){const e=Re.useRef(),[n,r]=Re.useState({isDirty:!1,isValidating:!1,isLoading:Oo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Oo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CW(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,yW({subject:i._subjects.state,next:s=>{gW(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Re.useEffect(()=>{t.values&&!Da(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Re.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=mW(n,i),e.current}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Nd(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Rd(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var IW=function(t,e){var n=x.useState(),r=n[0],i=n[1],s=x.useState(),o=s[0],a=s[1],l=x.useState(!1),u=l[0],c=l[1],h=x.useCallback(function(f,d){return Nd(void 0,void 0,void 0,function(){var p,g;return Rd(this,function(v){switch(v.label){case 0:c(!0),i(void 0),v.label=1;case 1:return v.trys.push([1,5,6,7]),[4,A7(t,f,d)];case 2:return p=v.sent(),e&&e.sendEmailVerification&&p.user?[4,R7(p.user,e.emailVerificationOptions)]:[3,4];case 3:v.sent(),v.label=4;case 4:return a(p),[2,p];case 5:return g=v.sent(),i(g),[3,7];case 6:return c(!1),[7];case 7:return[2]}})})},[t,e]);return[h,o,u,r]},AW=function(t){var e=x.useState(),n=e[0],r=e[1],i=x.useState(!1),s=i[0],o=i[1],a=x.useCallback(function(l,u){return Nd(void 0,void 0,void 0,function(){var c;return Rd(this,function(h){switch(h.label){case 0:o(!0),r(void 0),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,I7(t,l,u)];case 2:return h.sent(),[2,!0];case 3:return c=h.sent(),r(c),[2,!1];case 4:return o(!1),[7];case 5:return[2]}})})},[t]);return[a,s,n]},NW=function(t){var e=x.useState(),n=e[0],r=e[1],i=x.useState(),s=i[0],o=i[1],a=x.useState(!1),l=a[0],u=a[1],c=x.useCallback(function(h,f){return Nd(void 0,void 0,void 0,function(){var d,p;return Rd(this,function(g){switch(g.label){case 0:u(!0),r(void 0),g.label=1;case 1:return g.trys.push([1,3,4,5]),[4,N7(t,h,f)];case 2:return d=g.sent(),o(d),[2,d];case 3:return p=g.sent(),r(p),[3,5];case 4:return u(!1),[7];case 5:return[2]}})})},[t]);return[c,s,l,n]},RW=function(t){var e=x.useCallback(function(n,r){var i=new Os;return n&&n.forEach(function(s){return i.addScope(s)}),r&&i.setCustomParameters(r),i},[]);return PW(t,e)},PW=function(t,e){var n=x.useState(),r=n[0],i=n[1],s=x.useState(),o=s[0],a=s[1],l=x.useState(!1),u=l[0],c=l[1],h=x.useCallback(function(f,d){return Nd(void 0,void 0,void 0,function(){var p,g,v;return Rd(this,function(m){switch(m.label){case 0:c(!0),i(void 0),m.label=1;case 1:return m.trys.push([1,3,4,5]),p=e(f,d),[4,nH(t,p)];case 2:return g=m.sent(),a(g),[2,g];case 3:return v=m.sent(),i(v),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[t,e]);return[h,o,u,r]},DW=function(t){var e=x.useState(),n=e[0],r=e[1],i=x.useState(!1),s=i[0],o=i[1],a=x.useCallback(function(){return Nd(void 0,void 0,void 0,function(){var l;return Rd(this,function(u){switch(u.label){case 0:o(!0),r(void 0),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,t.signOut()];case 2:return u.sent(),[2,!0];case 3:return l=u.sent(),r(l),[2,!1];case 4:return o(!1),[7];case 5:return[2]}})})},[t]);return[a,s,n]};const LW="_wrapper_tvjx1_1",MW="_loader_tvjx1_23",FW="_circular_tvjx1_30",$W="_rotate_tvjx1_1",UW="_loader_path_tvjx1_44",VW="_dash_tvjx1_1",jW="_color_tvjx1_1",Cp={wrapper:LW,"profile-main-loader":"_profile-main-loader_tvjx1_15",loader:MW,circular:FW,rotate:$W,loader_path:UW,dash:VW,color:jW},Cl=()=>uf.createPortal(E.jsx("div",{className:Cp.wrapper,children:E.jsx("div",{className:Cp.loader,children:E.jsx("svg",{className:Cp.circular,viewBox:"25 25 50 50",children:E.jsx("circle",{className:Cp.loader_path,cx:"50",cy:"50",r:"20",fill:"none",stroke:"#6957D0",strokeWidth:"2"})})})}),document.body),BW="_linkWrapper_99o3j_1",QW="_link_99o3j_1",YW="_underline_99o3j_33",qW="_boldLink_99o3j_57",zW="_boldUnderline_99o3j_65",ah={linkWrapper:BW,link:QW,underline:YW,boldLink:qW,boldUnderline:zW};var Ub={},HW={get exports(){return Ub},set exports(t){Ub=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(HW);const ft=Ub,Zg=({linkStyle:t,linkClass:e,text:n,onClick:r})=>E.jsxs("div",{className:ft(ah.linkWrapper,e),children:[E.jsx("button",{type:"button",className:ft(ah.link,{[ah.boldLink]:t==="bold"}),onClick:r,children:n}),E.jsx("div",{className:ft(ah.underline,{[ah.boldUnderline]:t==="bold"})})]}),WW="_button_cyjhx_1",GW="_span_cyjhx_45",lh={button:WW,span:GW},as=({className:t,children:e,type:n,onClick:r})=>E.jsxs("button",{type:n,className:ft(lh.button,t),onClick:r,children:[E.jsx("span",{className:lh.span}),E.jsx("span",{className:lh.span}),E.jsx("span",{className:lh.span}),E.jsx("span",{className:lh.span}),e]}),XW="_inputWrapper_136y9_1",KW="_input_136y9_1",JW="_label_136y9_53",ZW="_empty_136y9_105",eG="_error_136y9_127",ys={inputWrapper:XW,input:KW,label:JW,empty:ZW,error:eG},La=({label:t,register:e,errors:n,className:r,onChange:i})=>{var c,h,f,d;const[s,o]=x.useState(!0),{t:a}=xn(),l=p=>{const{value:g}=p.target;o(!g)},u=p=>a(p==="repeatPassword"?"login.repeatPassword":`login.${p}`);return E.jsxs("div",{className:ys.inputWrapper,children:[E.jsx("input",{type:t==="password"||t==="repeatPassword"?"password":"text",id:t,className:ft(ys.input,r,{[ys.empty]:s}),...e(t),onChange:p=>{i&&i(p),l(p)}}),E.jsx("label",{className:ft(ys.label,{[ys.empty]:s}),htmlFor:t,children:u(t)}),t==="name"&&(n==null?void 0:n.name)&&E.jsx("div",{className:ys.error,children:`${(c=n==null?void 0:n.name)==null?void 0:c.message}`||`Invalid ${t}`}),t==="email"&&(n==null?void 0:n.email)&&E.jsx("div",{className:ys.error,children:`${(h=n==null?void 0:n.email)==null?void 0:h.message}`||`Invalid ${t}`}),t==="password"&&(n==null?void 0:n.password)&&E.jsx("div",{className:ys.error,children:`${(f=n==null?void 0:n.password)==null?void 0:f.message}`||`Invalid ${t}`}),t==="repeatPassword"&&(n==null?void 0:n.repeatPassword)&&E.jsx("div",{className:ys.error,children:`${(d=n==null?void 0:n.repeatPassword)==null?void 0:d.message}`||`Invalid ${t}`})]})};var eA=function(t,e,n){if(t&&"reportValidity"in t){var r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},p$=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?eA(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return eA(o,i,t)})};for(var r in e.fields)n(r)},tG=function(t,e){e.shouldUseNativeValidation&&p$(t,e);var n={};for(var r in t){var i=le(e.fields,r);nt(n,r,Object.assign(t[r]||{},{ref:i&&i.ref}))}return n},Ek=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(u){return s.shouldUseNativeValidation&&p$({},s),{values:n.raw?r:u,errors:{}}}))}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:tG((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(u,c){if(u[c.path]||(u[c.path]={message:c.message,type:c.type}),l){var h=u[c.path].types,f=h&&h[c.type];u[c.path]=a$(c.path,l,u,c.type,f?[].concat(f,c.message):c.message)}return u},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}};function m$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=m$(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function To(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=m$(t))&&(r&&(r+=" "),r+=e);return r}const Xh=t=>typeof t=="number"&&!isNaN(t),ul=t=>typeof t=="string",cr=t=>typeof t=="function",Um=t=>ul(t)||cr(t)?t:null,v1=t=>x.isValidElement(t)||ul(t)||cr(t)||Xh(t);function nG(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function s0(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:f}=o;const d=r?`${e}--${l}`:e,p=r?`${n}--${l}`:n,g=x.useRef(0);return x.useLayoutEffect(()=>{const v=h.current,m=d.split(" "),y=w=>{w.target===h.current&&(v.dispatchEvent(new Event("d")),v.removeEventListener("animationend",y),v.removeEventListener("animationcancel",y),g.current===0&&w.type!=="animationcancel"&&v.classList.remove(...m))};v.classList.add(...m),v.addEventListener("animationend",y),v.addEventListener("animationcancel",y)},[]),x.useEffect(()=>{const v=h.current,m=()=>{v.removeEventListener("animationend",m),i?nG(v,c,s):c()};f||(u?m():(g.current=1,v.className+=` ${p}`,v.addEventListener("animationend",m)))},[f]),Re.createElement(Re.Fragment,null,a)}}function tA(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const Br={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Ip=t=>{let{theme:e,type:n,...r}=t;return Re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},w1={info:function(t){return Re.createElement(Ip,{...t},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Re.createElement(Ip,{...t},Re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Re.createElement(Ip,{...t},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Re.createElement(Ip,{...t},Re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Re.createElement("div",{className:"Toastify__spinner"})}};function rG(t){const[,e]=x.useReducer(d=>d+1,0),[n,r]=x.useState([]),i=x.useRef(null),s=x.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,a=x.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:d=>s.get(d)}).current;function l(d){let{containerId:p}=d;const{limit:g}=a.props;!g||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function u(d){r(p=>d==null?[]:p.filter(g=>g!==d))}function c(){const{toastContent:d,toastProps:p,staleId:g}=a.queue.shift();f(d,p,g)}function h(d,p){let{delay:g,staleId:v,...m}=p;if(!v1(d)||function(G){return!i.current||a.props.enableMultiContainer&&G.containerId!==a.props.containerId||s.has(G.toastId)&&G.updateId==null}(m))return;const{toastId:y,updateId:w,data:S}=m,{props:b}=a,k=()=>u(y),_=w==null;_&&a.count++;const R={...b,style:b.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(G=>{let[J,I]=G;return I!=null})),toastId:y,updateId:w,data:S,closeToast:k,isIn:!1,className:Um(m.className||b.toastClassName),bodyClassName:Um(m.bodyClassName||b.bodyClassName),progressClassName:Um(m.progressClassName||b.progressClassName),autoClose:!m.isLoading&&(T=m.autoClose,C=b.autoClose,T===!1||Xh(T)&&T>0?T:C),deleteToast(){const G=tA(s.get(y),"removed");s.delete(y),Br.emit(4,G);const J=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),J>0){const I=y==null?a.props.limit:1;if(J===1||I===1)a.displayedToast++,c();else{const D=I>J?J:I;a.displayedToast=D;for(let Y=0;Y<D;Y++)c()}}else e()}};var T,C;R.iconOut=function(G){let{theme:J,type:I,isLoading:D,icon:Y}=G,ne=null;const M={theme:J,type:I};return Y===!1||(cr(Y)?ne=Y(M):x.isValidElement(Y)?ne=x.cloneElement(Y,M):ul(Y)||Xh(Y)?ne=Y:D?ne=w1.spinner():(V=>V in w1)(I)&&(ne=w1[I](M))),ne}(R),cr(m.onOpen)&&(R.onOpen=m.onOpen),cr(m.onClose)&&(R.onClose=m.onClose),R.closeButton=b.closeButton,m.closeButton===!1||v1(m.closeButton)?R.closeButton=m.closeButton:m.closeButton===!0&&(R.closeButton=!v1(b.closeButton)||b.closeButton);let B=d;x.isValidElement(d)&&!ul(d.type)?B=x.cloneElement(d,{closeToast:k,toastProps:R,data:S}):cr(d)&&(B=d({closeToast:k,toastProps:R,data:S})),b.limit&&b.limit>0&&a.count>b.limit&&_?a.queue.push({toastContent:B,toastProps:R,staleId:v}):Xh(g)?setTimeout(()=>{f(B,R,v)},g):f(B,R,v)}function f(d,p,g){const{toastId:v}=p;g&&s.delete(g);const m={content:d,props:p};s.set(v,m),r(y=>[...y,v].filter(w=>w!==g)),Br.emit(4,tA(m,m.props.updateId==null?"added":"updated"))}return x.useEffect(()=>(a.containerId=t.containerId,Br.cancelEmit(3).on(0,h).on(1,d=>i.current&&u(d)).on(5,l).emit(2,a),()=>{s.clear(),Br.emit(3,a)}),[]),x.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(d){const p=new Map,g=Array.from(s.values());return t.newestOnTop&&g.reverse(),g.forEach(v=>{const{position:m}=v.props;p.has(m)||p.set(m,[]),p.get(m).push(v)}),Array.from(p,v=>d(v[0],v[1]))},containerRef:i,isToastActive:o}}function nA(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function rA(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function iG(t){const[e,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),o=x.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=x.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:f}=t;function d(S){if(t.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),document.addEventListener("touchmove",m),document.addEventListener("touchend",y);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=b.getBoundingClientRect(),b.style.transition="",o.x=nA(S.nativeEvent),o.y=rA(S.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=b.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(S){if(o.boundingRect){const{top:b,bottom:k,left:_,right:R}=o.boundingRect;S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=_&&o.x<=R&&o.y>=b&&o.y<=k?v():g()}}function g(){n(!0)}function v(){n(!1)}function m(S){const b=s.current;o.canDrag&&b&&(o.didMove=!0,e&&v(),o.x=nA(S),o.y=rA(S),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),b.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",y);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${t.draggableDirection}(0)`,S.style.opacity="1"}}x.useEffect(()=>{a.current=t}),x.useEffect(()=>(s.current&&s.current.addEventListener("d",g,{once:!0}),cr(t.onOpen)&&t.onOpen(x.isValidElement(t.children)&&t.children.props),()=>{const S=a.current;cr(S.onClose)&&S.onClose(x.isValidElement(S.children)&&S.children.props)}),[]),x.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",v))}),[t.pauseOnFocusLoss]);const w={onMouseDown:d,onTouchStart:d,onMouseUp:p,onTouchEnd:p};return l&&u&&(w.onMouseEnter=v,w.onMouseLeave=g),f&&(w.onClick=S=>{h&&h(S),o.canCloseOnClick&&c()}),{playToast:g,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function g$(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return Re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},Re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function sG(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:f}=t;const d=s||l&&u===0,p={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};l&&(p.transform=`scaleX(${u})`);const g=To("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),v=cr(o)?o({rtl:c,type:i,defaultClassName:g}):To(g,o);return Re.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:v,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const oG=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=iG(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:f,position:d,className:p,style:g,bodyClassName:v,bodyStyle:m,progressClassName:y,progressStyle:w,updateId:S,role:b,progress:k,rtl:_,toastId:R,deleteToast:T,isIn:C,isLoading:B,iconOut:G,closeOnClick:J,theme:I}=t,D=To("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":J}),Y=cr(p)?p({rtl:_,position:d,type:u,defaultClassName:D}):To(D,p),ne=!!k||!a,M={closeToast:h,type:u,theme:I};let V=null;return s===!1||(V=cr(s)?s(M):x.isValidElement(s)?x.cloneElement(s,M):g$(M)),Re.createElement(f,{isIn:C,done:T,position:d,preventExitTransition:n,nodeRef:r},Re.createElement("div",{id:R,onClick:l,className:Y,...i,style:g,ref:r},Re.createElement("div",{...C&&{role:b},className:cr(v)?v({type:u}):To("Toastify__toast-body",v),style:m},G!=null&&Re.createElement("div",{className:To("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},G),Re.createElement("div",null,o)),V,Re.createElement(sG,{...S&&!ne?{key:`pb-${S}`}:{},rtl:_,theme:I,delay:a,isRunning:e,isIn:C,closeToast:h,hide:c,type:u,style:w,className:y,controlledProgress:ne,progress:k||0})))},o0=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},aG=s0(o0("bounce",!0));s0(o0("slide",!0));s0(o0("zoom"));s0(o0("flip"));const Vb=x.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=rG(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const h=To("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return cr(s)?s({position:c,rtl:a,defaultClassName:h}):To(h,Um(s))}return x.useEffect(()=>{e&&(e.current=r.current)},[]),Re.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return Re.createElement("div",{className:u(c),style:f,key:`container-${c}`},h.map((d,p)=>{let{content:g,props:v}=d;return Re.createElement(oG,{...v,isIn:i(v.toastId),style:{...v.style,"--nth":p+1,"--len":h.length},key:`toast-${v.key}`},g)}))}))});Vb.displayName="ToastContainer",Vb.defaultProps={position:"top-right",transition:aG,autoClose:5e3,closeButton:g$,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let S1,_a=new Map,_h=[],lG=1;function y$(){return""+lG++}function uG(t){return t&&(ul(t.toastId)||Xh(t.toastId))?t.toastId:y$()}function Kh(t,e){return _a.size>0?Br.emit(0,t,e):_h.push({content:t,options:e}),e.toastId}function ey(t,e){return{...e,type:e&&e.type||t,toastId:uG(e)}}function Ap(t){return(e,n)=>Kh(e,ey(t,n))}function $e(t,e){return Kh(t,ey("default",e))}$e.loading=(t,e)=>Kh(t,ey("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),$e.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=ul(i)?$e.loading(i,n):$e.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,h,f)=>{if(h==null)return void $e.dismiss(r);const d={type:c,...a,...n,data:f},p=ul(h)?{render:h}:h;return r?$e.update(r,{...d,...p}):$e(p.render,{...d,...p}),f},u=cr(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},$e.success=Ap("success"),$e.info=Ap("info"),$e.error=Ap("error"),$e.warning=Ap("warning"),$e.warn=$e.warning,$e.dark=(t,e)=>Kh(t,ey("default",{theme:"dark",...e})),$e.dismiss=t=>{_a.size>0?Br.emit(1,t):_h=_h.filter(e=>t!=null&&e.options.toastId!==t)},$e.clearWaitingQueue=function(t){return t===void 0&&(t={}),Br.emit(5,t)},$e.isActive=t=>{let e=!1;return _a.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},$e.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=_a.get(s||S1);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:y$()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Kh(o,s)}},0)},$e.done=t=>{$e.update(t,{progress:1})},$e.onChange=t=>(Br.on(4,t),()=>{Br.off(4,t)}),$e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$e.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Br.on(2,t=>{S1=t.containerId||t,_a.set(S1,t),_h.forEach(e=>{Br.emit(0,e.content,e.options)}),_h=[]}).on(3,t=>{_a.delete(t.containerId||t),_a.size===0&&Br.off(0).off(1).off(5)});var cG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,Ok=Ok||{},we=cG||self;function ty(){}function a0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hG(t){return Object.prototype.hasOwnProperty.call(t,b1)&&t[b1]||(t[b1]=++fG)}var b1="closure_uid_"+(1e9*Math.random()>>>0),fG=0;function dG(t,e,n){return t.call.apply(t.bind,arguments)}function pG(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vn=dG:Vn=pG,Vn.apply(null,arguments)}function Np(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function pa(){this.s=this.s,this.o=this.o}var mG=0;pa.prototype.s=!1;pa.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),mG!=0)&&hG(this)};pa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const v$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tk(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(a0(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jn.prototype.h=function(){this.defaultPrevented=!0};var gG=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",ty,e),we.removeEventListener("test",ty,e)}catch{}return t}();function ny(t){return/^[\s\xa0]*$/.test(t)}var sA=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function E1(t,e){return t<e?-1:t>e?1:0}function l0(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function qi(t){return l0().indexOf(t)!=-1}function kk(t){return kk[" "](t),t}kk[" "]=ty;function w$(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var yG=qi("Opera"),ac=qi("Trident")||qi("MSIE"),S$=qi("Edge"),jb=S$||ac,b$=qi("Gecko")&&!(l0().toLowerCase().indexOf("webkit")!=-1&&!qi("Edge"))&&!(qi("Trident")||qi("MSIE"))&&!qi("Edge"),vG=l0().toLowerCase().indexOf("webkit")!=-1&&!qi("Edge");function E$(){var t=we.document;return t?t.documentMode:void 0}var ry;e:{var O1="",T1=function(){var t=l0();if(b$)return/rv:([^\);]+)(\)|;)/.exec(t);if(S$)return/Edge\/([\d\.]+)/.exec(t);if(ac)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vG)return/WebKit\/(\S+)/.exec(t);if(yG)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(T1&&(O1=T1?T1[1]:""),ac){var k1=E$();if(k1!=null&&k1>parseFloat(O1)){ry=String(k1);break e}}ry=O1}var wG={};function SG(){return w$(wG,9,function(){let t=0;const e=sA(String(ry)).split("."),n=sA("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=E1(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||E1(i[2].length==0,s[2].length==0)||E1(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Bb;if(we.document&&ac){var oA=E$();Bb=oA||parseInt(ry,10)||void 0}else Bb=void 0;var bG=Bb;function Lf(t,e){if(jn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(b$){e:{try{kk(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:EG[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lf.$.h.call(this)}}ln(Lf,jn);var EG={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dd="closure_listenable_"+(1e6*Math.random()|0),OG=0;function TG(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++OG,this.fa=this.ia=!1}function u0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xk(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function O$(t){const e={};for(const n in t)e[n]=t[n];return e}const aA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T$(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<aA.length;s++)n=aA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function c0(t){this.src=t,this.g={},this.h=0}c0.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Yb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new TG(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Qb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=v$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(u0(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var _k="closure_lm_"+(1e6*Math.random()|0),x1={};function k$(t,e,n,r,i){if(r&&r.once)return _$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)k$(t,e[s],n,r,i);return null}return n=Ak(n),t&&t[Dd]?t.O(e,n,Pd(r)?!!r.capture:!!r,i):x$(t,e,n,!1,r,i)}function x$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pd(i)?!!i.capture:!!i,a=Ik(t);if(a||(t[_k]=a=new c0(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=kG(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gG||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(I$(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kG(){function t(n){return e.call(t.src,t.listener,n)}const e=xG;return t}function _$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_$(t,e[s],n,r,i);return null}return n=Ak(n),t&&t[Dd]?t.P(e,n,Pd(r)?!!r.capture:!!r,i):x$(t,e,n,!0,r,i)}function C$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)C$(t,e[s],n,r,i);else r=Pd(r)?!!r.capture:!!r,n=Ak(n),t&&t[Dd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Yb(s,n,r,i),-1<n&&(u0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ik(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yb(e,n,r,i)),(n=-1<t?e[t]:null)&&Ck(n))}function Ck(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Dd])Qb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(I$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ik(e))?(Qb(n,t),n.h==0&&(n.src=null,e[_k]=null)):u0(t)}}}function I$(t){return t in x1?x1[t]:x1[t]="on"+t}function xG(t,e){if(t.fa)t=!0;else{e=new Lf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ck(t),t=n.call(r,e)}return t}function Ik(t){return t=t[_k],t instanceof c0?t:null}var _1="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ak(t){return typeof t=="function"?t:(t[_1]||(t[_1]=function(e){return t.handleEvent(e)}),t[_1])}function on(){pa.call(this),this.i=new c0(this),this.S=this,this.J=null}ln(on,pa);on.prototype[Dd]=!0;on.prototype.removeEventListener=function(t,e,n,r){C$(this,t,e,n,r)};function On(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new jn(e,t);else if(e instanceof jn)e.target=e.target||t;else{var i=e;e=new jn(r,t),T$(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rp(o,r,!0,e)&&i}if(o=e.g=t,i=Rp(o,r,!0,e)&&i,i=Rp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rp(o,r,!1,e)&&i}on.prototype.N=function(){if(on.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)u0(n[r]);delete t.g[e],t.h--}}this.J=null};on.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};on.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Qb(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Nk=we.JSON.stringify;function _G(){var t=R$;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CG{constructor(){this.h=this.g=null}add(e,n){const r=A$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var A$=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new IG,t=>t.reset());class IG{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AG(t){we.setTimeout(()=>{throw t},0)}function N$(t,e){qb||NG(),zb||(qb(),zb=!0),R$.add(t,e)}var qb;function NG(){var t=we.Promise.resolve(void 0);qb=function(){t.then(RG)}}var zb=!1,R$=new CG;function RG(){for(var t;t=_G();){try{t.h.call(t.g)}catch(n){AG(n)}var e=A$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zb=!1}function h0(t,e){on.call(this),this.h=t||1,this.g=e||we,this.j=Vn(this.qb,this),this.l=Date.now()}ln(h0,on);te=h0.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(Rk(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rk(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){h0.$.N.call(this),Rk(this),delete this.g};function Pk(t,e,n){if(typeof t=="function")n&&(t=Vn(t,n));else if(t&&typeof t.handleEvent=="function")t=Vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function P$(t){t.g=Pk(()=>{t.g=null,t.i&&(t.i=!1,P$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PG extends pa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P$(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mf(t){pa.call(this),this.h=t,this.g={}}ln(Mf,pa);var lA=[];function D$(t,e,n,r){Array.isArray(n)||(n&&(lA[0]=n.toString()),n=lA);for(var i=0;i<n.length;i++){var s=k$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function L$(t){xk(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ck(e)},t),t.g={}}Mf.prototype.N=function(){Mf.$.N.call(this),L$(this)};Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function f0(){this.g=!0}f0.prototype.Ea=function(){this.g=!1};function DG(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function LG(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function fu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FG(t,n)+(r?" "+r:"")})}function MG(t,e){t.info(function(){return"TIMEOUT: "+e})}f0.prototype.info=function(){};function FG(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Nk(n)}catch{return e}}var Il={},uA=null;function d0(){return uA=uA||new on}Il.Ta="serverreachability";function M$(t){jn.call(this,Il.Ta,t)}ln(M$,jn);function Ff(t){const e=d0();On(e,new M$(e))}Il.STAT_EVENT="statevent";function F$(t,e){jn.call(this,Il.STAT_EVENT,t),this.stat=e}ln(F$,jn);function Jn(t){const e=d0();On(e,new F$(e,t))}Il.Ua="timingevent";function $$(t,e){jn.call(this,Il.Ua,t),this.size=e}ln($$,jn);function Ld(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var p0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dk(){}Dk.prototype.h=null;function cA(t){return t.h||(t.h=t.i())}function V$(){}var Md={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lk(){jn.call(this,"d")}ln(Lk,jn);function Mk(){jn.call(this,"c")}ln(Mk,jn);var Hb;function m0(){}ln(m0,Dk);m0.prototype.g=function(){return new XMLHttpRequest};m0.prototype.i=function(){return{}};Hb=new m0;function Fd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mf(this),this.P=$G,t=jb?125:void 0,this.V=new h0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new j$}function j$(){this.i=null,this.g="",this.h=!1}var $G=45e3,Wb={},iy={};te=Fd.prototype;te.setTimeout=function(t){this.P=t};function Gb(t,e,n){t.L=1,t.v=y0(qs(e)),t.s=n,t.S=!0,B$(t,null)}function B$(t,e){t.G=Date.now(),$d(t),t.A=qs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),X$(n.i,"t",r),t.C=0,n=t.l.I,t.h=new j$,t.g=yU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new PG(Vn(t.Pa,t,t.g),t.O)),D$(t.U,t.g,"readystatechange",t.nb),e=t.I?O$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ff(),DG(t.j,t.u,t.A,t.m,t.W,t.s)}te.nb=function(t){t=t.target;const e=this.M;e&&Is(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const c=Is(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||jb||this.g&&(this.h.h||this.g.ja()||pA(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ff(3):Ff(2)),g0(this);var n=this.g.da();this.aa=n;t:if(Q$(this)){var r=pA(this.g);t="";var i=r.length,s=Is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ma(this),Jh(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,LG(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ny(a)){var u=a;break t}}u=null}if(n=u)fu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xb(this,n);else{this.i=!1,this.o=3,Jn(12),Ma(this),Jh(this);break e}}this.S?(Y$(this,c,o),jb&&this.i&&c==3&&(D$(this.U,this.V,"tick",this.mb),this.V.start())):(fu(this.j,this.m,o,null),Xb(this,o)),c==4&&Ma(this),this.i&&!this.J&&(c==4?dU(this.l,this):(this.i=!1,$d(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),Ma(this),Jh(this)}}}catch{}finally{}};function Q$(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Y$(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=UG(t,n),i==iy){e==4&&(t.o=4,Jn(14),r=!1),fu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Wb){t.o=4,Jn(15),fu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fu(t.j,t.m,i,null),Xb(t,i);Q$(t)&&i!=iy&&i!=Wb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qk(e),e.L=!0,Jn(11))):(fu(t.j,t.m,n,"[Invalid Chunked Response]"),Ma(t),Jh(t))}te.mb=function(){if(this.g){var t=Is(this.g),e=this.g.ja();this.C<e.length&&(g0(this),Y$(this,t,e),this.i&&t!=4&&$d(this))}};function UG(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?iy:(n=Number(e.substring(n,r)),isNaN(n)?Wb:(r+=1,r+n>e.length?iy:(e=e.substr(r,n),t.C=r+n,e)))}te.cancel=function(){this.J=!0,Ma(this)};function $d(t){t.Y=Date.now()+t.P,q$(t,t.P)}function q$(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ld(Vn(t.lb,t),e)}function g0(t){t.B&&(we.clearTimeout(t.B),t.B=null)}te.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MG(this.j,this.A),this.L!=2&&(Ff(),Jn(17)),Ma(this),this.o=2,Jh(this)):q$(this,this.Y-t)};function Jh(t){t.l.H==0||t.J||dU(t.l,t)}function Ma(t){g0(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Rk(t.V),L$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Xb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kb(n.h,t))){if(!t.K&&Kb(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ay(n),S0(n);else break e;Bk(n),Jn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=Ld(Vn(n.ib,n),6e3));if(1>=Z$(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Fa(n,11)}else if((t.K||n.g==t)&&ay(n),!ny(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const h=u[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Fk(s,s.h),s.h=null))}if(r.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ht(r.G,r.F,g))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=gU(r,r.I?r.oa:null,r.Y),o.K){eU(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(g0(a),$d(a)),r.g=o}else hU(r);0<n.i.length&&b0(n)}else u[0]!="stop"&&u[0]!="close"||Fa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fa(n,7):jk(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}Ff(4)}catch{}}function VG(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(a0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jG(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(a0(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function z$(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(a0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jG(t),r=VG(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var H$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ha(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ha){this.h=e!==void 0?e:t.h,sy(this,t.j),this.s=t.s,this.g=t.g,oy(this,t.m),this.l=t.l,e=t.i;var n=new $f;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hA(this,n),this.o=t.o}else t&&(n=String(t).match(H$))?(this.h=!!e,sy(this,n[1]||"",!0),this.s=Ch(n[2]||""),this.g=Ch(n[3]||"",!0),oy(this,n[4]),this.l=Ch(n[5]||"",!0),hA(this,n[6]||"",!0),this.o=Ch(n[7]||"")):(this.h=!!e,this.i=new $f(null,this.h))}Ha.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ih(e,fA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ih(e,fA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ih(n,n.charAt(0)=="/"?qG:YG,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ih(n,HG)),t.join("")};function qs(t){return new Ha(t)}function sy(t,e,n){t.j=n?Ch(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hA(t,e,n){e instanceof $f?(t.i=e,WG(t.i,t.h)):(n||(e=Ih(e,zG)),t.i=new $f(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function y0(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ch(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ih(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QG),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QG(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fA=/[#\/\?@]/g,YG=/[#\?:]/g,qG=/[#\?]/g,zG=/[#\?@]/g,HG=/#/g;function $f(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ma(t){t.g||(t.g=new Map,t.h=0,t.i&&BG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=$f.prototype;te.add=function(t,e){ma(this),this.i=null,t=Mc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function W$(t,e){ma(t),e=Mc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function G$(t,e){return ma(t),e=Mc(t,e),t.g.has(e)}te.forEach=function(t,e){ma(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};te.sa=function(){ma(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};te.Z=function(t){ma(this);let e=[];if(typeof t=="string")G$(this,t)&&(e=e.concat(this.g.get(Mc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return ma(this),this.i=null,t=Mc(this,t),G$(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function X$(t,e,n){W$(t,e),0<n.length&&(t.i=null,t.g.set(Mc(t,e),Tk(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Mc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WG(t,e){e&&!t.j&&(ma(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(W$(this,r),X$(this,i,n))},t)),t.j=e}var GG=class{constructor(t,e){this.h=t,this.g=e}};function K$(t){this.l=t||XG,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XG=10;function J$(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Z$(t){return t.h?1:t.g?t.g.size:0}function Kb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fk(t,e){t.g?t.g.add(e):t.h=e}function eU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}K$.prototype.cancel=function(){if(this.i=tU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tU(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tk(t.i)}function $k(){}$k.prototype.stringify=function(t){return we.JSON.stringify(t,void 0)};$k.prototype.parse=function(t){return we.JSON.parse(t,void 0)};function KG(){this.g=new $k}function JG(t,e,n){const r=n||"";try{z$(t,function(i,s){let o=i;Pd(i)&&(o=Nk(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZG(t,e){const n=new f0;if(we.Image){const r=new Image;r.onload=Np(Pp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Np(Pp,n,r,"TestLoadImage: error",!1,e),r.onabort=Np(Pp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Np(Pp,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ud(t){this.l=t.fc||null,this.j=t.ob||!1}ln(Ud,Dk);Ud.prototype.g=function(){return new v0(this.l,this.j)};Ud.prototype.i=function(t){return function(){return t}}({});function v0(t,e){on.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ln(v0,on);var Uk=0;te=v0.prototype;te.open=function(t,e){if(this.readyState!=Uk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uf(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vd(this)),this.readyState=Uk};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function nU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vd(this):Uf(this),this.readyState==3&&nU(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Vd(this))};te.Ya=function(t){this.g&&(this.response=t,Vd(this))};te.ka=function(){this.g&&Vd(this)};function Vd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uf(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Uf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(v0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eX=we.JSON.parse;function xt(t){on.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rU,this.L=this.M=!1}ln(xt,on);var rU="",tX=/^https?$/i,nX=["POST","PUT"];te=xt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hb.g(),this.C=this.u?cA(this.u):cA(Hb),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){dA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=v$(nX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oU(this),0<this.B&&((this.L=rX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=Pk(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){dA(this,s)}};function rX(t){return ac&&SG()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof Ok<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function dA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iU(t),w0(t)}function iU(t){t.F||(t.F=!0,On(t,"complete"),On(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,On(this,"complete"),On(this,"abort"),w0(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),w0(this,!0)),xt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?sU(this):this.kb())};te.kb=function(){sU(this)};function sU(t){if(t.h&&typeof Ok<"u"&&(!t.C[1]||Is(t)!=4||t.da()!=2)){if(t.v&&Is(t)==4)Pk(t.La,0,t);else if(On(t,"readystatechange"),Is(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(H$)[1]||null;if(!i&&we.self&&we.self.location){var s=we.self.location.protocol;i=s.substr(0,s.length-1)}r=!tX.test(i?i.toLowerCase():"")}n=r}if(n)On(t,"complete"),On(t,"success");else{t.m=6;try{var o=2<Is(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",iU(t)}}finally{w0(t)}}}}function w0(t,e){if(t.g){oU(t);const n=t.g,r=t.C[0]?ty:null;t.g=null,t.C=null,e||On(t,"ready");try{n.onreadystatechange=r}catch{}}}function oU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}function Is(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eX(e)}};function pA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case rU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aU(t){let e="";return xk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Vk(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aU(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function uh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lU(t){this.Ga=0,this.i=[],this.j=new f0,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uh("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uh("baseRetryDelayMs",5e3,t),this.hb=uh("retryDelaySeedMs",1e4,t),this.eb=uh("forwardChannelMaxRetries",2,t),this.xa=uh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new K$(t&&t.concurrentRequestLimit),this.Ja=new KG,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}te=lU.prototype;te.qa=8;te.H=1;function jk(t){if(uU(t),t.H==3){var e=t.W++,n=qs(t.G);ht(n,"SID",t.J),ht(n,"RID",e),ht(n,"TYPE","terminate"),jd(t,n),e=new Fd(t,t.j,e,void 0),e.L=2,e.v=y0(qs(n)),n=!1,we.navigator&&we.navigator.sendBeacon&&(n=we.navigator.sendBeacon(e.v.toString(),"")),!n&&we.Image&&(new Image().src=e.v,n=!0),n||(e.g=yU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$d(e)}mU(t)}function S0(t){t.g&&(Qk(t),t.g.cancel(),t.g=null)}function uU(t){S0(t),t.u&&(we.clearTimeout(t.u),t.u=null),ay(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function b0(t){J$(t.h)||t.m||(t.m=!0,N$(t.Na,t),t.C=0)}function iX(t,e){return Z$(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ld(Vn(t.Na,t,e),pU(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fd(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=O$(s),T$(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cU(this,i,e),n=qs(this.G),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),jd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(aU(s)))+"&"+e:this.o&&Vk(n,this.o,s)),Fk(this.h,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.ba=!0,Gb(i,n,null)):Gb(i,n,e),this.H=2}}else this.H==3&&(t?mA(this,t):this.i.length==0||J$(this.h)||mA(this))};function mA(t,e){var n;e?n=e.m:n=t.W++;const r=qs(t.G);ht(r,"SID",t.J),ht(r,"RID",n),ht(r,"AID",t.V),jd(t,r),t.o&&t.s&&Vk(r,t.o,t.s),n=new Fd(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=cU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fk(t.h,n),Gb(n,r,e)}function jd(t,e){t.ma&&xk(t.ma,function(n,r){ht(e,r,n)}),t.l&&z$({},function(n,r){ht(e,r,n)})}function cU(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Vn(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{JG(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function hU(t){t.g||t.u||(t.ba=1,N$(t.Ma,t),t.A=0)}function Bk(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ld(Vn(t.Ma,t),pU(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,fU(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Ld(Vn(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Jn(10),S0(this),fU(this))};function Qk(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function fU(t){t.g=new Fd(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=qs(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.J),ht(e,"CI",t.M?"0":"1"),ht(e,"AID",t.V),ht(e,"TYPE","xmlhttp"),jd(t,e),t.o&&t.s&&Vk(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=y0(qs(e)),n.s=null,n.S=!0,B$(n,t)}te.ib=function(){this.v!=null&&(this.v=null,S0(this),Bk(this),Jn(19))};function ay(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function dU(t,e){var n=null;if(t.g==e){ay(t),Qk(t),t.g=null;var r=2}else if(Kb(t.h,e))n=e.F,eU(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=d0(),On(r,new $$(r,n)),b0(t)}else hU(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&iX(t,e)||r==2&&Bk(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}}function pU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Fa(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Vn(t.pb,t);n||(n=new Ha("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||sy(n,"https"),y0(n)),ZG(n.toString(),r)}else Jn(2);t.H=0,t.l&&t.l.za(e),mU(t),uU(t)}te.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Jn(2)):(this.j.info("Failed to ping google.com"),Jn(1))};function mU(t){if(t.H=0,t.pa=[],t.l){const e=tU(t.h);(e.length!=0||t.i.length!=0)&&(iA(t.pa,e),iA(t.pa,t.i),t.h.i.length=0,Tk(t.i),t.i.length=0),t.l.ya()}}function gU(t,e,n){var r=n instanceof Ha?qs(n):new Ha(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),oy(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ha(null,void 0);r&&sy(s,r),e&&(s.g=e),i&&oy(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.qa),jd(t,r),r}function yU(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xt(new Ud({ob:!0})):new xt(t.va),e.Oa(t.I),e}function vU(){}te=vU.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.Va=function(){};function ly(){if(ac&&!(10<=Number(bG)))throw Error("Environmental error: no available transport.")}ly.prototype.g=function(t,e){return new Lr(t,e)};function Lr(t,e){on.call(this),this.g=new lU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ny(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ny(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fc(this)}ln(Lr,on);Lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Jn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=gU(t,null,t.Y),b0(t)};Lr.prototype.close=function(){jk(this.g)};Lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nk(t),t=n);e.i.push(new GG(e.fb++,t)),e.H==3&&b0(e)};Lr.prototype.N=function(){this.g.l=null,delete this.j,jk(this.g),delete this.g,Lr.$.N.call(this)};function wU(t){Lk.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ln(wU,Lk);function SU(){Mk.call(this),this.status=1}ln(SU,Mk);function Fc(t){this.g=t}ln(Fc,vU);Fc.prototype.Ba=function(){On(this.g,"a")};Fc.prototype.Aa=function(t){On(this.g,new wU(t))};Fc.prototype.za=function(t){On(this.g,new SU)};Fc.prototype.ya=function(){On(this.g,"b")};function sX(){this.blockSize=-1}function _i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ln(_i,sX);_i.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function C1(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_i.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)C1(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){C1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){C1(this,r),i=0;break}}this.h=i,this.i+=e};_i.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var oX={};function Yk(t){return-128<=t&&128>t?w$(oX,t,function(e){return new ze([e|0],0>e?-1:0)}):new ze([t|0],0>t?-1:0)}function Wi(t){if(isNaN(t)||!isFinite(t))return Nu;if(0>t)return mn(Wi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Jb;return new ze(e,0)}function bU(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mn(bU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wi(Math.pow(e,8)),r=Nu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wi(Math.pow(e,s)),r=r.R(s).add(Wi(o))):(r=r.R(n),r=r.add(Wi(o)))}return r}var Jb=4294967296,Nu=Yk(0),Zb=Yk(1),gA=Yk(16777216);te=ze.prototype;te.ea=function(){if(qr(this))return-mn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Jb+r)*e,e*=Jb}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(As(this))return"0";if(qr(this))return"-"+mn(this).toString(t);for(var e=Wi(Math.pow(t,6)),n=this,r="";;){var i=cy(n,e).g;n=uy(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,As(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function As(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qr(t){return t.h==-1}te.X=function(t){return t=uy(this,t),qr(t)?-1:As(t)?0:1};function mn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ze(n,~t.h).add(Zb)}te.abs=function(){return qr(this)?mn(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ze(n,n[n.length-1]&-2147483648?-1:0)};function uy(t,e){return t.add(mn(e))}te.R=function(t){if(As(this)||As(t))return Nu;if(qr(this))return qr(t)?mn(this).R(mn(t)):mn(mn(this).R(t));if(qr(t))return mn(this.R(mn(t)));if(0>this.X(gA)&&0>t.X(gA))return Wi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Dp(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Dp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Dp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Dp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ze(n,0)};function Dp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ch(t,e){this.g=t,this.h=e}function cy(t,e){if(As(e))throw Error("division by zero");if(As(t))return new ch(Nu,Nu);if(qr(t))return e=cy(mn(t),e),new ch(mn(e.g),mn(e.h));if(qr(e))return e=cy(t,mn(e)),new ch(mn(e.g),e.h);if(30<t.g.length){if(qr(t)||qr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Zb,r=e;0>=r.X(t);)n=yA(n),r=yA(r);var i=Bl(n,1),s=Bl(r,1);for(r=Bl(r,2),n=Bl(n,2);!As(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Bl(r,1),n=Bl(n,1)}return e=uy(t,i.R(e)),new ch(i,e)}for(i=Nu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Wi(n),o=s.R(e);qr(o)||0<o.X(t);)n-=r,s=Wi(n),o=s.R(e);As(s)&&(s=Zb),i=i.add(s),t=uy(t,o)}return new ch(i,t)}te.gb=function(t){return cy(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ze(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ze(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ze(n,this.h^t.h)};function yA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ze(n,t.h)}function Bl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ze(i,t.h)}ly.prototype.createWebChannel=ly.prototype.g;Lr.prototype.send=Lr.prototype.u;Lr.prototype.open=Lr.prototype.m;Lr.prototype.close=Lr.prototype.close;p0.NO_ERROR=0;p0.TIMEOUT=8;p0.HTTP_ERROR=6;U$.COMPLETE="complete";V$.EventType=Md;Md.OPEN="a";Md.CLOSE="b";Md.ERROR="c";Md.MESSAGE="d";on.prototype.listen=on.prototype.O;xt.prototype.listenOnce=xt.prototype.P;xt.prototype.getLastError=xt.prototype.Sa;xt.prototype.getLastErrorCode=xt.prototype.Ia;xt.prototype.getStatus=xt.prototype.da;xt.prototype.getResponseJson=xt.prototype.Wa;xt.prototype.getResponseText=xt.prototype.ja;xt.prototype.send=xt.prototype.ha;xt.prototype.setWithCredentials=xt.prototype.Oa;_i.prototype.digest=_i.prototype.l;_i.prototype.reset=_i.prototype.reset;_i.prototype.update=_i.prototype.j;ze.prototype.add=ze.prototype.add;ze.prototype.multiply=ze.prototype.R;ze.prototype.modulo=ze.prototype.gb;ze.prototype.compare=ze.prototype.X;ze.prototype.toNumber=ze.prototype.ea;ze.prototype.toString=ze.prototype.toString;ze.prototype.getBits=ze.prototype.D;ze.fromNumber=Wi;ze.fromString=bU;var aX=function(){return new ly},lX=function(){return d0()},I1=p0,uX=U$,cX=Il,vA={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hX=Ud,Lp=V$,fX=xt,dX=_i,Ru=ze;const wA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new ik("@firebase/firestore");function SA(){return cl.logLevel}function de(t,...e){if(cl.logLevel<=Ue.DEBUG){const n=e.map(qk);cl.debug(`Firestore (${$c}): ${t}`,...n)}}function zs(t,...e){if(cl.logLevel<=Ue.ERROR){const n=e.map(qk);cl.error(`Firestore (${$c}): ${t}`,...n)}}function lc(t,...e){if(cl.logLevel<=Ue.WARN){const n=e.map(qk);cl.warn(`Firestore (${$c}): ${t}`,...n)}}function qk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+t;throw zs(e),new Error(e)}function ot(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class mX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gX{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new EU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new Pn(e)}}class yX{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vX{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new yX(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SX{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.T=n.token,new wX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Gt(0,0))}static max(){return new be(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Vf{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const EX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Vf{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return EX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function OX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new Zo(i,me.empty(),e)}function TX(t){return new Zo(t.readTime,t.key,-1)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(be.min(),me.empty(),-1)}static max(){return new Zo(be.max(),me.empty(),-1)}}function kX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _X{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==xX)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}zk.ct=-1;function E0(t){return t==null}function hy(t){return t===0&&1/t==-1/0}function CX(t){return typeof t=="number"&&Number.isInteger(t)&&!hy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mp(this.root,e,this.comparator,!0)}}class Mp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=s??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(t,e,n,r,i){return this}insert(t,e,n){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EA(this.data.getIterator())}getIteratorFrom(e){return new EA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class EA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new bi([])}unionWith(e){let n=new Bn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kU("Invalid base64 string: "+i):i}}(e);return new qn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const IX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(ot(!!t),typeof t=="string"){let e=0;const n=IX.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hl(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wk(t){const e=t.mapValue.fields.__previous_value__;return Hk(e)?Wk(e):e}function jf(t){const e=ea(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Bf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hk(t)?4:NX(t)?9007199254740991:10:ve()}function ls(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jf(t).isEqual(jf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ea(r.timestampValue),o=ea(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return hl(r.bytesValue).isEqual(hl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return $t(r.geoPointValue.latitude)===$t(i.geoPointValue.latitude)&&$t(r.geoPointValue.longitude)===$t(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $t(r.integerValue)===$t(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=$t(r.doubleValue),o=$t(i.doubleValue);return s===o?hy(s)===hy(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(bA(s)!==bA(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!ls(s[a],o[a])))return!1;return!0}(t,e);default:return ve()}}function Qf(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function cc(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=$t(i.integerValue||i.doubleValue),a=$t(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(jf(t),jf(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,s){const o=hl(i),a=hl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=je(o[l],a[l]);if(u!==0)return u}return je(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=je($t(i.latitude),$t(s.latitude));return o!==0?o:je($t(i.longitude),$t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=cc(o[l],a[l]);if(u)return u}return je(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Fp.mapValue&&s===Fp.mapValue)return 0;if(i===Fp.mapValue)return 1;if(s===Fp.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=je(a[c],u[c]);if(h!==0)return h;const f=cc(o[a[c]],l[u[c]]);if(f!==0)return f}return je(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ea(t),r=ea(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function hc(t){return eE(t)}function eE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ea(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,me.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=eE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${eE(r.fields[a])}`;return s+"}"}(t.mapValue):ve();var e,n}function TA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tE(t){return!!t&&"integerValue"in t}function Gk(t){return!!t&&"arrayValue"in t}function kA(t){return!!t&&"nullValue"in t}function xA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vm(t){return!!t&&"mapValue"in t}function Zh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zh(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zr(Zh(this.value))}}function xU(t){const e=[];return Uc(t.fields,(n,r)=>{const i=new $n([n]);if(Vm(r)){const s=xU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,be.min(),be.min(),be.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,be.min(),be.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,be.min(),be.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.position=e,this.inclusive=n}}function _A(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=cc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function RX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{}class jt extends _U{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DX(e,n,r):n==="array-contains"?new FX(e,r):n==="in"?new $X(e,r):n==="not-in"?new UX(e,r):n==="array-contains-any"?new VX(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LX(e,r):new MX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cc(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(cc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ci extends _U{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ci(e,n)}matches(e){return CU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function CU(t){return t.op==="and"}function IU(t){return PX(t)&&CU(t)}function PX(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function nE(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(IU(t))return t.filters.map(e=>nE(e)).join(",");{const e=t.filters.map(n=>nE(n)).join(",");return`${t.op}(${e})`}}function AU(t,e){return t instanceof jt?function(n,r){return r instanceof jt&&n.op===r.op&&n.field.isEqual(r.field)&&ls(n.value,r.value)}(t,e):t instanceof Ci?function(n,r){return r instanceof Ci&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&AU(s,r.filters[o]),!0):!1}(t,e):void ve()}function NU(t){return t instanceof jt?function(e){return`${e.field.canonicalString()} ${e.op} ${hc(e.value)}`}(t):t instanceof Ci?function(e){return e.op.toString()+" {"+e.getFilters().map(NU).join(" ,")+"}"}(t):"Filter"}class DX extends jt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class LX extends jt{constructor(e,n){super(e,"in",n),this.keys=RU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MX extends jt{constructor(e,n){super(e,"not-in",n),this.keys=RU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class FX extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gk(n)&&Qf(n.arrayValue,this.value)}}class $X extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qf(this.value.arrayValue,n)}}class UX extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qf(this.value.arrayValue,n)}}class VX extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gk(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function IA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jX(t,e,n,r,i,s,o)}function Xk(t){const e=Te(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),E0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hc(r)).join(",")),e.ft=n}return e.ft}function Kk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CA(t.startAt,e.startAt)&&CA(t.endAt,e.endAt)}function rE(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function BX(t,e,n,r,i,s,o,a){return new Yd(t,e,n,r,i,s,o,a)}function PU(t){return new Yd(t)}function AA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DU(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jk(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function LU(t){return t.collectionGroup!==null}function Pu(t){const e=Te(t);if(e.dt===null){e.dt=[];const n=Jk(e),r=DU(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ef(n)),e.dt.push(new ef($n.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ef($n.keyField(),s))}}}return e.dt}function Hs(t){const e=Te(t);if(!e._t)if(e.limitType==="F")e._t=IA(e.path,e.collectionGroup,Pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Pu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ef(s.field,o))}const r=e.endAt?new fy(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fy(e.startAt.position,e.startAt.inclusive):null;e._t=IA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function iE(t,e){e.getFirstInequalityField(),Jk(t);const n=t.filters.concat([e]);return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sE(t,e,n){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function O0(t,e){return Kk(Hs(t),Hs(e))&&t.limitType===e.limitType}function MU(t){return`${Xk(Hs(t))}|lt:${t.limitType}`}function oE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>NU(r)).join(", ")}]`),E0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hc(r)).join(",")),`Target(${n})`}(Hs(t))}; limitType=${t.limitType})`}function T0(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):me.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Pu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=_A(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Pu(n),r)||n.endAt&&!function(i,s,o){const a=_A(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Pu(n),r))}(t,e)}function QX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FU(t){return(e,n)=>{let r=!1;for(const i of Pu(t)){const s=YX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function YX(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?cc(a,l):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=new St(me.comparator);function Ws(){return qX}const $U=new St(me.comparator);function Ah(...t){let e=$U;for(const n of t)e=e.insert(n.key,n);return e}function UU(t){let e=$U;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $a(){return tf()}function VU(){return tf()}function tf(){return new Vc(t=>t.toString(),(t,e)=>t.isEqual(e))}const zX=new St(me.comparator),HX=new Bn(me.comparator);function Ie(...t){let e=HX;for(const n of t)e=e.add(n);return e}const WX=new Bn(je);function GX(){return WX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hy(e)?"-0":e}}function BU(t){return{integerValue:""+t}}function XX(t,e){return CX(e)?BU(e):jU(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function KX(t,e,n){return t instanceof dy?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Hk(i)&&(i=Wk(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Yf?YU(t,e):t instanceof qf?qU(t,e):function(r,i){const s=QU(r,i),o=NA(s)+NA(r.wt);return tE(s)&&tE(r.wt)?BU(o):jU(r.serializer,o)}(t,e)}function JX(t,e,n){return t instanceof Yf?YU(t,e):t instanceof qf?qU(t,e):n}function QU(t,e){return t instanceof py?tE(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class dy extends k0{}class Yf extends k0{constructor(e){super(),this.elements=e}}function YU(t,e){const n=zU(e);for(const r of t.elements)n.some(i=>ls(i,r))||n.push(r);return{arrayValue:{values:n}}}class qf extends k0{constructor(e){super(),this.elements=e}}function qU(t,e){let n=zU(e);for(const r of t.elements)n=n.filter(i=>!ls(i,r));return{arrayValue:{values:n}}}class py extends k0{constructor(e,n){super(),this.serializer=e,this.wt=n}}function NA(t){return $t(t.integerValue||t.doubleValue)}function zU(t){return Gk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZX(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Yf&&r instanceof Yf||n instanceof qf&&r instanceof qf?uc(n.elements,r.elements,ls):n instanceof py&&r instanceof py?ls(n.wt,r.wt):n instanceof dy&&r instanceof dy}(t.transform,e.transform)}class eK{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class x0{}function HU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new GU(t.key,Rs.none()):new qd(t.key,t.data,Rs.none());{const n=t.data,r=zr.empty();let i=new Bn($n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Al(t.key,r,new bi(i.toArray()),Rs.none())}}function tK(t,e,n){t instanceof qd?function(r,i,s){const o=r.value.clone(),a=PA(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Al?function(r,i,s){if(!jm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=PA(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function nf(t,e,n,r){return t instanceof qd?function(i,s,o,a){if(!jm(i.precondition,s))return o;const l=i.value.clone(),u=DA(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Al?function(i,s,o,a){if(!jm(i.precondition,s))return o;const l=DA(i.fieldTransforms,a,s),u=s.data;return u.setAll(WU(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return jm(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function nK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QU(r.transform,i||null);s!=null&&(n===null&&(n=zr.empty()),n.set(r.field,s))}return n||null}function RA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uc(n,r,(i,s)=>ZX(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qd extends x0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Al extends x0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PA(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JX(o,a,n[i]))}return r}function DA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,KX(s,o,e))}return r}class GU extends x0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rK extends x0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=HU(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>RA(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>RA(n,r))}}class Zk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=zX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,De;function aK(t){switch(t){default:return ve();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function XU(t){if(t===void 0)return zs("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Lt.OK:return Q.OK;case Lt.CANCELLED:return Q.CANCELLED;case Lt.UNKNOWN:return Q.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Q.INTERNAL;case Lt.UNAVAILABLE:return Q.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Q.NOT_FOUND;case Lt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Lt.ABORTED:return Q.ABORTED;case Lt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Lt.DATA_LOSS:return Q.DATA_LOSS;default:return ve()}}(De=Lt||(Lt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $p}static getOrCreateInstance(){return $p===null&&($p=new ex),$p}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $p=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new Ru([4294967295,4294967295],0);function LA(t){const e=lK().encode(t),n=new dX;return n.update(e),new Uint8Array(n.digest())}function MA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ru([n,r],0),new Ru([i,s],0)]}class tx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nh(`Invalid padding: ${n}`);if(r<0)throw new Nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nh(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=Ru.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(Ru.fromNumber(r)));return i.compare(uK)===1&&(i=new Ru([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=LA(e),[r,i]=MA(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tx(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.yt===0)return;const n=LA(e),[r,i]=MA(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _0(be.min(),i,new St(je),Ws(),Ie())}}class zd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zd(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class KU{constructor(e,n){this.targetId=e,this.bt=n}}class JU{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FA{constructor(){this.Vt=0,this.St=UA(),this.Dt=qn.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Ie(),n=Ie(),r=Ie();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new zd(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=UA()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class cK{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ws(),this.jt=$A(),this.zt=new St(je)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(rE(o))if(i===0){const a=new me(o.path);this.Jt(r,a,Mn.newNoDocument(a,be.min()))}else ot(i===1);else{const a=this.se(r);if(a!==i){const l=this.ie(e,a);if(l!==0){this.te(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,u)}(n=ex.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var f,d,p,g,v,m;const y={localCacheCount:c,existenceFilterCount:h.count},w=h.unchangedNames;return w&&(y.bloomFilter={applied:u===0,hashCount:(f=w==null?void 0:w.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(g=(p=(d=w==null?void 0:w.bits)===null||d===void 0?void 0:d.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(m=(v=w==null?void 0:w.bits)===null||v===void 0?void 0:v.padding)!==null&&m!==void 0?m:0}),y}(l,a,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=hl(s).toUint8Array()}catch(c){if(c instanceof kU)return lc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new tx(l,o,a)}catch(c){return lc(c instanceof Nh?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.yt===0?1:i!==n-this.re(e.targetId,u)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.At(a)||(this.Jt(e,s,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((s,o)=>{const a=this.ne(o);if(a){if(s.current&&rE(a.target)){const l=new me(a.target.path);this.Qt.get(l)!==null||this.ce(o,l)||this.Jt(o,l,Mn.newNoDocument(l,e))}s.kt&&(n.set(o,s.Ot()),s.$t())}});let r=Ie();this.jt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ne(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new _0(e,n,this.zt,this.Qt,r);return this.Qt=Ws(),this.jt=$A(),this.zt=new St(je),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new FA,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new Bn(je),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new FA),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function $A(){return new St(me.comparator)}function UA(){return new St(me.comparator)}const hK=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fK=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dK=(()=>({and:"AND",or:"OR"}))();class pK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aE(t,e){return t.useProto3Json||E0(e)?e:{value:e}}function my(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mK(t,e){return my(t,e.toTimestamp())}function is(t){return ot(!!t),be.fromTimestamp(function(e){const n=ea(e);return new Gt(n.seconds,n.nanos)}(t))}function nx(t,e){return function(n){return new it(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function eV(t){const e=it.fromString(t);return ot(iV(e)),e}function lE(t,e){return nx(t.databaseId,e.path)}function A1(t,e){const n=eV(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(tV(n))}function uE(t,e){return nx(t.databaseId,e)}function gK(t){const e=eV(t);return e.length===4?it.emptyPath():tV(e)}function cE(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tV(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VA(t,e,n){return{name:lE(t,e),fields:n.value.mapValue.fields}}function yK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(ot(u===void 0||typeof u=="string"),qn.fromBase64String(u||"")):(ot(u===void 0||u instanceof Uint8Array),qn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?Q.UNKNOWN:XU(l.code);return new ce(u,l.message||"")}(o);n=new JU(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=A1(t,r.document.name),s=is(r.document.updateTime),o=r.document.createTime?is(r.document.createTime):be.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=Mn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=A1(t,r.document),s=r.readTime?is(r.readTime):be.min(),o=Mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=A1(t,r.document),s=r.removedTargetIds||[];n=new Bm([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oK(i,s),a=r.targetId;n=new KU(a,o)}}return n}function vK(t,e){let n;if(e instanceof qd)n={update:VA(t,e.key,e.value)};else if(e instanceof GU)n={delete:lE(t,e.key)};else if(e instanceof Al)n={update:VA(t,e.key,e.data),updateMask:_K(e.fieldMask)};else{if(!(e instanceof rK))return ve();n={verify:lE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof py)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function wK(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?is(r.updateTime):is(i);return s.isEqual(be.min())&&(s=is(i)),new eK(s,r.transformResults||[])}(n,e))):[]}function SK(t,e){return{documents:[uE(t,e.path)]}}function bK(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=uE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return rV(Ci.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Gl(c.field),direction:TK(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aE(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EK(t){let e=gK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=nV(c);return h instanceof Ci&&IU(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ef(Xl(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,E0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new fy(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new fy(f,h)}(n.endAt)),BX(e,i,o,s,a,"F",l,u)}function OK(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nV(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xl(e.unaryFilter.field);return jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Xl(e.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xl(e.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xl(e.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(e){return jt.create(Xl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ci.create(e.compositeFilter.filters.map(n=>nV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ve()}}(e.compositeFilter.op))}(t):ve()}function TK(t){return hK[t]}function kK(t){return fK[t]}function xK(t){return dK[t]}function Gl(t){return{fieldPath:t.canonicalString()}}function Xl(t){return $n.fromServerFormat(t.fieldPath)}function rV(t){return t instanceof jt?function(e){if(e.op==="=="){if(xA(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(kA(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(xA(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(kA(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:kK(e.op),value:e.value}}}(t):t instanceof Ci?function(e){const n=e.getFilters().map(r=>rV(r));return n.length===1?n[0]:{compositeFilter:{op:xK(e.op),filters:n}}}(t):ve()}function _K(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r,i,s=be.min(),o=be.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.le=e}}function IK(t){const e=EK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.sn=new NK}addToCollectionParentIndex(e,n){return this.sn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Zo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class NK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new fc(0)}static kn(){return new fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.changes=new Vc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nf(r.mutation,i,bi.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=$a();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ah();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ws();const o=tf(),a=tf();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Al)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),nf(c.mutation,u,c.mutation.getFieldMask(),Gt.now())):o.set(u.key,bi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new PK(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tf();let i=new St((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||bi.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=VU();c.forEach(f=>{if(!s.has(f)){const d=HU(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve($a());let a=-1,l=s;return o.next(u=>H.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?H.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:a,changes:UU(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ah();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,a=>{const l=function(u,c){return new Yd(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Mn.newInvalidDocument(u)))});let o=Ah();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&nf(u.mutation,l,bi.empty(),Gt.now()),T0(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return H.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:is(r.createTime)}),H.resolve()}getNamedQuery(e,n){return H.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:IK(r.bundledQuery),readTime:is(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.overlays=new St(me.comparator),this.hs=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$a();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.de(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=$a(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new St((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=$a(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$a(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return H.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sK(n,r));let s=this.hs.get(n);s===void 0&&(s=Ie(),this.hs.set(n,s)),this.hs.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.ls=new Bn(tn.fs),this.ds=new Bn(tn._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new tn(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new tn(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new me(new it([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new me(new it([])),r=new tn(n,e),i=new tn(n,e+1);let s=Ie();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tn(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return me.comparator(e.key,n.key)||je(e.Es,n.Es)}static _s(e,n){return je(e.Es,n.Es)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Bn(tn.fs)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iK(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new tn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.vs(o.Es);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(je);return n.forEach(i=>{const s=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.Es)})}),H.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new tn(new me(s),0);let a=new Bn(je);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Es)),!0)},o),H.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return H.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new tn(n,0),i=this.Rs.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.Ss=e,this.docs=new St(me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Ws();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ws();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kX(TX(c),r)<=0||(i.has(c.key)||T0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Ds(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UK(this)}getSize(e){return H.resolve(this.size)}}class UK extends RK{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.persistence=e,this.Cs=new Vc(n=>Xk(n),Kk),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.xs=0,this.Ns=new rx,this.targetCount=0,this.ks=fc.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),H.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.$n(n),H.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.Ms={},this.overlays={},this.Os=new zk(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new VK(this),this.indexManager=new AK,this.remoteDocumentCache=function(r){return new $K(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new CK(n),this.Ls=new LK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new FK(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new BK(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,n){return H.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class BK extends _X{constructor(e){super(),this.currentSequenceNumber=e}}class ix{constructor(e){this.persistence=e,this.Gs=new rx,this.Qs=null}static js(e){return new ix(e)}get zs(){if(this.Qs)return this.Qs;throw ve()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),H.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.zs,r=>{const i=me.fromPath(r);return this.Ws(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return H.or([()=>H.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(s=>s||this.Ki(e,n,i,r)).next(s=>s||this.Gi(e,n))}Ui(e,n){if(AA(n))return H.resolve(null);let r=Hs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sE(n,null,"F"),r=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.qi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Qi(n,a);return this.ji(n,u,o,l.readTime)?this.Ui(e,sE(n,null,"F")):this.zi(e,u,n,l)}))})))}Ki(e,n,r,i){return AA(n)||i.isEqual(be.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(n,s);return this.ji(n,o,r,i)?this.Gi(e,n):(SA()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oE(n)),this.zi(e,o,n,OX(i,-1)))})}Qi(e,n){let r=new Bn(FU(e));return n.forEach((i,s)=>{T0(e,s)&&(r=r.add(s))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,n){return SA()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",oE(n)),this.qi.getDocumentsMatchingQuery(e,n,Zo.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new St(je),this.Ji=new Vc(s=>Xk(s),Kk),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DK(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function qK(t,e,n,r){return new YK(t,e,n,r)}async function sV(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({tr:u,removedBatchIds:o,addedBatchIds:a}))})})}function zK(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=H.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(p=>{const g=l.docVersions.get(d);ot(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ie();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oV(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function HK(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Fs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Fs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(qn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,c)&&a.push(n.Fs.updateTargetData(s,d))});let l=Ws(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(WK(s,o,e.documentUpdates).next(c=>{l=c.er,u=c.nr})),!r.isEqual(be.min())){const c=n.Fs.getLastRemoteSnapshotVersion(s).next(h=>n.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Hi=i,s))}function WK(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ws();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{er:o,nr:i}})}function GK(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XK(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Fs.allocateTargetId(r).next(o=>(i=new ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function hE(t,e,n){const r=Te(t),i=r.Hi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qd(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function jA(t,e,n){const r=Te(t);let i=be.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Te(a),h=c.Ji.get(u);return h!==void 0?H.resolve(c.Hi.get(h)):c.Fs.getTargetData(l,u)}(r,o,Hs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:Ie())).next(a=>(KK(r,QX(e),a),{documents:a,sr:s})))}function KK(t,e,n){let r=t.Yi.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Yi.set(e,r)}class BA{constructor(){this.activeTargetIds=GX()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JK{constructor(){this.Wr=new BA,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new BA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up=null;function N1(){return Up===null?Up=268435456+Math.round(2147483648*Math.random()):Up++,"0x"+Up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class nJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,s){const o=N1(),a=this.Io(e,n);de("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.To(l,i,s),this.Eo(e,a,l,r).then(u=>(de("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw lc("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Ao(e,n,r,i,s,o){return this.po(e,n,r,i,s)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$c,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,n){const r=eJ[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const s=N1();return new Promise((o,a)=>{const l=new fX;l.setWithCredentials(!0),l.listenOnce(uX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case I1.NO_ERROR:const c=l.getResponseJson();de(An,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case I1.TIMEOUT:de(An,`RPC '${e}' ${s} timed out`),a(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case I1.HTTP_ERROR:const h=l.getStatus();if(de(An,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(v)>=0?v:Q.UNKNOWN}(d.status);a(new ce(p,d.message))}else a(new ce(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{de(An,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);de(An,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=N1(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aX(),a=lX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new hX({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");de(An,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,f=!1;const d=new tJ({io:g=>{f?de(An,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(de(An,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),de(An,`RPC '${e}' stream ${i} sending:`,g),c.send(g))},ro:()=>c.close()}),p=(g,v,m)=>{g.listen(v,y=>{try{m(y)}catch(w){setTimeout(()=>{throw w},0)}})};return p(c,Lp.EventType.OPEN,()=>{f||de(An,`RPC '${e}' stream ${i} transport opened.`)}),p(c,Lp.EventType.CLOSE,()=>{f||(f=!0,de(An,`RPC '${e}' stream ${i} transport closed`),d.fo())}),p(c,Lp.EventType.ERROR,g=>{f||(f=!0,lc(An,`RPC '${e}' stream ${i} transport errored:`,g),d.fo(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),p(c,Lp.EventType.MESSAGE,g=>{var v;if(!f){const m=g.data[0];ot(!!m);const y=m,w=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(w){de(An,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let b=function(_){const R=Lt[_];if(R!==void 0)return XU(R)}(S),k=w.message;b===void 0&&(b=Q.INTERNAL,k="Unknown error status: "+S+" with message "+w.message),f=!0,d.fo(new ce(b,k)),c.close()}else de(An,`RPC '${e}' stream ${i} received:`,m),d._o(m)}}),p(a,cX.STAT_EVENT,g=>{g.stat===vA.PROXY?de(An,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===vA.NOPROXY&&de(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.lo()},0),d}}function R1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return new pK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new aV(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rJ extends lV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=yK(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?is(s.readTime):be.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=cE(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=rE(a)?{documents:SK(i,a)}:{query:bK(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZU(i,s.resumeToken);const l=aE(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(be.min())>0){o.readTime=my(i,s.snapshotVersion.toTimestamp());const l=aE(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=OK(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=cE(this.serializer),n.removeTarget=e,this.zo(n)}}class iJ extends lV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=wK(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.uu(r,n)}return ot(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=cE(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vK(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(Q.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Q.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class oJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(zs(n),this.wu=!1):de("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(o=>{r.enqueueAndForget(async()=>{Nl(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Te(a);l.Au.add(4),await Hd(l),l.Pu.set("Unknown"),l.Au.delete(4),await I0(l)}(this))})}),this.Pu=new oJ(r,i)}}async function I0(t){if(Nl(t))for(const e of t.Ru)await e(!0)}async function Hd(t){for(const e of t.Ru)await e(!1)}function uV(t,e){const n=Te(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),lx(n)?ax(n):jc(n).Uo()&&ox(n,e))}function cV(t,e){const n=Te(t),r=jc(n);n.Eu.delete(e),r.Uo()&&hV(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():Nl(n)&&n.Pu.set("Unknown"))}function ox(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).nu(e)}function hV(t,e){t.bu.Lt(e),jc(t).su(e)}function ax(t){t.bu=new cK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.Pu.mu()}function lx(t){return Nl(t)&&!jc(t).qo()&&t.Eu.size>0}function Nl(t){return Te(t).Au.size===0}function fV(t){t.bu=void 0}async function lJ(t){t.Eu.forEach((e,n)=>{ox(t,e)})}async function uJ(t,e){fV(t),lx(t)?(t.Pu.pu(e),ax(t)):t.Pu.set("Unknown")}async function cJ(t,e,n){if(t.Pu.set("Online"),e instanceof JU&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Eu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Eu.delete(o),r.bu.removeTarget(o))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gy(t,r)}else if(e instanceof Bm?t.bu.Wt(e):e instanceof KU?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(be.min()))try{const r=await oV(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Eu.get(l);u&&i.Eu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Eu.get(a);if(!u)return;i.Eu.set(a,u.withResumeToken(qn.EMPTY_BYTE_STRING,u.snapshotVersion)),hV(i,a);const c=new ko(u.target,a,l,u.sequenceNumber);ox(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await gy(t,r)}}async function gy(t,e,n){if(!Qd(e))throw e;t.Au.add(1),await Hd(t),t.Pu.set("Offline"),n||(n=()=>oV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await I0(t)})}function dV(t,e){return e().catch(n=>gy(t,n,e))}async function A0(t){const e=Te(t),n=ta(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;hJ(e);)try{const i=await GK(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,fJ(e,i)}catch(i){await gy(e,i)}pV(e)&&mV(e)}function hJ(t){return Nl(t)&&t.Tu.length<10}function fJ(t,e){t.Tu.push(e);const n=ta(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function pV(t){return Nl(t)&&!ta(t).qo()&&t.Tu.length>0}function mV(t){ta(t).start()}async function dJ(t){ta(t).au()}async function pJ(t){const e=ta(t);for(const n of t.Tu)e.ou(n.mutations)}async function mJ(t,e,n){const r=t.Tu.shift(),i=Zk.from(r,e,n);await dV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await A0(t)}async function gJ(t,e){e&&ta(t).ru&&await async function(n,r){if(i=r.code,aK(i)&&i!==Q.ABORTED){const s=n.Tu.shift();ta(n).Go(),await dV(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await A0(n)}var i}(t,e),pV(t)&&mV(t)}async function YA(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Nl(n);n.Au.add(3),await Hd(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await I0(n)}async function yJ(t,e){const n=Te(t);e?(n.Au.delete(2),await I0(n)):e||(n.Au.add(2),await Hd(n),n.Pu.set("Unknown"))}function jc(t){return t.Vu||(t.Vu=function(e,n,r){const i=Te(e);return i.lu(),new rJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:lJ.bind(null,t),co:uJ.bind(null,t),eu:cJ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),lx(t)?ax(t):t.Pu.set("Unknown")):(await t.Vu.stop(),fV(t))})),t.Vu}function ta(t){return t.Su||(t.Su=function(e,n,r){const i=Te(e);return i.lu(),new iJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:dJ.bind(null,t),co:gJ.bind(null,t),cu:pJ.bind(null,t),uu:mJ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await A0(t)):(await t.Su.stop(),t.Tu.length>0&&(de("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ux(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cx(t,e){if(zs("AsyncQueue",`${e}: ${t}`),Qd(t))return new ce(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Ah(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Du=new St(me.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):ve():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class dc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new dc(e,n,Du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&O0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(){this.xu=void 0,this.listeners=[]}}class wJ{constructor(){this.queries=new Vc(e=>MU(e),O0),this.onlineState="Unknown",this.Nu=new Set}}async function SJ(t,e){const n=Te(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new vJ),i)try{s.xu=await n.onListen(r)}catch(o){const a=cx(o,`Initialization of query '${oE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ku(n.onlineState),s.xu&&e.Mu(s.xu)&&hx(n)}async function bJ(t,e){const n=Te(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function EJ(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Mu(i)&&(r=!0);o.xu=i}}r&&hx(n)}function OJ(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function hx(t){t.Nu.forEach(e=>{e.next()})}class TJ{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.key=e}}class yV{constructor(e){this.key=e}}class kJ{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Ie(),this.mutatedKeys=Ie(),this.Zu=FU(e),this.tc=new Du(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new qA,i=n?n.tc:this.tc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=T0(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(r.track({type:3,doc:d}),v=!0):this.ic(f,d)||(r.track({type:2,doc:d}),v=!0,(l&&this.Zu(d,l)>0||u&&this.Zu(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),v=!0):f&&!d&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tc:o,sc:r,ji:a,mutatedKeys:s}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((u,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return d(h)-d(f)}(u.type,c.type)||this.Zu(u.doc,c.doc)),this.rc(r);const o=n?this.oc():[],a=this.Xu.size===0&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,s.length!==0||l?{snapshot:new dc(this.query,e.tc,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new qA,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Ie(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new yV(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new gV(r))}),n}ac(e){this.Ju=e.sr,this.Xu=Ie();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return dc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class xJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _J{constructor(e){this.key=e,this.lc=!1}}class CJ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Vc(a=>MU(a),O0),this._c=new Map,this.wc=new Set,this.mc=new St(me.comparator),this.gc=new Map,this.yc=new rx,this.Ic={},this.Tc=new Map,this.Ec=fc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function IJ(t,e){const n=UJ(t);let r,i;const s=n.dc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=await XK(n.localStore,Hs(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AJ(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&uV(n.remoteStore,o)}return i}async function AJ(t,e,n,r,i){t.Rc=(h,f,d)=>async function(p,g,v,m){let y=g.view.nc(v);y.ji&&(y=await jA(p.localStore,g.query,!1).then(({documents:b})=>g.view.nc(b,y)));const w=m&&m.targetChanges.get(g.targetId),S=g.view.applyChanges(y,p.isPrimaryClient,w);return HA(p,g.targetId,S.uc),S.snapshot}(t,h,f,d);const s=await jA(t.localStore,e,!0),o=new kJ(e,s.sr),a=o.nc(s.documents),l=zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);HA(t,n,u.uc);const c=new xJ(e,n,o);return t.dc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function NJ(t,e){const n=Te(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!O0(s,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hE(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cV(n.remoteStore,r.targetId),fE(n,r.targetId)}).catch(Bd)):(fE(n,r.targetId),await hE(n.localStore,r.targetId,!0))}async function RJ(t,e,n){const r=VJ(t);try{const i=await function(s,o){const a=Te(s),l=Gt.now(),u=o.reduce((f,d)=>f.add(d.key),Ie());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=Ws(),p=Ie();return a.Xi.getEntries(f,u).next(g=>{d=g,d.forEach((v,m)=>{m.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(g=>{c=g;const v=[];for(const m of o){const y=nK(m,c.get(m.key).overlayedDocument);y!=null&&v.push(new Al(m.key,y,xU(y.value.mapValue),Rs.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:UU(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Ic[s.currentUser.toKey()];l||(l=new St(je)),l=l.insert(o,a),s.Ic[s.currentUser.toKey()]=l}(r,i.batchId,n),await Wd(r,i.changes),await A0(r.remoteStore)}catch(i){const s=cx(i,"Failed to persist write");n.reject(s)}}async function vV(t,e){const n=Te(t);try{const r=await HK(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.gc.get(s);o&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?ot(o.lc):i.removedDocuments.size>0&&(ot(o.lc),o.lc=!1))}),await Wd(n,r,e)}catch(r){await Bd(r)}}function zA(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((s,o)=>{const a=o.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Te(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.ku(o)&&(l=!0)}),l&&hx(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PJ(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new St(me.comparator);o=o.insert(s,Mn.newNoDocument(s,be.min()));const a=Ie().add(s),l=new _0(be.min(),new Map,new St(je),o,a);await vV(r,l),r.mc=r.mc.remove(s),r.gc.delete(e),fx(r)}else await hE(r.localStore,e,!1).then(()=>fE(r,e,n)).catch(Bd)}async function DJ(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await zK(n.localStore,e);SV(n,r,null),wV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wd(n,i)}catch(i){await Bd(i)}}async function LJ(t,e,n){const r=Te(t);try{const i=await function(s,o){const a=Te(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ot(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);SV(r,e,n),wV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wd(r,i)}catch(i){await Bd(i)}}function wV(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function SV(t,e,n){const r=Te(t);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function fE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||bV(t,r)})}function bV(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(cV(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),fx(t))}function HA(t,e,n){for(const r of n)r instanceof gV?(t.yc.addReference(r.key,e),MJ(t,r)):r instanceof yV?(de("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||bV(t,r.key)):ve()}function MJ(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(de("SyncEngine","New document in limbo: "+n),t.wc.add(r),fx(t))}function fx(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new me(it.fromString(e)),r=t.Ec.next();t.gc.set(r,new _J(n)),t.mc=t.mc.insert(n,r),uV(t.remoteStore,new ko(Hs(PU(n.path)),r,"TargetPurposeLimboResolution",zk.ct))}}async function Wd(t,e,n){const r=Te(t),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=sx.Bi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fc.eu(i),await async function(a,l){const u=Te(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>H.forEach(l,h=>H.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>H.forEach(h.Fi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Qd(c))throw c;de("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Hi.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);u.Hi=u.Hi.insert(h,p)}}}(r.localStore,s))}async function FJ(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await sV(n.localStore,e);n.currentUser=e,function(i,s){i.Tc.forEach(o=>{o.forEach(a=>{a.reject(new ce(Q.CANCELLED,s))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wd(n,r.tr)}}function $J(t,e){const n=Te(t),r=n.gc.get(e);if(r&&r.lc)return Ie().add(r.key);{let i=Ie();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.dc.get(o);i=i.unionWith(a.view.ec)}return i}}function UJ(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$J.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PJ.bind(null,e),e.fc.eu=EJ.bind(null,e.eventManager),e.fc.vc=OJ.bind(null,e.eventManager),e}function VJ(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LJ.bind(null,e),e}class WA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=C0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qK(this.persistence,new QK,e.initialUser,this.serializer)}createPersistence(e){return new jK(ix.js,this.serializer)}createSharedClientState(e){return new JK}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jJ{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FJ.bind(null,this.syncEngine),await yJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wJ}createDatastore(e){const n=C0(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new nJ(i));var i;return function(s,o,a,l){return new sJ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zA(this.syncEngine,a,0),o=QA.D()?new QA:new ZK,new aJ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new CJ(r,i,s,o,a,l);return u&&(c.Ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Te(e);de("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Hd(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=OU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{de("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function P1(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qJ(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>YA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YA(e.remoteStore,s)),t._onlineComponents=e}function YJ(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await P1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YJ(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await P1(t,new WA)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await P1(t,new WA);return t._offlineComponents}async function EV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await GA(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await GA(t,new jJ))),t._onlineComponents}function zJ(t){return EV(t).then(e=>e.syncEngine)}async function HJ(t){const e=await EV(t),n=e.eventManager;return n.onListen=IJ.bind(null,e.syncEngine),n.onUnlisten=NJ.bind(null,e.syncEngine),n}function WJ(t,e,n={}){const r=new Yo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new BJ({next:h=>{s.enqueueAndForget(()=>bJ(i,c)),h.fromCache&&a.source==="server"?l.reject(new ce(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new TJ(o,u,{includeMetadataChanges:!0,Uu:!0});return SJ(i,c)}(await HJ(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t,e,n){if(!n)throw new ce(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GJ(t,e,n,r){if(e===!0&&r===!0)throw new ce(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KA(t){if(!me.isDocumentKey(t))throw new ce(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JA(t){if(me.isDocumentKey(t))throw new ce(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function yy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N0(t);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pX;switch(n.type){case"firstParty":return new vX(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=XA.get(e);n&&(de("ComponentProvider","Removing Datastore"),XA.delete(e),n.terminate())}(this),Promise.resolve()}}function XJ(t,e,n,r={}){var i;const s=(t=yy(t,R0))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&lc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Pn.MOCK_USER;else{o=Sz(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ce(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Pn(l)}t._authCredentials=new mX(new EU(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class Bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bc(this.firestore,e,this._query)}}class qo extends Bc{constructor(e,n,r){super(e,n,PU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new me(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function TV(t,e,...n){if(t=ir(t),OV("collection","path",e),t instanceof R0){const r=it.fromString(e,...n);return JA(r),new qo(t,null,r)}{if(!(t instanceof Kr||t instanceof qo))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return JA(r),new qo(t.firestore,null,r)}}function KJ(t,e,...n){if(t=ir(t),arguments.length===1&&(e=OU.A()),OV("doc","path",e),t instanceof R0){const r=it.fromString(e,...n);return KA(r),new Kr(t,null,new me(r))}{if(!(t instanceof Kr||t instanceof qo))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return KA(r),new Kr(t.firestore,t instanceof qo?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new aV(this,"async_queue_retry"),this.Yc=()=>{const n=R1();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=R1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=R1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Yo;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!Qd(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw zs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=ux.createAndSchedule(this,e,n,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&ve()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}class dx extends R0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JJ,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xV(this),this._firestoreClient.terminate()}}function ZJ(t,e){const n=typeof t=="object"?t:mF(),r=typeof t=="string"?t:e||"(default)",i=ok(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yz("firestore");s&&XJ(i,...s)}return i}function kV(t){return t._firestoreClient||xV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xV(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new AX(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QJ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(qn.fromBase64String(e))}catch(n){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=/^__.*__$/;class tZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Al(e,this.data,this.fieldMask,n,this.fieldTransforms):new qd(e,this.data,n,this.fieldTransforms)}}function CV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class gx{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new gx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return vy(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(CV(this.ua)&&eZ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||C0(e)}ga(e,n,r,i=!1){return new gx({ua:e,methodName:n,ma:r,path:$n.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IV(t){const e=t._freezeSettings(),n=C0(t._databaseId);return new nZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rZ(t,e,n,r,i,s={}){const o=t.ga(s.merge||s.mergeFields?2:0,e,n,i);RV("Data must be an object, but it was:",o,r);const a=AV(r,o);let l,u;if(s.merge)l=new bi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=sZ(e,h,n);if(!o.contains(f))throw new ce(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);aZ(c,f)||c.push(f)}l=new bi(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new tZ(new zr(a),l,u)}function iZ(t,e,n,r=!1){return yx(n,t.ga(r?4:3,e))}function yx(t,e){if(NV(t=ir(t)))return RV("Unsupported field value:",e,t),AV(t,e);if(t instanceof _V)return function(n,r){if(!CV(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=yx(o,r.da(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ir(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return XX(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Gt.fromDate(n);return{timestampValue:my(r.serializer,i)}}if(n instanceof Gt){const i=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:my(r.serializer,i)}}if(n instanceof mx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pc)return{bytesValue:ZU(r.serializer,n._byteString)};if(n instanceof Kr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${N0(n)}`)}(t,e)}function AV(t,e){const n={};return TU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uc(t,(r,i)=>{const s=yx(i,e.aa(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof mx||t instanceof pc||t instanceof Kr||t instanceof _V)}function RV(t,e,n){if(!NV(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=N0(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function sZ(t,e,n){if((e=ir(e))instanceof px)return e._internalPath;if(typeof e=="string")return PV(t,e);throw vy("Field path arguments must be of type string or ",t,!1,void 0,n)}const oZ=new RegExp("[~\\*/\\[\\]]");function PV(t,e,n){if(e.search(oZ)>=0)throw vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new px(...e.split("."))._internalPath}catch{throw vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(Q.INVALID_ARGUMENT,a+t+l)}function aZ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lZ extends DV{data(){return super.data()}}function vx(t,e){return typeof e=="string"?PV(t,e):e instanceof px?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wx{}class cZ extends wx{}function hZ(t,e,...n){let r=[];e instanceof wx&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Sx).length,o=i.filter(a=>a instanceof P0).length;if(s>1||s>0&&o>0)throw new ce(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class P0 extends cZ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new P0(e,n,r)}_apply(e){const n=this._parse(e);return LV(e._query,n),new Bc(e.firestore,e.converter,iE(e._query,n))}_parse(e){const n=IV(e.firestore);return function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tN(c,u);const f=[];for(const d of c)f.push(eN(a,i,d));h={arrayValue:{values:f}}}else h=eN(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tN(c,u),h=iZ(o,s,c,u==="in"||u==="not-in");return jt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fZ(t,e,n){const r=e,i=vx("where",t);return P0._create(i,r,n)}class Sx extends wx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)LV(s,a),s=iE(s,a)}(e._query,n),new Bc(e.firestore,e.converter,iE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function eN(t,e,n){if(typeof(n=ir(n))=="string"){if(n==="")throw new ce(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LU(e)&&n.indexOf("/")!==-1)throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!me.isDocumentKey(r))throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TA(t,new me(r))}if(n instanceof Kr)return TA(t,n._key);throw new ce(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(n)}.`)}function tN(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LV(t,e){if(e.isInequality()){const r=Jk(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ce(Q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=DU(t);s!==null&&dZ(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dZ(t,e,n){if(!n.isEqual(e))throw new ce(Q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pZ{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new mx($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wk(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jf(e));default:return null}}convertTimestamp(e){const n=ea(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);ot(iV(r));const i=new Bf(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||zs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gZ extends DV{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qm extends gZ{data(e={}){return super.data(e)}}class yZ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qm(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Qm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vp(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Qm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vp(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:vZ(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class wZ extends pZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}}function SZ(t){t=yy(t,Bc);const e=yy(t.firestore,dx),n=kV(e),r=new wZ(e);return uZ(t._query),WJ(n,t._query).then(i=>new yZ(e,r,t,i))}function bZ(t,e){const n=yy(t.firestore,dx),r=KJ(t),i=mZ(t.converter,e);return EZ(n,[rZ(IV(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rs.exists(!1))]).then(()=>r)}function EZ(t,e){return function(n,r){const i=new Yo;return n.asyncQueue.enqueueAndForget(async()=>RJ(await zJ(n),r,i)),i.promise}(kV(t),e)}(function(t,e=!0){(function(n){$c=n})(Dc),sc(new sl("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new dx(new gX(n.getProvider("auth-internal")),new SX(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qo(wA,"3.11.0",t),Qo(wA,"3.11.0","esm2017")})();const MV=async(t,e)=>{const n=hZ(TV(e,"users"),fZ("uid","==",t.uid));return await SZ(n)};var OZ="firebase",TZ="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(OZ,TZ,"app");const kZ={apiKey:"AIzaSyB1DdGJNwMqUhNw1LZqMEq97l07kV_SRvY",authDomain:"rs-graphql.firebaseapp.com",databaseURL:"https://rs-graphql-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rs-graphql",storageBucket:"rs-graphql.appspot.com",messagingSenderId:"129962341436",appId:"1:129962341436:web:9daa83f95790680b393f39",measurementId:"G-LS7EYX098J"},FV=pF(kZ),Gd=ZF(FV),dE=ZJ(FV),xZ=async t=>{const{docs:e}=await MV(t,dE);return e[0].data().name},_Z=async(t,e)=>{const{docs:n}=await MV(t,dE);return n.length===0&&await bZ(TV(dE,"users"),{uid:t.uid,name:e??t.displayName,authProvider:"local",email:t.email}),!0},CZ="_container_1cn5u_1",IZ="_loginWrapper_1cn5u_25",AZ="_img_1cn5u_51",NZ="_title_1cn5u_61",RZ="_form_1cn5u_77",PZ="_formContainer_1cn5u_79",DZ="_submitButton_1cn5u_91",LZ="_submitInput_1cn5u_101",MZ="_resetButton_1cn5u_123",FZ="_select_1cn5u_131",$Z="_googleButton_1cn5u_145",UZ="_input_1cn5u_171",VZ="_empty_1cn5u_171",jZ="_valid_1cn5u_171",Ut={container:CZ,loginWrapper:IZ,img:AZ,title:NZ,form:RZ,formContainer:PZ,submitButton:DZ,submitInput:LZ,resetButton:MZ,select:FZ,googleButton:$Z,input:UZ,empty:VZ,valid:jZ},BZ=""+new URL("google-9b090734.png",import.meta.url).href,QZ=()=>{const{t}=xn(),e=Zs(),n=kl(),[r,i,s,o]=RW(Gd);x.useEffect(()=>{i&&(e(nc(i.user.displayName??"Unknown")),e(rc(!0)),n("/")),o&&$e(o.message,{type:"error"})},[o,i,n,e]);const a=()=>{r()};return E.jsxs(E.Fragment,{children:[s&&E.jsx(Cl,{}),E.jsxs(as,{type:"button",className:Ut.googleButton,onClick:a,children:[E.jsx("img",{width:"20px",src:BZ,alt:"Google"}),t("login.google")]})]})};function Rl(t){this._maxSize=t,this.clear()}Rl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Rl.prototype.get=function(t){return this._values[t]};Rl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var YZ=/[^.^\]^[]+|(?=\[\]|\.\.)/g,$V=/^\d+$/,qZ=/^\d/,zZ=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,HZ=/^\s*(['"]?)(.*?)(\1)\s*$/,bx=512,nN=new Rl(bx),rN=new Rl(bx),iN=new Rl(bx),Wa={Cache:Rl,split:pE,normalizePath:D1,setter:function(t){var e=D1(t);return rN.get(t)||rN.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=D1(t);return iN.get(t)||iN.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Ex(n)||$V.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){WZ(Array.isArray(t)?t:pE(t),e,n)}};function D1(t){return nN.get(t)||nN.set(t,pE(t).map(function(e){return e.replace(HZ,"$2")}))}function pE(t){return t.match(YZ)||[""]}function WZ(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(KZ(i)&&(i='"'+i+'"'),a=Ex(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Ex(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function GZ(t){return t.match(qZ)&&!t.match($V)}function XZ(t){return zZ.test(t)}function KZ(t){return!Ex(t)&&(GZ(t)||XZ(t))}const JZ=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,D0=t=>t.match(JZ)||[],L0=t=>t[0].toUpperCase()+t.slice(1),Ox=(t,e)=>D0(t).join(e).toLowerCase(),UV=t=>D0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),ZZ=t=>L0(UV(t)),eee=t=>Ox(t,"_"),tee=t=>Ox(t,"-"),nee=t=>L0(Ox(t," ")),ree=t=>D0(t).map(L0).join(" ");var L1={words:D0,upperFirst:L0,camelCase:UV,pascalCase:ZZ,snakeCase:eee,kebabCase:tee,sentenceCase:nee,titleCase:ree},wy={},iee={get exports(){return wy},set exports(t){wy=t}};iee.exports=function(t){return VV(see(t),t)};wy.array=VV;function VV(t,e){var n=t.length,r=new Array(n),i={},s=n,o=oee(e),a=aee(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var d=o.get(u)||new Set;if(d=Array.from(d),c=d.length){h.add(u);do{var p=d[--c];l(p,a.get(p),h)}while(c);h.delete(u)}r[--n]=u}}}function see(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function oee(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function aee(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}const lee=Object.prototype.toString,uee=Error.prototype.toString,cee=RegExp.prototype.toString,hee=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",fee=/^Symbol\((.*)\)(.*)$/;function dee(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function sN(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return dee(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return hee.call(t).replace(fee,"Symbol($1)");const r=lee.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+uee.call(t)+"]":r==="RegExp"?cee.call(t):null}function Lu(t,e){let n=sN(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=sN(this[r],e);return s!==null?s:i},2)}function jV(t){return t==null?[]:[].concat(t)}let pee=/\$\{\s*(\w+)\s*\}/g;class Or extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(pee,(i,s)=>Lu(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],jV(e).forEach(s=>{Or.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Or)}}let Ss={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Lu(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Lu(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Lu(n,!0)}\``+i}},di={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},mee={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},mE={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gee={isValue:"${path} field must be ${value}"},gE={noUnknown:"${path} field has unspecified keys: ${unknown}"},yee={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Ss,string:di,number:mee,date:mE,object:gE,array:yee,boolean:gee});const Tx=t=>t&&t.__isYupSchema__;class Sy{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Sy(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Tx(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const jp={context:"$",value:"."};class Pl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===jp.context,this.isValue=this.key[0]===jp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?jp.context:this.isValue?jp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Wa.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Pl.prototype.__isYupRef=!0;const Ua=t=>t==null;function Ql(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:f,skipAbsent:d}=t;let{parent:p,context:g,abortEarly:v=o.spec.abortEarly}=i;function m(C){return Pl.isRef(C)?C.getValue(n,p,g):C}function y(C={}){const B=Object.assign({value:n,originalValue:s,label:o.spec.label,path:C.path||r,spec:o.spec},h,C.params);for(const J of Object.keys(B))B[J]=m(B[J]);const G=new Or(Or.formatError(C.message||f,B),n,B.path,C.type||u);return G.params=B,G}const w=v?a:l;let S={path:r,parent:p,type:u,from:i.from,createError:y,resolve:m,options:i,originalValue:s,schema:o};const b=C=>{Or.isError(C)?w(C):C?l(null):w(y())},k=C=>{Or.isError(C)?w(C):a(C)},_=d&&Ua(n);if(!i.sync){try{Promise.resolve(_?!0:c.call(S,n,S)).then(b,k)}catch(C){k(C)}return}let R;try{var T;if(R=_?!0:c.call(S,n,S),typeof((T=R)==null?void 0:T.then)=="function")throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(C){k(C);return}b(R)}return e.OPTIONS=t,e}function vee(t,e,n,r=n){let i,s,o;return e?(Wa.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class by extends Set{describe(){const e=[];for(const n of this.values())e.push(Pl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new by(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function du(t,e=new Map){if(Tx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=du(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,du(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(du(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=du(i,e)}else throw Error(`Unable to clone ${t}`);return n}class us{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new by,this._blacklist=new by,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ss.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=du(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Ua(s))return s;let o=Lu(e),a=Lu(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=g=>{i||(i=!0,n(g,o))},h=g=>{i||(i=!0,r(g,o))},f=s.length,d=[];if(!f)return h([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let g=0;g<s.length;g++){const v=s[g];v(p,c,function(y){y&&(d=d.concat(y)),--f<=0&&h(d)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,d)=>this.resolve(c)._validate(u,c,f,d)}validate(e,n){let r=this.resolve(Object.assign({},n,{value:e}));return new Promise((i,s)=>r._validate(e,n,(o,a)=>{Or.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new Or(o,a)):i(a)}))}validateSync(e,n){let r=this.resolve(Object.assign({},n,{value:e})),i;return r._validate(e,Object.assign({},n,{sync:!0}),(s,o)=>{throw Or.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new Or(s,e);i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Or.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Or.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this):du(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Ql({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Ql({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ss.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ss.notNull){return this.nullability(!1,e)}required(e=Ss.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ss.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Ql(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=jV(e).map(s=>new Pl(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Sy(i,n):Sy.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Ql({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ss.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Ql({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Ss.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Ql({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}us.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])us.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=vee(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])us.prototype[t]=us.prototype.oneOf;for(const t of["not","nope"])us.prototype[t]=us.prototype.notOneOf;let wee=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,See=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Eee=t=>Ua(t)||t===t.trim(),Oee={}.toString();function xo(){return new BV}class BV extends us{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Oee?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ss.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=di.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=di.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=di.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||di.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=di.email){return this.matches(wee,{name:"email",message:e,excludeEmptyString:!0})}url(e=di.url){return this.matches(See,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=di.uuid){return this.matches(bee,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=di.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Eee})}lowercase(e=di.lowercase){return this.transform(n=>Ua(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ua(n)||n===n.toLowerCase()})}uppercase(e=di.uppercase){return this.transform(n=>Ua(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ua(n)||n===n.toUpperCase()})}}xo.prototype=BV.prototype;var Tee=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function kee(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=Tee.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let xee=new Date(""),_ee=t=>Object.prototype.toString.call(t)==="[object Date]";class M0 extends us{constructor(){super({type:"date",check(e){return _ee(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=kee(e),isNaN(e)?M0.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Pl.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=mE.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=mE.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}M0.INVALID_DATE=xee;M0.prototype;function Cee(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Wa.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Pl.isRef(a)&&a.isSibling?s(a.path,o):Tx(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return wy.array(Array.from(r),n).reverse()}function oN(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function QV(t){return(e,n)=>oN(t,e)-oN(t,n)}const Iee=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Ym(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Ym(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Ym(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Ym)}):"optional"in t?t.optional():t}const Aee=(t,e)=>{const n=[...Wa.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Wa.getter(Wa.join(n),!0)(t);return!!(i&&r in i)};let aN=t=>Object.prototype.toString.call(t)==="[object Object]";function Nee(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Ree=QV([]);function F0(t){return new YV(t)}class YV extends us{constructor(e){super({type:"object",check(n){return aN(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Ree,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let f=s[h],d=h in i;if(f){let p,g=i[h];u.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:g,context:n.context,parent:l});let v=f instanceof us?f.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||h in i;continue}p=!n.__validating||!m?f.cast(i[h],u):i[h],p!==void 0&&(l[h]=p)}else d&&!o&&(l[h]=i[h]);(d!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!aN(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let f=this.fields[h];!f||Pl.isRef(f)||c.push(f.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Cee(e,n),r._sortErrors=QV(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Ym(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(e){const n=Object.assign({},this.fields);for(const r of e)delete n[r];return this.setFields(n)}from(e,n,r){let i=Wa.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Aee(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Iee)}noUnknown(e=!0,n=gE.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Nee(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=gE.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(L1.camelCase)}snakeCase(){return this.transformKeys(L1.snakeCase)}constantCase(){return this.transformKeys(e=>L1.snakeCase(e).toUpperCase())}describe(e){let n=super.describe(e);n.fields={};for(const[i,s]of Object.entries(this.fields)){var r;let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=s.describe(o)}return n}}F0.prototype=YV.prototype;const Pee=F0().shape({email:xo().required("Email is required").email("Invalid email format"),password:xo().required("Password is required").min(8,"Password must be at least 8 characters long").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,"Password must contain at least one letter, one digit, and one special character")}),Dee=F0().shape({name:xo().required("Name is required").matches(/^[A-Z][a-zA-Z]*$/,"Name must start with a capital letter and contain only letters"),email:xo().required("Email is required").email("Invalid email format"),password:xo().required("Password is required").min(8,"Password must be at least 8 characters long").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,"Password must contain at least one letter, one digit, and one special character"),repeatPassword:xo().required("Repeat password is required").test("password-match","Passwords must match",function(t){return t===this.parent.password})}),Lee=F0().shape({email:xo().required("Email is required").email("Invalid email format")}),Mee=""+new URL("login-bg-00ec80f0.jpg",import.meta.url).href,lN=()=>{const{t}=xn(),e=kl(),n=t("login.signIn"),r=Zs(),{register:i,formState:{errors:s},handleSubmit:o,reset:a}=bk({resolver:Ek(Pee)}),[l,u,c,h]=NW(Gd);x.useEffect(()=>{u&&((async p=>{const g=await xZ(p);r(nc(g??"unknown")),r(rc(!0)),e("/")})(u.user),a()),h&&$e(h.message,{type:"error"})},[h,u,r,a,e]);const f=async d=>{try{await l(d.email,d.password)}catch(p){$e(p.message,{type:"error"})}};return E.jsxs(E.Fragment,{children:[c&&E.jsx(Cl,{}),E.jsxs("div",{className:Ut.container,children:[E.jsx("img",{className:Ut.img,src:Mee,alt:"login image"}),E.jsxs("div",{className:Ut.formContainer,children:[E.jsxs("form",{className:Ut.form,onSubmit:o(f),children:[E.jsx(La,{label:"email",register:i,errors:s}),E.jsx(La,{label:"password",register:i,errors:s}),E.jsx(Zg,{text:t("login.forgot"),linkClass:Ut.resetButton,onClick:()=>{r(Qs("reset-password"))}}),E.jsx(as,{type:"button",className:Ut.submitButton,children:E.jsx("input",{type:"submit",value:n,className:Ut.submitInput})})]}),E.jsx(QZ,{}),E.jsxs("div",{className:Ut.select,children:[t("login.account"),E.jsx(Zg,{linkStyle:"bold",text:t("login.signUp"),onClick:()=>{r(Qs("sign-up"))}})]})]})]})]})},Fee=""+new URL("registration-0574a489.webp",import.meta.url).href,$ee=()=>{const{t}=xn(),e=t("login.signUp"),n=kl(),{register:r,formState:{errors:i},handleSubmit:s}=bk({resolver:Ek(Dee)}),o=Zs(),[a,l,u,c]=IW(Gd);x.useEffect(()=>{c&&(l==null||l.user,$e(c.message,{type:"error"}))},[c,l]);const h=async f=>{try{const d=await a(f.email,f.password);d!=null&&d.user&&(await _Z(d.user,f.name),o(nc(f.name)),o(Qs("")),o(rc(!0)),n("/"))}catch(d){$e(d.message,{type:"error"})}};return E.jsxs("div",{className:Ut.container,children:[E.jsx("img",{className:Ut.img,src:Fee,alt:"registration image"}),u&&E.jsx(Cl,{}),E.jsxs("form",{className:Ut.form,onSubmit:s(h),children:[E.jsx(La,{label:"name",register:r,errors:i}),E.jsx(La,{label:"email",register:r,errors:i}),E.jsx(La,{label:"password",register:r,errors:i}),E.jsx(La,{label:"repeatPassword",register:r,errors:i}),E.jsx(as,{type:"submit",className:Ut.submitButton,children:E.jsx("input",{type:"submit",value:e,className:Ut.submitInput})}),E.jsxs("div",{className:Ut.select,children:[t("login.haveAccount"),E.jsx(Zg,{linkStyle:"bold",text:t("login.signIn"),onClick:()=>{o(Qs("sign-in"))}})]})]})]})},Uee=""+new URL("searching-110596ad.webp",import.meta.url).href,Vee=()=>{const{t}=xn(),e=t("login.send"),{register:n,formState:{errors:r},handleSubmit:i,reset:s}=bk({resolver:Ek(Lee)}),o=Zs(),[a,l,u]=AW(Gd);x.useEffect(()=>{u&&$e(u.message,{type:"error"})},[u]);const c=async h=>{await a(h.email)&&$e("Check instructions in you email.",{type:"success"}),s()};return E.jsxs("div",{className:Ut.container,children:[E.jsx("img",{className:Ut.img,src:Uee,alt:"login image"}),E.jsxs("form",{className:Ut.form,onSubmit:i(c),children:[l&&E.jsx(Cl,{}),E.jsx(La,{required:!0,label:"email",register:n,errors:r}),E.jsx(as,{type:"submit",className:Ut.submitButton,children:E.jsx("input",{type:"submit",value:e,className:Ut.submitInput})}),E.jsx(Zg,{linkStyle:"bold",text:t("login.return"),onClick:()=>{o(Qs("sign-in"))}})]})]})},jee={"":E.jsx(lN,{}),"reset-password":E.jsx(Vee,{}),"sign-in":E.jsx(lN,{}),"sign-up":E.jsx($ee,{})},Bee="_wrapper_1asyh_1",Qee="_loginWrapper_1asyh_17",Yee="_title_1asyh_30",Bp={wrapper:Bee,loginWrapper:Qee,title:Yee},qee=()=>{const t=ic(r=>r.userState.loginStatus),e=Zs(),{t:n}=xn();return E.jsx("div",{className:ft(Bp.wrapper,{[Bp.open]:t==="sign-in"||t==="sign-up"||t==="reset-password"}),onClick:()=>{e(Qs(""))},children:E.jsxs("div",{className:Bp.loginWrapper,onClick:r=>r.stopPropagation(),children:[E.jsx("div",{className:Bp.title,children:n("login.welcome")}),jee[t]]})})},zee="_wrapper_zx32u_1",Hee="_title_zx32u_23",Wee="_message_zx32u_37",Gee="_notFoundImage_zx32u_47",Qp={wrapper:zee,title:Hee,message:Wee,notFoundImage:Gee},qV=""+new URL("not-found-cb4f0898.jpg",import.meta.url).href,Xee=()=>{const[t,e]=x.useState(!1);return t?E.jsx(vb,{to:"/"}):E.jsxs("div",{className:Qp.wrapper,children:[E.jsx("h1",{className:Qp.title,children:"404"}),E.jsx("div",{className:Qp.message,children:"Something went wrong"}),E.jsx(as,{type:"button",onClick:()=>e(!0),children:"Return to main page"}),E.jsx("img",{className:Qp.notFoundImage,src:qV,alt:"Page not found",draggable:"false"})]})},Kee="_info_wpxtu_1",Jee="_about_wpxtu_17",Zee="_rsImage_wpxtu_25",ete="_editorButton_wpxtu_33",tte="_sponsors_wpxtu_45",Yl={info:Kee,about:Jee,rsImage:Zee,editorButton:ete,sponsors:tte},nte=""+new URL("rs-logo-4bb0379f.png",import.meta.url).href,rte="_authors_1elyp_1",ite="_authorLink_1elyp_17",ste="_author_1elyp_1",ote="_underline_1elyp_45",Li={authors:rte,authorLink:ite,author:ste,underline:ote},ate=()=>{const{t}=xn();return E.jsxs("div",{className:Li.authors,children:[E.jsx("div",{children:t("authors.created")}),E.jsxs("a",{href:"https://github.com/mooncitizenX/",target:"_blank",rel:"noreferrer",className:Li.authorLink,children:[E.jsx("div",{className:Li.underline}),E.jsx("p",{className:Li.author,children:t("authors.Pavel")})]}),E.jsxs("a",{href:"https://github.com/mskmee/",target:"_blank",rel:"noreferrer",className:Li.authorLink,children:[E.jsx("div",{className:Li.underline}),E.jsx("p",{className:Li.author,children:t("authors.Maksim")})]}),E.jsxs("a",{href:"https://github.com/mkoroleva5/",target:"_blank",rel:"noreferrer",className:Li.authorLink,children:[E.jsx("div",{className:Li.underline}),E.jsx("p",{className:Li.author,children:t("authors.Maria")})]})]})},lte=()=>{const t=ic(n=>n.userState.isUserLogged),{t:e}=xn();return E.jsxs("div",{className:Yl.info,children:[!t&&E.jsx("div",{className:Yl.about,children:e("about.info")}),t&&E.jsxs("div",{className:Yl.about,children:[E.jsx("p",{children:e("about.loggedInfo")}),E.jsx("p",{children:e("about.start")}),E.jsx($M,{to:"/editor",children:E.jsx(as,{type:"button",className:Yl.editorButton,children:e("about.button")})})]}),E.jsx(ate,{}),E.jsxs("div",{className:Yl.sponsors,children:[E.jsx("p",{children:e("sponsored")}),E.jsx("a",{href:"https://rs.school/",target:"_blank",rel:"noreferrer",children:E.jsx("img",{className:Yl.rsImage,src:nte,alt:"The Rolling Scopes School"})})]})]})},ute="_wrapper_idw5q_1",cte={wrapper:ute},hte=()=>E.jsx("div",{className:cte.wrapper,children:E.jsx(lte,{})});function $0(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var fte={};$0(fte,"ErrorBoundary",()=>xx);var dte={};$0(dte,"ErrorBoundaryContext",()=>kx);const kx=x.createContext(null),M1={didCatch:!1,error:null};class xx extends x.Component{constructor(){super(...arguments);Sw(this,"state",M1);Sw(this,"resetErrorBoundary",(...n)=>{var i,s;const{error:r}=this.state;r!==null&&((s=(i=this.props).onReset)==null||s.call(i,{args:n,reason:"imperative-api"}),this.setState(M1))})}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}componentDidCatch(n,r){var i,s;(s=(i=this.props).onError)==null||s.call(i,n,r)}componentDidUpdate(n,r){var o,a;const{didCatch:i}=this.state,{resetKeys:s}=this.props;i&&r.error!==null&&pte(n.resetKeys,s)&&((a=(o=this.props).onReset)==null||a.call(o,{next:s,prev:n.resetKeys,reason:"keys"}),this.setState(M1))}render(){const{children:n,fallbackRender:r,FallbackComponent:i,fallback:s}=this.props,{didCatch:o,error:a}=this.state;let l=n;if(o){const u={error:a,resetErrorBoundary:this.resetErrorBoundary};if(x.isValidElement(s))l=s;else if(typeof r=="function")l=r(u);else if(i)l=x.createElement(i,u);else throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return x.createElement(kx.Provider,{value:{didCatch:o,error:a,resetErrorBoundary:this.resetErrorBoundary}},l)}}function pte(t=[],e=[]){return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}var mte={};$0(mte,"useErrorBoundary",()=>zV);function gte(t){if(t==null||typeof t.didCatch!="boolean"||typeof t.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found");return!0}function zV(){const t=x.useContext(kx);gte(t);const[e,n]=x.useState({error:null,hasError:!1}),r=x.useMemo(()=>({resetBoundary:()=>{t==null||t.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:i=>n({error:i,hasError:!0})}),[t==null?void 0:t.resetErrorBoundary]);if(e.hasError)throw e.error;return r}var yte={};$0(yte,"withErrorBoundary",()=>vte);function vte(t,e){const n=x.forwardRef((i,s)=>x.createElement(xx,e,x.createElement(t,{...i,ref:s}))),r=t.displayName||t.name||"Unknown";return n.displayName=`withErrorBoundary(${r})`,n}class Qc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const zf=typeof window>"u"||"Deno"in window;function jr(){}function wte(t,e){return typeof t=="function"?t(e):t}function yE(t){return typeof t=="number"&&t>=0&&t!==1/0}function HV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rh(t,e,n){return Xd(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Ste(t,e,n){return Xd(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function lo(t,e,n){return Xd(t)?[{...e,queryKey:t},n]:[t||{},e]}function uN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(Xd(o)){if(r){if(e.queryHash!==_x(o,e.options))return!1}else if(!Ey(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function cN(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(Xd(s)){if(!e.options.mutationKey)return!1;if(n){if(Va(e.options.mutationKey)!==Va(s))return!1}else if(!Ey(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function _x(t,e){return((e==null?void 0:e.queryKeyHashFn)||Va)(t)}function Va(t){return JSON.stringify(t,(e,n)=>wE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ey(t,e){return WV(t,e)}function WV(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!WV(t[n],e[n])):!1}function GV(t,e){if(t===e)return t;const n=hN(t)&&hN(e);if(n||wE(t)&&wE(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=GV(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function vE(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wE(t){if(!fN(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!fN(n)||!n.hasOwnProperty("isPrototypeOf"))}function fN(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xd(t){return Array.isArray(t)}function XV(t){return new Promise(e=>{setTimeout(e,t)})}function dN(t){XV(0).then(t)}function bte(){if(typeof AbortController=="function")return new AbortController}function SE(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?GV(t,e):e}class Ete extends Qc{constructor(){super(),this.setup=e=>{if(!zf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Oy=new Ete;class Ote extends Qc{constructor(){super(),this.setup=e=>{if(!zf&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Ty=new Ote;function Tte(t){return Math.min(1e3*2**t,3e4)}function U0(t){return(t??"online")==="online"?Ty.isOnline():!0}class KV{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function qm(t){return t instanceof KV}function JV(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((v,m)=>{s=v,o=m}),l=v=>{r||(d(new KV(v)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},h=()=>!Oy.isFocused()||t.networkMode!=="always"&&!Ty.isOnline(),f=v=>{r||(r=!0,t.onSuccess==null||t.onSuccess(v),i==null||i(),s(v))},d=v=>{r||(r=!0,t.onError==null||t.onError(v),i==null||i(),o(v))},p=()=>new Promise(v=>{i=m=>{const y=r||!h();return y&&v(m),y},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),g=()=>{if(r)return;let v;try{v=t.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(f).catch(m=>{var y,w;if(r)return;const S=(y=t.retry)!=null?y:3,b=(w=t.retryDelay)!=null?w:Tte,k=typeof b=="function"?b(n,m):b,_=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,m);if(e||!_){d(m);return}n++,t.onFail==null||t.onFail(n,m),XV(k).then(()=>{if(h())return p()}).then(()=>{e?d(m):g()})})};return U0(t.networkMode)?g():p().then(g),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}const Cx=console;function kte(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;e++;try{h=c()}finally{e--,e||a()}return h},s=c=>{e?t.push(c):dN(()=>{n(c)})},o=c=>(...h)=>{s(()=>{c(...h)})},a=()=>{const c=t;t=[],c.length&&dN(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const Tt=kte();class ZV{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yE(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(zf?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class xte extends ZV{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Cx,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||_te(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=SE(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!HV(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}Array.isArray(this.options.queryKey);const o=bte(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const f=d=>{if(qm(d)&&d.silent||this.dispatch({type:"error",error:d}),!qm(d)){var p,g,v,m;(p=(g=this.cache.config).onError)==null||p.call(g,d,this),(v=(m=this.cache.config).onSettled)==null||v.call(m,this.state.data,d,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=JV({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:d=>{var p,g,v,m;if(typeof d>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(d),(p=(g=this.cache.config).onSuccess)==null||p.call(g,d,this),(v=(m=this.cache.config).onSettled)==null||v.call(m,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,p)=>{this.dispatch({type:"failed",failureCount:d,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:U0(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return qm(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function _te(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Cte extends Qc{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:_x(s,n);let a=this.get(o);return a||(a=new xte({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Tt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=lo(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>uN(r,i))}findAll(e,n){const[r]=lo(e,n);return Object.keys(r).length>0?this.queries.filter(i=>uN(r,i)):this.queries}notify(e){Tt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Tt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Tt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Ite extends ZV{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Cx,this.observers=[],this.state=e.state||ej(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var _;return this.retryer=JV({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(R,T)=>{this.dispatch({type:"failed",failureCount:R,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(_=this.options.retry)!=null?_:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,u,c;if(!n){var h,f,d,p;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(f=this.mutationCache.config).onMutate)==null?void 0:h.call(f,this.state.variables,this));const R=await((d=(p=this.options).onMutate)==null?void 0:d.call(p,this.state.variables));R!==this.state.context&&this.dispatch({type:"loading",context:R,variables:this.state.variables})}const _=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,_,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,_,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,_,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,_,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:_}),_}catch(_){try{var g,v,m,y,w,S,b,k;throw await((g=(v=this.mutationCache.config).onError)==null?void 0:g.call(v,_,this.state.variables,this.state.context,this)),await((m=(y=this.options).onError)==null?void 0:m.call(y,_,this.state.variables,this.state.context)),await((w=(S=this.mutationCache.config).onSettled)==null?void 0:w.call(S,void 0,_,this.state.variables,this.state.context,this)),await((b=(k=this.options).onSettled)==null?void 0:b.call(k,void 0,_,this.state.variables,this.state.context)),_}finally{this.dispatch({type:"error",error:_})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!U0(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function ej(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Ate extends Qc{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Ite({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Tt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>cN(e,n))}findAll(e){return this.mutations.filter(n=>cN(e,n))}notify(e){Tt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Tt.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(jr)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Nte(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",h=(l==null?void 0:l.direction)==="backward",f=((s=t.state.data)==null?void 0:s.pages)||[],d=((o=t.state.data)==null?void 0:o.pageParams)||[];let p=d,g=!1;const v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var _;if((_=t.signal)!=null&&_.aborted)g=!0;else{var R;(R=t.signal)==null||R.addEventListener("abort",()=>{g=!0})}return t.signal}})},m=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),y=(k,_,R,T)=>(p=T?[_,...p]:[...p,_],T?[R,...k]:[...k,R]),w=(k,_,R,T)=>{if(g)return Promise.reject("Cancelled");if(typeof R>"u"&&!_&&k.length)return Promise.resolve(k);const C={queryKey:t.queryKey,pageParam:R,meta:t.options.meta};v(C);const B=m(C);return Promise.resolve(B).then(J=>y(k,R,J,T))};let S;if(!f.length)S=w([]);else if(c){const k=typeof u<"u",_=k?u:pN(t.options,f);S=w(f,k,_)}else if(h){const k=typeof u<"u",_=k?u:Rte(t.options,f);S=w(f,k,_,!0)}else{p=[];const k=typeof t.options.getNextPageParam>"u";S=(a&&f[0]?a(f[0],0,f):!0)?w([],k,d[0]):Promise.resolve(y([],d[0],f[0]));for(let R=1;R<f.length;R++)S=S.then(T=>{if(a&&f[R]?a(f[R],R,f):!0){const B=k?d[R]:pN(t.options,T);return w(T,k,B)}return Promise.resolve(y(T,d[R],f[R]))})}return S.then(k=>({pages:k,pageParams:p}))}}}}function pN(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Rte(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Pte{constructor(e={}){this.queryCache=e.queryCache||new Cte,this.mutationCache=e.mutationCache||new Ate,this.logger=e.logger||Cx,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Oy.subscribe(()=>{Oy.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Ty.subscribe(()=>{Ty.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=lo(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Rh(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=wte(n,s);if(typeof o>"u")return;const a=Rh(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return Tt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=lo(e,n),i=this.queryCache;Tt.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=lo(e,n,r),o=this.queryCache,a={type:"active",...i};return Tt.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=lo(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=Tt.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(jr).catch(jr)}invalidateQueries(e,n,r){const[i,s]=lo(e,n,r);return Tt.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=lo(e,n,r),o=Tt.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s==null?void 0:s.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(jr);return s!=null&&s.throwOnError||(a=a.catch(jr)),a}fetchQuery(e,n,r){const i=Rh(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(jr).catch(jr)}fetchInfiniteQuery(e,n,r){const i=Rh(e,n,r);return i.behavior=Nte(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(jr).catch(jr)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Va(e)===Va(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Ey(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Va(e)===Va(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Ey(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=_x(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Dte extends Qc{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),mN(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bE(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bE(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),vE(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&gN(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(jr)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),zf||this.currentResult.isStale||!yE(this.options.staleTime))return;const n=HV(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(zf||this.options.enabled===!1||!yE(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Oy.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:f,error:d,errorUpdatedAt:p,fetchStatus:g,status:v}=h,m=!1,y=!1,w;if(n._optimisticResults){const R=this.hasListeners(),T=!R&&mN(e,n),C=R&&gN(e,r,n,i);(T||C)&&(g=U0(e.options.networkMode)?"fetching":"paused",f||(v="loading")),n._optimisticResults==="isRestoring"&&(g="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&v!=="error")w=c.data,f=c.dataUpdatedAt,v=c.status,m=!0;else if(n.select&&typeof h.data<"u")if(s&&h.data===(o==null?void 0:o.data)&&n.select===this.selectFn)w=this.selectResult;else try{this.selectFn=n.select,w=n.select(h.data),w=SE(s==null?void 0:s.data,w,n),this.selectResult=w,this.selectError=null}catch(R){this.selectError=R}else w=h.data;if(typeof n.placeholderData<"u"&&typeof w>"u"&&v==="loading"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof R<"u")try{R=n.select(R),this.selectError=null}catch(T){this.selectError=T}typeof R<"u"&&(v="success",w=SE(s==null?void 0:s.data,R,n),y=!0)}this.selectError&&(d=this.selectError,w=this.selectResult,p=Date.now(),v="error");const S=g==="fetching",b=v==="loading",k=v==="error";return{status:v,fetchStatus:g,isLoading:b,isSuccess:v==="success",isError:k,isInitialLoading:b&&S,data:w,dataUpdatedAt:f,error:d,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:k&&h.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:y,isPreviousData:m,isRefetchError:k&&h.dataUpdatedAt!==0,isStale:Ix(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,vE(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&a.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!qm(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Tt.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Lte(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mN(t,e){return Lte(t,e)||t.state.dataUpdatedAt>0&&bE(t,e,e.refetchOnMount)}function bE(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ix(t,e)}return!1}function gN(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Ix(t,n)}function Ix(t,e){return t.isStaleByTime(e.staleTime)}let Mte=class extends Qc{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),vE(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:ej(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){Tt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,u;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};const tj=Lg.useSyncExternalStore,yN=x.createContext(void 0),nj=x.createContext(!1);function rj(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=yN),window.ReactQueryClientContext):yN)}const ij=({context:t}={})=>{const e=x.useContext(rj(t,x.useContext(nj)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Fte=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=rj(n,r);return x.createElement(nj.Provider,{value:!n&&r},x.createElement(i.Provider,{value:t},e))},sj=x.createContext(!1),$te=()=>x.useContext(sj);sj.Provider;function Ute(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Vte=x.createContext(Ute()),oj=()=>x.useContext(Vte);function aj(t,e){return typeof t=="function"?t(...e):!!t}const jte=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Bte=t=>{x.useEffect(()=>{t.clearReset()},[t])},Qte=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&aj(n,[t.error,r]),Yte=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},qte=(t,e)=>t.isLoading&&t.isFetching&&!e,zte=(t,e,n)=>(t==null?void 0:t.suspense)&&qte(e,n),Hte=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Wte(t,e){const n=ij({context:t.context}),r=$te(),i=oj(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=Tt.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Tt.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Tt.batchCalls(s.onSettled)),Yte(s),jte(s,i),Bte(i);const[o]=x.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(tj(x.useCallback(l=>r?()=>{}:o.subscribe(Tt.batchCalls(l)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),zte(s,a,r))throw Hte(s,o,i);if(Qte({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Gte(t,e,n){const r=Rh(t,e,n);return Wte(r,Dte)}function Xte(t,e,n){const r=Ste(t,e,n),i=ij({context:r.context}),[s]=x.useState(()=>new Mte(i,r));x.useEffect(()=>{s.setOptions(r)},[s,r]);const o=tj(x.useCallback(l=>s.subscribe(Tt.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=x.useCallback((l,u)=>{s.mutate(l,u).catch(Kte)},[s]);if(o.error&&aj(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function Kte(){}class Be{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),zi.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),zi.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new rf(this),s=new rf(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new rf(this,e)}iterRange(e,n=this.length){return new lj(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new uj(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Be.empty:e.length<=32?new It(e):zi.from(It.split(e,[]))}}class It extends Be{constructor(e,n=Jte(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new Zte(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new It(vN(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=zm(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new It(a,o.length+s.length));else{let l=a.length>>1;r.push(new It(a.slice(0,l)),new It(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof It))return super.replace(e,n,r);let i=zm(this.text,zm(r.text,vN(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new It(i,s):zi.from(It.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new It(r,i)),r=[],i=-1);return i>-1&&n.push(new It(r,i)),n}}class zi extends Be{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[i]=l,new zi(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof zi))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new It(d,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function h(d){let p;if(d.lines>s&&d instanceof zi)for(let g of d.children)h(g);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof It&&l&&(p=c[c.length-1])instanceof It&&d.lines+p.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new It(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>i&&f(),l+=d.lines,u+=d.length+1,c.push(d))}function f(){l!=0&&(a.push(c.length==1?c[0]:zi.from(c,u)),u=-1,l=c.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new zi(a,n)}}Be.empty=new It([""],0);function Jte(t){let e=-1;for(let n of t)e+=n.length+1;return e}function zm(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function vN(t,e,n){return zm(t,[""],e,n)}class rf{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof It?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof It?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof It){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof It?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class lj{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new rf(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class uj{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Be.prototype[Symbol.iterator]=function(){return this.iter()},rf.prototype[Symbol.iterator]=lj.prototype[Symbol.iterator]=uj.prototype[Symbol.iterator]=function(){return this});class Zte{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Mu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Mu.length;t++)Mu[t]+=Mu[t-1];function ene(t){for(let e=1;e<Mu.length;e+=2)if(Mu[e]>t)return Mu[e-1]<=t;return!1}function wN(t){return t>=127462&&t<=127487}const SN=8205;function Zn(t,e,n=!0,r=!0){return(n?cj:tne)(t,e,r)}function cj(t,e,n){if(e==t.length)return e;e&&hj(t.charCodeAt(e))&&fj(t.charCodeAt(e-1))&&e--;let r=gn(t,e);for(e+=Hr(r);e<t.length;){let i=gn(t,e);if(r==SN||i==SN||n&&ene(i))e+=Hr(i),r=i;else if(wN(i)){let s=0,o=e-2;for(;o>=0&&wN(gn(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function tne(t,e,n){for(;e>0;){let r=cj(t,e-2,n);if(r<e)return r;e--}return 0}function hj(t){return t>=56320&&t<57344}function fj(t){return t>=55296&&t<56320}function gn(t,e){let n=t.charCodeAt(e);if(!fj(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return hj(r)?(n-55296<<10)+(r-56320)+65536:n}function Ax(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Hr(t){return t<65536?1:2}const EE=/\r\n?|\n/;var Kn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Kn||(Kn={}));class ss{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){OE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ss(e)}composeDesc(e){return this.empty?e:e.empty?this:dj(this,e)}mapDesc(e,n=!1){return e.empty?this:TE(this,e,n)}mapPos(e,n=-1,r=Kn.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=Kn.Simple&&u>=e&&(r==Kn.TrackDel&&i<e&&u>e||r==Kn.TrackBefore&&i<e||r==Kn.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ss(e)}static create(e){return new ss(e)}}class qt extends ss{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return OE(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return TE(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Be.empty);r.push(o?e.slice(s,s+o):Be.empty)}s+=o}return new qt(n,r)}compose(e){return this.empty?e:e.empty?this:dj(this,e,!0)}map(e,n=!1){return e.empty?this:TE(this,e,n,!0)}iterChanges(e,n=!1){OE(this,e,n)}get desc(){return ss.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Hf(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Dn(i,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;Dn(n,c,h),h>0&&_o(r,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);Dn(n,c,-1),Dn(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new qt(n,r),filtered:ss.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&Dn(i,n-o,-1);let h=new qt(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof qt){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?Be.of(d.split(r||EE)):d:Be.empty,g=p.length;if(h==f&&g==0)return;h<o&&l(),h>o&&Dn(i,h-o,-1),Dn(i,f-h,g),_o(s,i,p),o=f}}return u(e),l(!a),a}static empty(e){return new qt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Be.empty);r[i]=Be.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new qt(n,r)}static createSet(e,n){return new qt(e,n)}}function Dn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function _o(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Be.empty);t.push(n)}}function OE(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,h=Be.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,c,h),i=u,s=c}}}function TE(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Hf(t),a=new Hf(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);Dn(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(Dn(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(Dn(i,0,o.ins),s&&_o(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Dn(i,u,l<o.i?o.ins:0),s&&l<o.i&&_o(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?qt.createSet(i,s):ss.create(i);throw new Error("Mismatched change set lengths")}}function dj(t,e,n=!1){let r=[],i=n?[]:null,s=new Hf(t),o=new Hf(e);for(let a=!1;;){if(s.done&&o.done)return i?qt.createSet(r,i):ss.create(r);if(s.ins==0)Dn(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Dn(r,0,o.ins,a),i&&_o(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Dn(r,l,c,a),i&&c&&_o(i,r,o.text)}else o.ins==-1?(Dn(r,s.off?0:s.len,l,a),i&&_o(i,r,s.textBit(l))):(Dn(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&_o(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Hf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Be.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Be.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let Yp=class kE{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new kE(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return U.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return U.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return U.range(e.anchor,e.head)}static create(e,n,r){return new kE(e,n,r)}};class U{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:U.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new U([this.main],0)}addRange(e,n=!0){return U.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,U.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new U(e.ranges.map(n=>Yp.fromJSON(n)),e.main)}static single(e,n=e){return new U([U.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return U.normalized(e.slice(),n);r=s.to}return new U(e,n)}static cursor(e,n=0,r,i){return Yp.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let s=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?Yp.create(n,e,24|s):Yp.create(e,n,(n>e?4:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?U.range(l,a):U.range(a,l))}}return new U(e,n)}}function pj(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Nx=0;class he{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Nx++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new he(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Rx),!!e.static,e.enables)}of(e){return new Hm([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hm(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hm(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Rx(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Hm{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Nx++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||xE(h,c)){let d=r(h);if(a?!bN(d,h.values[o],i):!i(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[s];if(p!=null){let g=xy(f,p);if(this.dependencies.every(v=>v instanceof he?f.facet(v)===h.facet(v):v instanceof Zt?f.field(v,!1)==h.field(v,!1):!0)||(a?bN(d=r(h),g,i):i(d=r(h),g)))return h.values[o]=g,0}else d=r(h);return h.values[o]=d,1}}}}function bN(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function xE(t,e){let n=!1;for(let r of e)sf(t,r)&1&&(n=!0);return n}function nne(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let h=xy(l,r[c]);if(i[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)sf(l,u);return l.values[o]=a(l),1},update(l,u){if(!xE(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=xE(l,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&Rx(n,h))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const EN=he.define({static:!0});class Zt{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Zt(Nx++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(EN).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,EN.of({field:this,create:e})]}get extension(){return this}}const Ca={lowest:4,low:3,default:2,high:1,highest:0};function hh(t){return e=>new mj(e,t)}const ga={highest:hh(Ca.highest),high:hh(Ca.high),default:hh(Ca.default),low:hh(Ca.low),lowest:hh(Ca.lowest)};class mj{constructor(e,n){this.inner=e,this.prec=n}}class V0{of(e){return new _E(this,e)}reconfigure(e){return V0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class _E{constructor(e,n){this.compartment=e,this.inner=n}}class ky{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of rne(e,n,o))f instanceof Zt?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of i)a[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=r==null?void 0:r.config.facets;for(let f in s){let d=s[f],p=d[0].facet,g=c&&c[f]||[];if(d.every(v=>v.type==0))if(a[p.id]=l.length<<1|1,Rx(g,d))l.push(r.facet(p));else{let v=p.combine(d.map(m=>m.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of d)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=u.length<<1,u.push(m=>v.dynamicSlot(m)));a[p.id]=u.length<<1,u.push(v=>nne(v,p,d))}}let h=u.map(f=>f(a));return new ky(e,o,h,a,l,s)}}function rne(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof _E&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof _E){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof mj)s(o.inner,o.prec);else if(o instanceof Zt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Hm)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ca.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Ca.default),r.reduce((o,a)=>o.concat(a))}function sf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function xy(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const gj=he.define(),yj=he.define({combine:t=>t.some(e=>e),static:!0}),vj=he.define({combine:t=>t.length?t[0]:void 0,static:!0}),wj=he.define(),Sj=he.define(),bj=he.define(),Ej=he.define({combine:t=>t.length?t[0]:!1});class hs{constructor(e,n){this.type=e,this.value=n}static define(){return new ine}}class ine{of(e){return new hs(this,e)}}class sne{constructor(e){this.map=e}of(e){return new Oe(this,e)}}class Oe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Oe(this.type,n)}is(e){return this.type==e}static define(e={}){return new sne(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Oe.reconfigure=Oe.define();Oe.appendConfig=Oe.define();class Ht{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&pj(r,n.newLength),s.some(a=>a.type==Ht.time)||(this.annotations=s.concat(Ht.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Ht(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ht.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ht.time=hs.define();Ht.userEvent=hs.define();Ht.addToHistory=hs.define();Ht.remote=hs.define();function one(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function Oj(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=qt.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Oe.mapEffects(t.effects,i).concat(Oe.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function CE(t,e,n){let r=e.selection,i=Fu(e.annotations);return e.userEvent&&(i=i.concat(Ht.userEvent.of(e.userEvent))),{changes:e.changes instanceof qt?e.changes:qt.of(e.changes||[],n,t.facet(vj)),selection:r&&(r instanceof U?r:U.single(r.anchor,r.head)),effects:Fu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Tj(t,e,n){let r=CE(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=Oj(r,CE(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Ht.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return lne(n?ane(i):i)}function ane(t){let e=t.startState,n=!0;for(let i of e.facet(wj)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:one(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=qt.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Ht.create(e,i,t.selection&&t.selection.map(s),Oe.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(Sj);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Ht?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ht?t=s[0]:t=Tj(e,Fu(s),!1)}return t}function lne(t){let e=t.startState,n=e.facet(bj),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=Oj(r,CE(e,s,t.changes.newLength),!0))}return r==t?t:Ht.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const une=[];function Fu(t){return t==null?une:Array.isArray(t)?t:[t]}var dt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(dt||(dt={}));const cne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let IE;try{IE=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hne(t){if(IE)return IE.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||cne.test(n)))return!0}return!1}function fne(t){return e=>{if(!/\S/.test(e))return dt.Space;if(hne(e))return dt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return dt.Word;return dt.Other}}class Ne{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)sf(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return sf(this,r),xy(this,r)}update(...e){return Tj(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(V0.reconfigure)?(n&&(i=new Map,n.compartments.forEach((a,l)=>i.set(l,a)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Oe.reconfigure)?(n=null,r=o.value):o.is(Oe.appendConfig)&&(n=null,r=Fu(r).concat(o.value));let s;n?s=e.startState.values.slice():(n=ky.resolve(r,i,this),s=new Ne(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new Ne(n,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:U.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Fu(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(c);let h=i.mapDesc(u,!0);s.push(l.range.map(h)),i=i.compose(c),o=Oe.mapEffects(o,c).concat(Oe.mapEffects(Fu(l.effects),h))}return{changes:i,selection:U.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof qt?e:qt.of(e,this.doc.length,this.facet(Ne.lineSeparator))}toText(e){return Be.of(e.split(this.facet(Ne.lineSeparator)||EE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(sf(this,n),xy(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Zt&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ne.create({doc:e.doc,selection:U.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=ky.resolve(e.extensions||[],new Map),r=e.doc instanceof Be?e.doc:Be.of((e.doc||"").split(n.staticFacet(Ne.lineSeparator)||EE)),i=e.selection?e.selection instanceof U?e.selection:U.single(e.selection.anchor,e.selection.head):U.single(0);return pj(i,r.length),n.staticFacet(yj)||(i=i.asSingle()),new Ne(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ne.tabSize)}get lineBreak(){return this.facet(Ne.lineSeparator)||`
`}get readOnly(){return this.facet(Ej)}phrase(e,...n){for(let r of this.facet(Ne.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(gj))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return fne(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=Zn(n,o,!1);if(s(n.slice(l,o))!=dt.Word)break;o=l}for(;a<i;){let l=Zn(n,a);if(s(n.slice(a,l))!=dt.Word)break;a=l}return o==a?null:U.range(o+r,a+r)}}Ne.allowMultipleSelections=yj;Ne.tabSize=he.define({combine:t=>t.length?t[0]:4});Ne.lineSeparator=vj;Ne.readOnly=Ej;Ne.phrases=he.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ne.languageData=gj;Ne.changeFilter=wj;Ne.transactionFilter=Sj;Ne.transactionExtender=bj;V0.reconfigure=Oe.define();function fs(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class dl{eq(e){return this==e}range(e,n=e){return AE.create(e,n,this)}}dl.prototype.startSide=dl.prototype.endSide=0;dl.prototype.point=!1;dl.prototype.mapMode=Kn.TrackDel;let AE=class kj{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new kj(e,n,r)}};function NE(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Px{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,f,d;if(c==h){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<f)))continue}else if(f=n.mapPos(c,u.startSide),d=n.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,d-f)),r.push(u),i.push(f-o),s.push(d-o))}return{mapped:r.length?new Px(i,s,r,a):null,pos:o}}}class Ye{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Ye(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(NE)),this.isEmpty)return n.length?Ye.of(n):this;let a=new xj(this,null,-1).goto(0),l=0,u=[],c=new na;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(AE.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Ye.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new Ye(r,n,s||Ye.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Wf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Wf.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=ON(o,a,r),u=new fh(o,l,s),c=new fh(a,l,s);r.iterGaps((h,f,d)=>TN(u,h,c,f,d,i)),r.empty&&r.length==0&&TN(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=ON(s,o),l=new fh(s,a,0).goto(r),u=new fh(o,a,0).goto(r);for(;;){if(l.to!=u.to||!RE(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new fh(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<n?c.length+1:Math.min(c.length,l);i.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new na;for(let i of e instanceof AE?[e]:n?dne(e):e)r.add(i.from,i.to,i.value);return r.finish()}}Ye.empty=new Ye([],[],null,-1);function dne(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(NE(e,r)>0)return t.slice().sort(NE);e=r}return t}Ye.empty.nextLayer=Ye.empty;class na{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Px(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new na)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Ye.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Ye.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function ON(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class xj{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new xj(o,n,r,s));return i.length==1?i[0]:new Wf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)F1(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)F1(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),F1(this.heap,0)}}}function F1(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class fh{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){qp(this.active,e),qp(this.activeTo,e),qp(this.activeRank,e),this.minActive=kN(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;zp(this.active,n,r),zp(this.activeTo,n,i),zp(this.activeRank,n,s),e&&zp(e,n,this.cursor.from),this.minActive=kN(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&qp(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function TN(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,h=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&RE(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!RE(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&n.next()}}function RE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function qp(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function zp(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function kN(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Kd(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Zn(t,i));return r}function PE(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Zn(t,i)}return r===!0?-1:t.length}const DE="",xN=typeof Symbol>"u"?"__"+DE:Symbol.for(DE),LE=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ra{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(i(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(c.length||f)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_N[xN]||1;return _N[xN]=e+1,DE+e.toString(36)}static mount(e,n){(e[LE]||new pne(e)).mount(Array.isArray(n)?n:[n])}}let CN=new Map;class pne{constructor(e){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let i=CN.get(n);if(i)return e.adoptedStyleSheets=[i.sheet,...e.adoptedStyleSheets],e[LE]=i;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],CN.set(n,this)}else{this.styleTag=n.createElement("style");let i=e.head||e;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],e[LE]=this}mount(e){let n=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,o),n)for(let l=0;l<o.rules.length;l++)n.insertRule(o.rules[l],r++)}else{for(;i<a;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(!n){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var ia={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},IN=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),mne=typeof navigator<"u"&&/Mac/.test(navigator.platform),gne=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yne=mne||IN&&+IN[1]<57;for(var yn=0;yn<10;yn++)ia[48+yn]=ia[96+yn]=String(yn);for(var yn=1;yn<=24;yn++)ia[yn+111]="F"+yn;for(var yn=65;yn<=90;yn++)ia[yn]=String.fromCharCode(yn+32),Gf[yn]=String.fromCharCode(yn);for(var $1 in ia)Gf.hasOwnProperty($1)||(Gf[$1]=ia[$1]);function vne(t){var e=yne&&(t.ctrlKey||t.altKey||t.metaKey)||gne&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Gf:ia)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function _y(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function mc(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function wne(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wm(t,e){if(!e.anchorNode)return!1;try{return mc(t,e.anchorNode)}catch{return!1}}function gc(t){return t.nodeType==3?yc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Cy(t,e,n,r){return n?AN(t,e,n,r,-1)||AN(t,e,n,r,1):!1}function Iy(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function AN(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:sa(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Iy(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?sa(t):0}else return!1}}function sa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function j0(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Sne(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function bne(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t;c;)if(c.nodeType==1){let h,f=c==l.body;if(f)h=Sne(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let g=c.getBoundingClientRect();h={left:g.left,right:g.left+c.clientWidth,top:g.top,bottom:g.top+c.clientHeight}}let d=0,p=0;if(i=="nearest")e.top<h.top?(p=-(h.top-e.top+o),n>0&&e.bottom>h.bottom+p&&(p=e.bottom-h.bottom+p+o)):e.bottom>h.bottom&&(p=e.bottom-h.bottom+o,n<0&&e.top-p<h.top&&(p=-(h.top+p-e.top+o)));else{let g=e.bottom-e.top,v=h.bottom-h.top;p=(i=="center"&&g<=v?e.top+g/2-v/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-v+o)-h.top}if(r=="nearest"?e.left<h.left?(d=-(h.left-e.left+s),n>0&&e.right>h.right+d&&(d=e.right-h.right+d+s)):e.right>h.right&&(d=e.right-h.right+s,n<0&&e.left<h.left+d&&(d=-(h.left+d-e.left+s))):d=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,d||p)if(f)u.scrollBy(d,p);else{let g=0,v=0;if(p){let m=c.scrollTop;c.scrollTop+=p,v=c.scrollTop-m}if(d){let m=c.scrollLeft;c.scrollLeft+=d,g=c.scrollLeft-m}e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v},g&&Math.abs(g-d)<1&&(r="nearest"),v&&Math.abs(v-p)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Ene(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class One{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?sa(n):0),r,Math.min(e.focusOffset,r?sa(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let ql=null;function _j(t){if(t.setActive)return t.setActive();if(ql)return t.focus(ql);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ql==null?{get preventScroll(){return ql={preventScroll:!0},!0}}:void 0),!ql){ql=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let NN;function yc(t,e,n=e){let r=NN||(NN=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function $u(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function Tne(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Cj(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function kne(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,sa(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=sa(n))}else{if(n==t)return!0;r=Iy(n),n=n.parentNode}}class Sn{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Sn(e.parentNode,Iy(e),n)}static after(e,n){return new Sn(e.parentNode,Iy(e)+1,n)}}const Dx=[];class et{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=et.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.dirty=0}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=RN(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=RN(s)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=sa(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!et.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let h=this.children[l],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&i==-1&&(i=l,s=u),u>n&&h.dom.parentNode==this.dom){o=l,a=c;break}c=f,u=f+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=Dx){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Ij(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}et.prototype.breakAfter=0;function RN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Ij{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Aj(t,e,n,r,i,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,n==0,a,l))){if(r<u.length){let d=u[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,l)?s[s.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Nj(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,Aj(t,u,c,a,l,r,0,i,s)}let kr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},ME=typeof document<"u"?document:{documentElement:{style:{}}};const FE=/Edge\/(\d+)/.exec(kr.userAgent),Rj=/MSIE \d/.test(kr.userAgent),$E=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kr.userAgent),B0=!!(Rj||$E||FE),PN=!B0&&/gecko\/(\d+)/i.test(kr.userAgent),U1=!B0&&/Chrome\/(\d+)/.exec(kr.userAgent),DN="webkitFontSmoothing"in ME.documentElement.style,Pj=!B0&&/Apple Computer/.test(kr.vendor),LN=Pj&&(/Mobile\/\w+/.test(kr.userAgent)||kr.maxTouchPoints>2);var ue={mac:LN||/Mac/.test(kr.platform),windows:/Win/.test(kr.platform),linux:/Linux|X11/.test(kr.platform),ie:B0,ie_version:Rj?ME.documentMode||6:$E?+$E[1]:FE?+FE[1]:0,gecko:PN,gecko_version:PN?+(/Firefox\/(\d+)/.exec(kr.userAgent)||[0,0])[1]:0,chrome:!!U1,chrome_version:U1?+U1[1]:0,ios:LN,android:/Android\b/.test(kr.userAgent),webkit:DN,safari:Pj,webkit_version:DN?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:ME.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const xne=256;class pl extends et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof pl)||this.length-(n-e)+r.length>xne)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new pl(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Sn(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return UE(this.dom,e,n)}}class Gs extends et{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(Cj(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Gs&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(Nj(this,e,n,r?r.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Gs(this.mark,n,o)}domAtPos(e){return $j(this,e)}coordsAt(e,n){return Vj(this,e,n)}}function UE(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?ue.chrome||ue.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=yc(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return ue.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?j0(l,o<0):l||null}class Co extends et{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||Co)(e,n,r)}split(e){let n=Co.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Co)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Co&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Be.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Be.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Sn.before(this.dom):Sn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;for(let o=e>0?i.length-1:0;s=i[o],!(e>0?o==0:o==i.length-1||s.top<s.bottom);o+=e>0?-1:1);return this.length?s:j0(s,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Dj extends Co{domAtPos(e){let{topView:n,text:r}=this.widget;return n?VE(e,0,n,r,this.length-n.length,(i,s)=>i.domAtPos(s),(i,s)=>new Sn(i,Math.min(s,i.nodeValue.length))):new Sn(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?Mj(e,n,r,i,this.length-r.length):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?VE(e,n,r,i,this.length-r.length,(s,o,a)=>s.coordsAt(o,a),(s,o,a)=>UE(s,o,a)):UE(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function VE(t,e,n,r,i,s,o){if(n instanceof Gs){for(let a=n.dom.firstChild;a;a=a.nextSibling){let l=et.get(a);if(l){let u=mc(a,r),c=l.length+(u?i:0);if(t<c||t==c&&l.getSide()<=0)return u?VE(t,e,l,r,i,s,o):s(l,t,e);t-=c}else{let u=Lj(t,e,a,o);if(typeof u!="number")return u;t=u}}return s(n,n.length,-1)}else return n.dom==r?o(r,t,e):s(n,t,e)}function Lj(t,e,n,r){if(n.nodeType==3){let i=n.nodeValue.length;if(t<=i)return r(n,t,e);t-=i}else if(n.nodeType==1&&n.contentEditable!="false")for(let i=n.firstChild;i;i=i.nextSibling){let s=Lj(t,e,i,r);if(typeof s!="number")return s;t=s}return t}function Mj(t,e,n,r,i){if(n instanceof Gs){let s=0;for(let o=n.dom.firstChild;o;o=o.nextSibling){let a=et.get(o);if(a){let l=mc(o,r);if(mc(o,t))return s+(l?Mj(t,e,a,r,i):a.localPosFromDOM(t,e));s+=a.length+(l?i:0)}else{let l=Fj(t,e,o);if(l.result!=null)return s+l.result;s+=l.size}}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}function Fj(t,e,n){if(n.nodeType==3)return t==n?{result:e}:{size:n.nodeValue.length};if(n.nodeType==1&&n.contentEditable!="false"){let r=0;for(let i=n.firstChild,s=0;;i=i.nextSibling,s++){if(t==n&&s==e)return{result:r};if(!i)return{size:r};let o=Fj(t,e,i);if(o.result!=null)return{result:e+o.result};r+=o.size}}else return n.contains(t)?{result:0}:{size:0}}class vc extends et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof vc&&e.side==this.side}split(){return new vc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Sn.before(this.dom):Sn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Be.empty}get isHidden(){return!0}}pl.prototype.children=Co.prototype.children=vc.prototype.children=Dx;function $j(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Sn(n,0)}function Uj(t,e,n){let r,{children:i}=t;n>0&&e instanceof Gs&&i.length&&(r=i[i.length-1])instanceof Gs&&r.mark.eq(e.mark)?Uj(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Vj(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?a(d,c-f):(!s||s.isHidden&&n>0)&&(p>c||f==p&&d.getSide()>0)?(s=d,o=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-f)),f=p}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):_ne(t)}function _ne(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=gc(e);return n[n.length-1]||null}function jE(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function Lx(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function BE(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class to{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var kt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(kt||(kt={}));class pe extends dl{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Q0(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new ml(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=jj(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new ml(e,r,i,n,e.widget||null,!0)}static line(e){return new Jd(e)}static set(e,n=!1){return Ye.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}pe.none=Ye.empty;class Q0 extends pe{constructor(e){let{start:n,end:r}=jj(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Q0&&this.tagName==e.tagName&&this.class==e.class&&Lx(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Q0.prototype.point=!1;class Jd extends pe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jd&&this.spec.class==e.spec.class&&Lx(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Jd.prototype.mapMode=Kn.TrackBefore;Jd.prototype.point=!0;class ml extends pe{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Kn.TrackBefore:Kn.TrackAfter:Kn.TrackDel}get type(){return this.startSide<this.endSide?kt.WidgetRange:this.startSide<=0?kt.WidgetBefore:kt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof ml&&Cne(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ml.prototype.point=!0;function jj(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Cne(t,e){return t==e||!!(t&&e&&t.compare(e))}function QE(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class er extends et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof er))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Nj(this,e,n,r?r.children:[],s,o),!0}split(e){let n=new er;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Lx(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Uj(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=jE(n,this.attrs||{})),r&&(this.attrs=jE({class:r},this.attrs||{}))}domAtPos(e){return $j(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(Cj(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(BE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&et.get(i)instanceof Gs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=et.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ue.ios||!this.children.some(s=>s instanceof pl))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof pl)||/[^ -~]/.test(r.text))return null;let i=gc(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=Vj(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return kt.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof er)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Ga extends et{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Ga)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Sn.before(this.dom):Sn.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Ga(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return Dx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Be.empty}domBoundsAround(){return null}become(e){return e instanceof Ga&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Mx{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ga&&e.type==kt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new er),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Hp(new vc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Hp(new pl(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof ml){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof ml)if(r.block){let{type:l}=r;l==kt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ga(r.widget||new MN("div"),a,l))}else{let l=Co.create(r.widget||new MN("span"),a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(Hp(new vc(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(Hp(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Mx(e,n,r,s);return o.openEnd=Ye.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Hp(t,e){for(let n of e)t=new Gs(n,[t],t.length);return t}class MN extends to{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Bj=he.define(),Qj=he.define(),Yj=he.define(),qj=he.define(),YE=he.define(),zj=he.define(),Hj=he.define(),Wj=he.define({combine:t=>t.some(e=>e)}),Gj=he.define({combine:t=>t.some(e=>e)});class Ay{constructor(e,n="nearest",r="nearest",i=5,s=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new Ay(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const FN=Oe.define({map:(t,e)=>t.map(e)});function Nr(t,e,n){let r=t.facet(qj);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Y0=he.define({combine:t=>t.length?t[0]:!0});let Ine=0;const Ph=he.define();class Dt{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:s}=n||{};return new Dt(Ine++,e,r,o=>{let a=[Ph.of(o)];return s&&a.push(Xf.of(l=>{let u=l.plugin(o);return u?s(u):pe.none})),i&&a.push(i(o)),a})}static fromClass(e,n){return Dt.define(r=>new e(r),n)}}class V1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Nr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Nr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Nr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Xj=he.define(),Fx=he.define(),Xf=he.define(),$x=he.define(),Kj=he.define();function Jj(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(Kj)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Dh=he.define();class os{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new os(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let h=n[s],f=n[s+1],d=Math.max(a,h),p=Math.min(c,f);if(d<=p&&new os(d+u,p+u,d,p).addToSet(r),f>c)break;s+=2}if(!l)return r;new os(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Ny{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=qt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new os(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Ny(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var yt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(yt||(yt={}));const qE=yt.LTR,Ane=yt.RTL;function Zj(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Nne=Zj("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Rne=Zj("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),zE=Object.create(null),Mi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);zE[e]=n,zE[n]=-e}function Pne(t){return t<=247?Nne[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Rne[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const Dne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Uu{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?Ane:qE}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const pt=[];function Lne(t,e){let n=t.length,r=e==qE?1:2,i=e==qE?2:1;if(!t||r==1&&!Dne.test(t))return eB(n);for(let o=0,a=r,l=r;o<n;o++){let u=Pne(t.charCodeAt(o));u==512?u=a:u==8&&l==4&&(u=16),pt[o]=u==4?2:u,u&7&&(l=u),a=u}for(let o=0,a=r,l=r;o<n;o++){let u=pt[o];if(u==128)o<n-1&&a==pt[o+1]&&a&24?u=pt[o]=a:pt[o]=256;else if(u==64){let c=o+1;for(;c<n&&pt[c]==64;)c++;let h=o&&a==8||c<n&&pt[c]==8?l==1?1:8:256;for(let f=o;f<c;f++)pt[f]=h;o=c-1}else u==8&&l==1&&(pt[o]=1);a=u,u&7&&(l=u)}for(let o=0,a=0,l=0,u,c,h;o<n;o++)if(c=zE[u=t.charCodeAt(o)])if(c<0){for(let f=a-3;f>=0;f-=3)if(Mi[f+1]==-c){let d=Mi[f+2],p=d&2?r:d&4?d&1?i:r:0;p&&(pt[o]=pt[Mi[f]]=p),a=f;break}}else{if(Mi.length==189)break;Mi[a++]=o,Mi[a++]=u,Mi[a++]=l}else if((h=pt[o])==2||h==1){let f=h==r;l=f?0:1;for(let d=a-3;d>=0;d-=3){let p=Mi[d+2];if(p&2)break;if(f)Mi[d+2]|=2;else{if(p&4)break;Mi[d+2]|=4}}}for(let o=0;o<n;o++)if(pt[o]==256){let a=o+1;for(;a<n&&pt[a]==256;)a++;let l=(o?pt[o-1]:r)==1,u=(a<n?pt[a]:r)==1,c=l==u?l?1:2:r;for(let h=o;h<a;h++)pt[h]=c;o=a-1}let s=[];if(r==1)for(let o=0;o<n;){let a=o,l=pt[o++]!=1;for(;o<n&&l==(pt[o]!=1);)o++;if(l)for(let u=o;u>a;){let c=u,h=pt[--u]!=2;for(;u>a&&h==(pt[u-1]!=2);)u--;s.push(new Uu(u,c,h?2:1))}else s.push(new Uu(a,o,0))}else for(let o=0;o<n;){let a=o,l=pt[o++]==2;for(;o<n&&l==(pt[o]==2);)o++;s.push(new Uu(a,o,l?1:2))}return s}function eB(t){return[new Uu(0,t,0)]}let tB="";function Mne(t,e,n,r,i){var s;let o=r.head-t.from,a=-1;if(o==0){if(!i||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),a=0)}else if(o==t.length){if(i)return null;let f=e[e.length-1];f.level!=n&&(o=f.side(!0,n),a=e.length-1)}a<0&&(a=Uu.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[a];o==l.side(i,n)&&(l=e[a+=i?1:-1],o=l.side(!i,n));let u=i==(l.dir==n),c=Zn(t.text,o,u);if(tB=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(i,n))return U.cursor(c+t.from,u?-1:1,l.level);let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return!h&&l.level!=n?U.cursor(i?t.to:t.from,i?-1:1,n):h&&h.level<l.level?U.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):U.cursor(c+t.from,i?-1:1,l.level)}const pu="";class nB{constructor(e,n){this.points=e,this.text="",console.log("make reader"),this.lineSeparator=n.facet(Ne.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=pu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=et.get(i),l=et.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:$N(i))||$N(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=et.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function $N(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class UN{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class VN extends et{constructor(e){super(),this.view=e,this.compositionDeco=pe.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new er],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new os(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=pe.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=$ne(this.view,e.changes)),(ue.ie||ue.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),s=Bne(r,i,e.changes);return n=os.extendWithRanges(n,s),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ue.chrome||ue.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Ga&&s.widget instanceof jN&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:u}=s,{content:c,breakAtStart:h,openStart:f,openEnd:d}=Mx.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:p,off:g}=r.findPos(a,1),{i:v,off:m}=r.findPos(o,-1);Aj(this,v,m,p,g,c,h,f,d)}}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&Wm(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.domAtPos(a.anchor),u=a.empty?l:this.domAtPos(a.head);if(ue.gecko&&a.empty&&!this.compositionDeco.size&&Fne(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new Sn(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||!Cy(l.node,l.offset,c.anchorNode,c.anchorOffset)||!Cy(u.node,u.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{ue.android&&ue.chrome&&this.dom.contains(c.focusNode)&&Qne(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=_y(this.view.root);if(h)if(a.empty){if(ue.gecko){let f=Vne(l.node,l.offset);if(f&&f!=3){let d=iB(l.node,l.offset,f==1?1:-1);d&&(l=new Sn(d,f==1?0:d.nodeValue.length))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Sn(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Sn(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=_y(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=er.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}nearest(e){for(let n=e;n;){let r=et.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof er)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],o=r-s.breakAfter-s.length;if(e>o||e==o&&s.type!=kt.WidgetBefore&&s.type!=kt.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==kt.WidgetBefore&&n>-2))return s.coordsAt(e-o,n);r=o}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==yt.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>i)break;if(u>=r){let d=h.dom.getBoundingClientRect();if(n.push(d.height),o){let p=h.dom.lastChild,g=p?gc(p):[];if(g.length){let v=g[g.length-1],m=l?v.right-d.left:d.right-v.left;m>a&&(a=m,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?yt.RTL:yt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof er){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=gc(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new Ij(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=n.lineBlockAt(o).bottom-n.lineBlockAt(r).top;e.push(pe.replace({widget:new jN(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return pe.set(e)}updateDeco(){let e=this.view.state.facet(Xf).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=Jj(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom};bne(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==yt.LTR)}}function Fne(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class jN extends to{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function rB(t){let e=t.observer.selectionRange,n=e.focusNode&&iB(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof er){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!et.get(s);)s=s.previousSibling;let o=s?et.get(s).posAtEnd:r.posAtStart;return{from:o,to:o,node:i,text:n}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof er)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function $ne(t,e){let n=rB(t);if(!n)return pe.none;let{from:r,to:i,node:s,text:o}=n,a=e.mapPos(r,1),l=Math.max(a,e.mapPos(i,-1)),{state:u}=t,c=s.nodeType==3?s.nodeValue:new nB([],u).readRange(s.firstChild,null).text;if(c.indexOf(pu)>-1)return pe.none;if(l-a<c.length)if(u.doc.sliceString(a,Math.min(u.doc.length,a+c.length))==c)l=a+c.length;else if(u.doc.sliceString(Math.max(0,l-c.length),l)==c)a=l-c.length;else return pe.none;else if(u.doc.sliceString(a,l)!=c)return pe.none;let h=et.get(s);return h instanceof Dj?h=h.widget.topView:h&&(h.parent=null),pe.set(pe.replace({widget:new Une(s,o,h),inclusive:!0}).range(a,l))}class Une extends to{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Dj}}function iB(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=sa(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function Vne(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class jne{constructor(){this.changes=[]}compareRange(e,n){QE(e,n,this.changes)}comparePoint(e,n){QE(e,n,this.changes)}}function Bne(t,e,n){let r=new jne;return Ye.compare(t,e,n,r),r.changes}function Qne(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Yne(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return U.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=Zn(i.text,s,!1):a=Zn(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=Zn(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=Zn(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return U.range(o+i.from,a+i.from)}function qne(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function zne(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function j1(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function BN(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function QN(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function HE(t,e,n){let r,i,s,o,a=!1,l,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let g=gc(p);for(let v=0;v<g.length;v++){let m=g[v];i&&j1(i,m)&&(m=BN(QN(m,i.bottom),i.top));let y=qne(e,m),w=zne(n,m);if(y==0&&w==0)return p.nodeType==3?YN(p,e,n):HE(p,e,n);if(!r||o>w||o==w&&s>y){r=p,i=m,s=y,o=w;let S=w?n<m.top?-1:1:y?e<m.left?-1:1:0;a=!S||(S>0?v<g.length-1:v>0)}y==0?n>m.bottom&&(!c||c.bottom<m.bottom)?(l=p,c=m):n<m.top&&(!h||h.top>m.top)&&(u=p,h=m):c&&j1(c,m)?c=QN(c,m.bottom):h&&j1(h,m)&&(h=BN(h,m.top))}}if(c&&c.bottom>=n?(r=l,i=c):h&&h.top<=n&&(r=u,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return YN(r,f,n);if(a&&r.contentEditable!="false")return HE(r,f,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function YN(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=yc(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let f=e>=(c.left+c.right)/2,d=f;if((ue.chrome||ue.gecko)&&yc(t,a).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),s=h}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function sB(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let S=t.defaultLineHeight/2,b=!1;l=t.elementAtHeight(f),l.type!=kt.Text;)for(;f=r>0?l.bottom+S:l.top-S,!(f>=0&&f<=u);){if(b)return n?null:0;b=!0,r=-r}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:qN(t,o,l,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:qN(t,o,l,c,h);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,v=g.elementFromPoint(c,h);v&&!t.contentDOM.contains(v)&&(v=null),v||(c=Math.max(o.left+1,Math.min(o.right-1,c)),v=g.elementFromPoint(c,h),v&&!t.contentDOM.contains(v)&&(v=null));let m,y=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let S=p.caretPositionFromPoint(c,h);S&&({offsetNode:m,offset:y}=S)}else if(p.caretRangeFromPoint){let S=p.caretRangeFromPoint(c,h);S&&({startContainer:m,startOffset:y}=S,(!t.contentDOM.contains(m)||ue.safari&&Hne(m,y,c)||ue.chrome&&Wne(m,y,c))&&(m=void 0))}}if(!m||!t.docView.dom.contains(m)){let S=er.find(t.docView,d);if(!S)return f>l.top+l.height/2?l.to:l.from;({node:m,offset:y}=HE(S.dom,c,h))}let w=t.docView.nearest(m);if(!w)return null;if(w.isWidget&&((s=w.dom)===null||s===void 0?void 0:s.nodeType)==1){let S=w.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(m,y)+w.posAtStart}function qN(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=Math.floor((i-n.top)/t.defaultLineHeight);s+=a*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+PE(o,s,t.state.tabSize)}function Hne(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return yc(t,r-1,r).getBoundingClientRect().left>n}function Wne(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():yc(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function Gne(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(i.from),c=t.posAtCoords({x:n==(u==yt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return U.cursor(c,n?-1:1)}let o=er.find(t.docView,e.head),a=o?n?o.posAtEnd:o.posAtStart:n?i.to:i.from;return U.cursor(a,n?-1:1)}function zN(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=Mne(i,s,o,a,n),c=tB;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=U.cursor(n?i.from:i.to)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function Xne(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==dt.Space&&(i=o),i==o}}function Kne(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return U.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(s<0?d.top:d.bottom)+c}let h=l.left+o,f=r??t.defaultLineHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,g=sB(t,{x:h,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?g<i:g>i))return U.cursor(g,e.assoc,void 0,o)}}function Gm(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function B1(t,e,n){let r=Gm(t.state.facet($x).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:U.cursor(r,r<n.from?1:-1)}class Jne{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Bt){let i=Bt[r];e.contentDOM.addEventListener(r,s=>{HN(e,s)&&n(i,s)},WE[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(Bt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(Bt.drop,r)}),ue.chrome&&ue.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ue.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let s of n)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let o in i)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{HN(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(o){Nr(n.state,o)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(s){Nr(e.state,s)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(n.keyCode!=27&&aB.indexOf(n.keyCode)<0&&(e.inputState.lastEscPress=0),ue.android&&ue.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return ue.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=oB.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||Zne.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,$u(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ue.safari&&!ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const oB=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Zne="dthko",aB=[16,17,18,20,91,92,224,225],Wp=6;function Gp(t){return Math.max(0,t)*.7+8}class ere{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Ene(e.contentDOM),this.atoms=e.state.facet($x).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ne.allowMultipleSelections)&&tre(e,n),this.dragMove=nre(e,n),this.dragging=rre(e,n)&&hB(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Jj(this.view);e.clientX-o.left<=s.left+Wp?r=-Gp(s.left-e.clientX):e.clientX+o.right>=s.right-Wp&&(r=Gp(e.clientX-s.right)),e.clientY-o.top<=s.top+Wp?i=-Gp(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-Wp&&(i=Gp(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Gm(this.atoms,i.from,0);o!=i.from&&(s=U.cursor(o,-1))}else{let o=Gm(this.atoms,i.from,-1),a=Gm(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=U.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?U.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection)||r.main.assoc!=n.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function tre(t,e){let n=t.state.facet(Bj);return n.length?n[0](e):ue.mac?e.metaKey:e.ctrlKey}function nre(t,e){let n=t.state.facet(Qj);return n.length?n[0](e):ue.mac?!e.altKey:!e.ctrlKey}function rre(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=_y(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function HN(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=et.get(n))&&r.ignoreEvent(e))return!1;return!0}const Bt=Object.create(null),WE=Object.create(null),lB=ue.ie&&ue.ie_version<15||ue.ios&&ue.webkit_version<604;function ire(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),uB(t,n.value)},50)}function uB(t,e){let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(GE!=null&&n.selection.ranges.every(l=>l.empty)&&GE==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:U.cursor(u.from+h.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:U.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Bt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};Bt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Bt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};WE.touchstart=WE.touchmove={passive:!0};Bt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(Yj))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=are(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new ere(t,e,n,r)),r&&t.observer.ignore(()=>_j(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function WN(t,e,n,r){if(r==1)return U.cursor(e,n);if(r==2)return Yne(t.state,e,n);{let i=er.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,U.range(o,a)}}let cB=(t,e)=>t>=e.top&&t<=e.bottom,GN=(t,e,n)=>cB(e,n)&&t>=n.left&&t<=n.right;function sre(t,e,n,r){let i=er.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&GN(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&GN(n,r,a)?1:o&&cB(r,o)?-1:1}function XN(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:sre(t,n,e.clientX,e.clientY)}}const ore=ue.ie&&ue.ie_version<=11;let KN=null,JN=0,ZN=0;function hB(t){if(!ore)return t.detail;let e=KN,n=ZN;return KN=t,ZN=Date.now(),JN=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(JN+1)%3:1}function are(t,e){let n=XN(t,e),r=hB(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=XN(t,s),u,c=WN(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let h=WN(t,n.pos,n.bias,r),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?U.range(f,d):U.range(d,f)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=lre(i,l.pos))?u:a?i.addRange(c):U.create([c])}}}function lre(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return U.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Bt.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function eR(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}Bt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&eR(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}}else eR(t,e,e.dataTransfer.getData("Text"),!0)};Bt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=lB?null:e.clipboardData;n?(uB(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):ire(t)};function ure(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function cre(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let GE=null;Bt.copy=Bt.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=cre(t.state);if(!n&&!i)return;GE=i?n:null;let s=lB?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):ure(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const fB=hs.define();function dB(t,e){let n=[];for(let r of t.facet(Hj)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:fB.of(!0)}):null}function pB(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=dB(t.state,e);n?t.dispatch(n):t.update([])}},10)}Bt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),pB(t)};Bt.blur=t=>{t.observer.clearSelectionRange(),pB(t)};Bt.compositionstart=Bt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Bt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ue.chrome&&ue.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};Bt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Bt.beforeinput=(t,e)=>{var n;let r;if(ue.chrome&&ue.android&&(r=oB.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const tR=["pre-wrap","normal","pre-line","break-spaces"];class hre{constructor(e){this.lineWrapping=e,this.doc=Be.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tR.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=tR.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class fre{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ts{constructor(e,n,r,i,s,o){this.from=e,this.length=n,this.top=r,this.height=i,this.children=s,this.deco=o}get type(){var e,n,r;return(r=(e=this.children)!==null&&e!==void 0?e:(n=this.deco)===null||n===void 0?void 0:n.type)!==null&&r!==void 0?r:kt.Text}get widget(){return this.deco&&this.deco.widget}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(this.children||[this]).concat(e.children||[e]);return new Ts(this.from,this.length+e.length,this.top,this.height+e.height,n,null)}}var rt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(rt||(rt={}));const Xm=.001;class rr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Xm&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return rr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=i[a],f=s.lineAt(l,rt.ByPosNoHeight,r.setDoc(n),0,0),d=f.to>=u?f:s.lineAt(u,rt.ByPosNoHeight,r,0,0);for(h+=d.to-u,u=d.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,rt.ByPosNoHeight,r,0,0));c+=f.from-l,l=f.from;let p=Ux.build(r.setDoc(o),e,c,h);s=s.replace(l,u,p)}return s.updateHeight(r,0)}static empty(){return new Er(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new dre(rr.of(e.slice(0,n)),o,rr.of(e.slice(r)))}}rr.prototype.size=1;class mB extends rr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Ts(i,this.length,r,this.height,null,this.deco)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Er extends mB{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Er||i instanceof dn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof dn?i=new Er(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dn extends rr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),c=n.doc.lineAt(u),h=a+c.length*l,f=Math.max(r,e-h/2);return new Ts(c.from,c.length,f,h,null,null)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:h}=n.doc.line(s+u);return new Ts(c,h,r+a*u,a,null,null)}}lineAt(e,n,r,i,s){if(n==rt.ByHeight)return this.blockAt(e,r,i,s);if(n==rt.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Ts(d,p-d,0,0,null,null)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,h=u.number-o,f=i+a*h+l*(u.from-s-h);return new Ts(u.from,u.length,Math.max(i,Math.min(f,i+this.height-c)),c,null,null)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,h=i;c<=n;){let f=r.doc.lineAt(c);if(c==e){let p=f.number-a;h+=l*p+u*(e-s-p)}let d=l+u*f.length;o(new Ts(f.from,f.length,h,d,null,null)),h+=d,c=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof dn?r[r.length-1]=new dn(s.length+i):r.push(null,new dn(i-1))}if(e>0){let s=r[0];s instanceof dn?r[0]=new dn(e+s.length):r.unshift(new dn(e-1),null)}return rr.of(r)}decomposeLeft(e,n){n.push(new dn(e-1),null)}decomposeRight(e,n){n.push(null,new dn(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new dn(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=Xm&&(l=-2);let f=new Er(c,h);f.outdated=!1,o.push(f),a+=c+1}a<=s&&o.push(null,new dn(s-a).updateHeight(e,a));let u=rr.of(o);return(l<0||Math.abs(u.height-this.height)>=Xm||Math.abs(l-this.heightMetrics(e,n).perLine)>=Xm)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class dre extends rr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==rt.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==rt.ByPosNoHeight?rt.ByPosNoHeight:rt.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,rt.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&nR(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),nR(s,a)}return rr.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?rr.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function nR(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof dn&&(r=t[e+1])instanceof dn&&t.splice(e-1,3,new dn(n.length+1+r.length))}const pre=5;class Ux{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Er?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Er(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new mB(s,i,r)):(s||i>=pre)&&this.addLineDeco(i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Er(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new dn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Er)return e;let n=new Er(0,-1);return this.nodes.push(n),n}addBlock(e){var n;this.enterLine();let r=(n=e.deco)===null||n===void 0?void 0:n.type;r==kt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=kt.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Er)&&!this.isCovered?this.nodes.push(new Er(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Er&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new Ux(r,e);return Ye.spans(n,r,i,s,0),s.finish(r)}}function mre(t,e,n){let r=new gre;return Ye.compare(t,e,n,r,0),r.changes}class gre{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&QE(e,n,this.changes,5)}}function yre(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=u==t.parentNode?f.bottom:Math.min(l,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function vre(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Q1{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return pe.replace({widget:new wre(this.size,e)}).range(this.from,this.to)}}class wre extends to{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class rR{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=iR,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=yt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Fx).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new hre(n),this.stateDeco=e.facet(Xf).filter(r=>typeof r!="function"),this.heightMap=rr.empty().applyChanges(this.stateDeco,Be.empty,this.heightOracle.setDoc(e.doc),[new os(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=pe.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Xp(s,o))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?iR:new Ere(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Lh(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Xf).filter(u=>typeof u!="function");let i=e.changedRanges,s=os.extendWithRanges(i,mre(r,this.stateDeco,e?e.changes:qt.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Gj)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?yt.RTL:yt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0,h=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=(this.printing?vre:yre)(n,this.paddingTop),p=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let m=a.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(o=!0),o||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:b,textHeight:k}=e.docView.measureTextSize();o=S>0&&i.refresh(s,S,b,k,m/b,w),o&&(e.docView.minWidth=0,u|=8)}p>0&&g>0?c=Math.max(p,g):p<0&&g<0&&(c=Math.min(p,g)),i.heightChanged=!1;for(let S of this.viewports){let b=S.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(S);this.heightMap=(o?rr.empty().applyChanges(this.stateDeco,Be.empty,this.heightOracle,[new os(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new fre(S.from,b))}i.heightChanged&&(u|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Xp(i.lineAt(o-r*1e3,rt.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,rt.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,rt.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=h.top:f=h.bottom-c,l=new Xp(i.lineAt(f-1e3/2,rt.ByHeight,s,0,0).from,i.lineAt(f+c+1e3/2,rt.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Xp(this.heightMap.lineAt(r,rt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,rt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,rt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,rt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Q1(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=yt.LTR&&!r)return[];let a=[],l=(u,c,h,f)=>{if(c-u<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let v of p)if(v>u&&v<c){l(u,v-10,h,f),l(v+10,c,h,f);return}let g=bre(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-u)<s&&Math.abs(v.to-c)<s&&!p.some(m=>v.from<m&&v.to>m));if(!g){if(c<h.to&&n&&r&&n.visibleRanges.some(v=>v.from<=c&&v.to>=c)){let v=n.moveToLineBoundary(U.cursor(c),!1,!0).head;v>u&&(c=v)}g=new Q1(u,c,this.gapSize(h,u,c,f))}a.push(g)};for(let u of this.viewportLines){if(u.length<o)continue;let c=Sre(u.from,u.to,this.stateDeco);if(c.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(h!=null){let m=Jp(c,h),y=((this.visibleBottom-this.visibleTop)/2+p)/u.height;g=m-y,v=m+y}else g=(this.visibleTop-u.top-p)/u.height,v=(this.visibleBottom-u.top+p)/u.height;f=Kp(c,g),d=Kp(c,v)}else{let p=c.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,v,m;if(h!=null){let y=Jp(c,h),w=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;v=y-w,m=y+w}else v=(this.pixelViewport.left-g)/p,m=(this.pixelViewport.right+g)/p;f=Kp(c,v),d=Kp(c,m)}f>u.from&&l(u.from,f,u,c),d<u.to&&l(d,u.to,u,c)}return a}gapSize(e,n,r,i){let s=Jp(i,r)-Jp(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Q1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=pe.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Ye.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Lh(this.heightMap.lineAt(e,rt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Lh(this.heightMap.lineAt(this.scaler.fromDOM(e),rt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Lh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Xp{constructor(e,n){this.from=e,this.to=n}}function Sre(t,e,n){let r=[],i=t,s=0;return Ye.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Kp({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Jp(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function bre(t,e){for(let n of t)if(e(n))return n}const iR={toDOM(t){return t},fromDOM(t){return t},scale:1};class Ere{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,rt.ByPos,e,0,0).top,c=n.lineAt(l,rt.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function Lh(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ts(t.from,t.length,n,r-n,t.children&&t.children.map(i=>Lh(i,e)),t.deco)}const Zp=he.define({combine:t=>t.join(" ")}),XE=he.define({combine:t=>t.indexOf(!0)>-1}),KE=ra.newName(),gB=ra.newName(),yB=ra.newName(),vB={"&light":"."+gB,"&dark":"."+yB};function JE(t,e,n){return new ra(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Ore=JE("."+KE,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},vB);class Tre{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:xre(e),l=new nB(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=_re(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!mc(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!mc(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=U.single(u,l)}}}function wB(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||ue.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=kre(t.state.doc.sliceString(o,a,pu),e.text,l-o,u);c&&(ue.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==pu+pu&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Be.of(e.text.slice(c.from,c.toB).split(pu))})}else r&&(!t.hasFocus&&t.state.facet(Y0)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(ue.mac||ue.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=U.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Be.of([" "])}):ue.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=U.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Be.of([" "])}),n){let o=t.state;if(ue.ios&&t.inputState.flushIOSKey(t)||ue.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&$u(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from)&&$u(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&$u(t.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();if(t.state.facet(zj).some(c=>c(t,n.from,n.to,a)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?o.sliceDoc(i.from,n.from):"",h=i.to>n.to?o.sliceDoc(n.to,i.to):"";l=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let c=o.changes(n),h=r&&r.main.to<=c.newLength?r.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let f=t.state.sliceDoc(n.from,n.to),d=rB(t)||t.state.doc.lineAt(i.head),p=i.to-n.to,g=i.to-i.from;l=o.changeByRange(v=>{if(v.from==i.from&&v.to==i.to)return{changes:c,range:h||v.map(c)};let m=v.to-p,y=m-f.length;if(v.to-v.from!=g||t.state.sliceDoc(y,m)!=f||d&&v.to>=d.from&&v.from<=d.to)return{range:v};let w=o.changes({from:y,to:m,insert:n.insert}),S=v.to-i.to;return{changes:w,range:h?U.range(Math.max(0,h.anchor+S),Math.max(0,h.head+S)):v.map(w)}})}else l={changes:c,selection:h&&o.selection.replaceRange(h)}}let u="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,u+=".compose",t.inputState.compositionFirstChange&&(u+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:u}),!0}else if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function kre(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function xre(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new UN(n,r)),(i!=n||s!=r)&&e.push(new UN(i,s))),e}function _re(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?U.single(n+e,r+e):null}const Cre={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Y1=ue.ie&&ue.ie_version<=11;class Ire{constructor(e){this.view=e,this.active=!1,this.selectionRange=new One,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ue.ie&&ue.ie_version<=11||ue.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Y1&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Y0)?r.root.activeElement!=this.dom:!Wm(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ue.ie&&ue.ie_version<=11||ue.android&&ue.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Cy(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ue.safari&&e.root.nodeType==11&&wne(this.dom.ownerDocument)==this.dom&&Are(this.view)||_y(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=Wm(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&kne(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Cre),Y1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Y1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&$u(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Wm(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Tre(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=wB(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=sR(n,e.previousSibling||e.target.previousSibling,-1),i=sR(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function sR(t,e,n){for(;e;){let r=et.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Are(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return Cy(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}class se{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||Tne(e.parent)||document,this.viewState=new rR(e.state||Ne.create(e)),this.plugins=this.state.facet(Ph).map(n=>new V1(n));for(let n of this.plugins)n.update(this);this.observer=new Ire(this),this.inputState=new Jne(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new VN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Ht?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(fB))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=dB(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Ne.phrases)!=this.state.facet(Ne.phrases))return this.setState(s);i=Ny.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Ay(d.empty?d:U.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(FN)&&(h=d.value)}this.viewState.update(i,h),this.bidiCache=Ry.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Dh)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Zp)!=i.state.facet(Zp)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let f of this.state.facet(YE))f(i);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!wB(this,c)&&u.force&&$u(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new rR(e),this.plugins=e.facet(Ph).map(r=>new V1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new VN(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Ph),r=e.state.facet(Ph);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new V1(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:s}=this.scrollDOM,o=i>r-s-4?r:i;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,u=this.viewState.lineBlockAtHeight(o),c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];c&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(v=>{try{return v.read(this)}catch(m){return Nr(this.state,m),oR}}),d=Ny.create(this,this.state,[]),p=!1,g=!1;d.flags|=c,n?n.flags|=c:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let v=0;v<h.length;v++)if(f[v]!=oR)try{let m=h[v];m.write&&m.write(f[v],this)}catch(m){Nr(this.state,m)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let v=this.viewState.lineBlockAt(u.from).top-u.top;(v>1||v<-1)&&(this.scrollDOM.scrollTop+=v,g=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(YE))a(n)}get themeClasses(){return KE+" "+(this.state.facet(XE)?yB:gB)+" "+this.state.facet(Zp)}updateAttrs(){let e=aR(this,Xj,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Y0)?"true":"false",class:"cm-content",style:`${ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),aR(this,Fx,n);let r=this.observer.ignore(()=>{let i=BE(this.contentDOM,this.contentAttrs,n),s=BE(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(se.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Dh),ra.mount(this.root,this.styleModules.concat(Ore).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return B1(this,e,zN(this,e,n,r))}moveByGroup(e,n){return B1(this,e,zN(this,e,n,r=>Xne(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return Gne(this,e,n,r)}moveVertically(e,n,r){return B1(this,e,Kne(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),sB(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Uu.find(s,e-i.from,-1,n)];return j0(r,o.dir==yt.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Wj)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Nre)return eB(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=Lne(e.text,n);return this.bidiCache.push(new Ry(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ue.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{_j(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return FN.of(new Ay(typeof e=="number"?U.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return Dt.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=ra.newName(),i=[Zp.of(r),Dh.of(JE(`.${r}`,e))];return n&&n.dark&&i.push(XE.of(!0)),i}static baseTheme(e){return ga.lowest(Dh.of(JE("."+KE,e,vB)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&et.get(r)||et.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}se.styleModule=Dh;se.inputHandler=zj;se.focusChangeEffect=Hj;se.perLineTextDirection=Wj;se.exceptionSink=qj;se.updateListener=YE;se.editable=Y0;se.mouseSelectionStyle=Yj;se.dragMovesSelection=Qj;se.clickAddsSelectionRange=Bj;se.decorations=Xf;se.atomicRanges=$x;se.scrollMargins=Kj;se.darkTheme=XE;se.contentAttributes=Fx;se.editorAttributes=Xj;se.lineWrapping=se.contentAttributes.of({class:"cm-lineWrapping"});se.announce=Oe.define();const Nre=4096,oR={};class Ry{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:yt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Ry(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.order))}return r}}function aR(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&jE(o,n)}return n}const Rre=ue.mac?"mac":ue.windows?"win":ue.linux?"linux":"key";function Pre(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function em(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Dre=ga.default(se.domEventHandlers({keydown(t,e){return bB(SB(e.state),t,e,"editor")}})),Yc=he.define({enables:Dre}),lR=new WeakMap;function SB(t){let e=t.facet(Yc),n=lR.get(e);return n||lR.set(e,n=Fre(e.reduce((r,i)=>r.concat(i),[]))),n}function Lre(t,e,n){return bB(SB(t.state),e,t,n)}let wo=null;const Mre=4e3;function Fre(t,e=Rre){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u)=>{var c,h;let f=n[o]||(n[o]=Object.create(null)),d=a.split(/ (?!$)/).map(v=>Pre(v,e));for(let v=1;v<d.length;v++){let m=d.slice(0,v).join(" ");i(m,!0),f[m]||(f[m]={preventDefault:!0,run:[y=>{let w=wo={view:y,prefix:m,scope:o};return setTimeout(()=>{wo==w&&(wo=null)},Mre),!0}]})}let p=d.join(" ");i(p,!1);let g=f[p]||(f[p]={preventDefault:!1,run:((h=(c=f._any)===null||c===void 0?void 0:c.run)===null||h===void 0?void 0:h.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,run:[]});for(let h in c)c[h].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault)}return n}function bB(t,e,n,r){let i=vne(e),s=gn(i,0),o=Hr(s)==i.length&&i!=" ",a="",l=!1;wo&&wo.view==n&&wo.scope==r&&(a=wo.prefix+" ",(l=aB.indexOf(e.keyCode)<0)&&(wo=null));let u=new Set,c=p=>{if(p){for(let g of p.run)if(!u.has(g)&&(u.add(g),g(n,e)))return!0;p.preventDefault&&(l=!0)}return!1},h=t[r],f,d;if(h){if(c(h[a+em(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ue.windows&&e.ctrlKey&&e.altKey)&&(f=ia[e.keyCode])&&f!=i){if(c(h[a+em(f,e,!0)]))return!0;if(e.shiftKey&&(d=Gf[e.keyCode])!=i&&d!=f&&c(h[a+em(d,e,!1)]))return!0}else if(o&&e.shiftKey&&c(h[a+em(i,e,!0)]))return!0;if(c(h._any))return!0}return l}class Zd{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=EB(e);return[new Zd(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return $re(e,n,r)}}function EB(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==yt.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function uR(t,e,n){let r=U.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:kt.Text}}function cR(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==kt.Text))return r}return n}function $re(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==yt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=EB(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=a.right-(c?parseInt(c.paddingRight):0),d=cR(t,r),p=cR(t,i),g=d.type==kt.Text?d:null,v=p.type==kt.Text?p:null;if(t.lineWrapping&&(g&&(g=uR(t,r,g)),v&&(v=uR(t,i,v))),g&&v&&g.from==v.from)return y(w(n.from,n.to,g));{let b=g?w(n.from,null,g):S(d,!1),k=v?w(null,n.to,v):S(p,!0),_=[];return(g||d).to<(v||p).from-(g&&v?1:0)?_.push(m(h,b.bottom,f,k.top)):b.bottom<k.top&&t.elementAtHeight((b.bottom+k.top)/2).type==kt.Text&&(b.bottom=k.top=(b.bottom+k.top)/2),y(b).concat(_).concat(y(k))}function m(b,k,_,R){return new Zd(e,b-l.left,k-l.top-.01,_-b,R-k+.01)}function y({top:b,bottom:k,horizontal:_}){let R=[];for(let T=0;T<_.length;T+=2)R.push(m(_[T],b,_[T+1],k));return R}function w(b,k,_){let R=1e9,T=-1e9,C=[];function B(I,D,Y,ne,M){let V=t.coordsAtPos(I,I==_.to?-2:2),ee=t.coordsAtPos(Y,Y==_.from?2:-2);!V||!ee||(R=Math.min(V.top,ee.top,R),T=Math.max(V.bottom,ee.bottom,T),M==yt.LTR?C.push(s&&D?h:V.left,s&&ne?f:ee.right):C.push(!s&&ne?h:ee.left,!s&&D?f:V.right))}let G=b??_.from,J=k??_.to;for(let I of t.visibleRanges)if(I.to>G&&I.from<J)for(let D=Math.max(I.from,G),Y=Math.min(I.to,J);;){let ne=t.state.doc.lineAt(D);for(let M of t.bidiSpans(ne)){let V=M.from+ne.from,ee=M.to+ne.from;if(V>=Y)break;ee>D&&B(Math.max(V,D),b==null&&V<=G,Math.min(ee,Y),k==null&&ee>=J,M.dir)}if(D=ne.to+1,D>=Y)break}return C.length==0&&B(G,b==null,J,k==null,t.textDirection),{top:R,bottom:T,horizontal:C}}function S(b,k){let _=a.top+(k?b.top:b.bottom);return{top:_,bottom:_,horizontal:[]}}}function Ure(t,e){return t.constructor==e.constructor&&t.eq(e)}class Vre{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Km)!=e.state.facet(Km)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Km);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Ure(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Km=he.define();function OB(t){return[Dt.define(e=>new Vre(e,t)),Km.of(t)]}const TB=!ue.ios,Kf=he.define({combine(t){return fs(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function jre(t={}){return[Kf.of(t),Bre,Qre,Yre,Gj.of(!0)]}function kB(t){return t.startState.facet(Kf)!=t.state.facet(Kf)}const Bre=OB({above:!0,markers(t){let{state:e}=t,n=e.facet(Kf),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||TB:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:U.cursor(i.head,i.head>i.anchor?-1:1);for(let l of Zd.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=kB(t);return n&&hR(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){hR(e.state,t)},class:"cm-cursorLayer"});function hR(t,e){e.style.animationDuration=t.facet(Kf).cursorBlinkRate+"ms"}const Qre=OB({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Zd.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||kB(t)},class:"cm-selectionLayer"}),xB={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};TB&&(xB[".cm-line"].caretColor="transparent !important");const Yre=ga.highest(se.theme(xB)),_B=Oe.define({map(t,e){return t==null?null:e.mapPos(t)}}),Mh=Zt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(_B)?r.value:n,t)}}),qre=Dt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Mh);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Mh)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Mh),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Mh)!=t&&this.view.dispatch({effects:_B.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function zre(){return[Mh,qre]}function fR(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Hre(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Wre{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let h=r(a,l,u);h&&c(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new na,r=n.add.bind(n);for(let{from:i,to:s}of Hre(e,this.maxLength))fR(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let f=[],d,p=(g,v,m)=>f.push(m.range(g,v));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<h-l.from;)this.addMatch(d,e,d.index+l.from,p);else fR(e.state.doc,this.regexp,c,h,(g,v)=>this.addMatch(v,e,g,p));n=n.update({filterFrom:c,filterTo:h,filter:(g,v)=>g<c||v>h,add:f})}}return n}}const ZE=/x/.unicode!=null?"gu":"g",Gre=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,ZE),Xre={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let q1=null;function Kre(){var t;if(q1==null&&typeof document<"u"&&document.body){let e=document.body.style;q1=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return q1||!1}const Jm=he.define({combine(t){let e=fs(t,{render:null,specialChars:Gre,addSpecialChars:null});return(e.replaceTabs=!Kre())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,ZE)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ZE)),e}});function Jre(t={}){return[Jm.of(t),Zre()]}let dR=null;function Zre(){return dR||(dR=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=pe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Jm)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Wre({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=gn(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=Kd(o.text,a,r-o.from);return pe.replace({widget:new rie((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=pe.replace({widget:new nie(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Jm);t.startState.facet(Jm)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const eie="";function tie(t){return t>=32?eie:t==10?"":String.fromCharCode(9216+t)}class nie extends to{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=tie(this.code),r=e.state.phrase("Control character")+" "+(Xre[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class rie extends to{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function iie(){return oie}const sie=pe.line({class:"cm-activeLine"}),oie=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(sie.range(i.from)),e=i.from)}return pe.set(n)}},{decorations:t=>t.decorations});class aie extends to{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?gc(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=j0(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function lie(t){return Dt.fromClass(class{constructor(e){this.view=e,this.placeholder=pe.set([pe.widget({widget:new aie(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?pe.none:this.placeholder}},{decorations:e=>e.decorations})}const eO=2e3;function uie(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>eO||n.off>eO||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(U.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=PE(u.text,o,t.tabSize,!0);if(c<0)s.push(U.cursor(u.to));else{let h=PE(u.text,a,t.tabSize);s.push(U.range(u.from+c,u.from+h))}}}return s}function cie(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function pR(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>eO?-1:i==r.length?cie(t,e.clientX):Kd(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function hie(t,e){let n=pR(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=pR(t,i);if(!a)return r;let l=uie(t.state,n,a);return l.length?o?U.create(l.concat(r.ranges)):U.create(l):r}}:null}function fie(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return se.mouseSelectionStyle.of((n,r)=>e(r)?hie(n,r):null)}const die={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},pie={style:"cursor: crosshair"};function mie(t={}){let[e,n]=die[t.key||"Alt"],r=Dt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,se.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?pie:null})]}const tm="-10000px";class CB{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var n;let r=e.state.facet(this.facet),i=r.filter(o=>o);if(r===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<i.length;o++){let a=i[o],l=-1;if(a){for(let u=0;u<this.tooltips.length;u++){let c=this.tooltips[u];c&&c.create==a.create&&(l=u)}if(l<0)s[o]=this.createTooltipView(a);else{let u=s[o]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function gie(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const z1=he.define({combine:t=>{var e,n,r;return{position:ue.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||gie}}}),mR=new WeakMap,IB=Dt.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(z1);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new CB(t,Vx,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(z1);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=tm,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let r=this.manager.tooltipViews[n];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(z1).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:r}=t,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],a=this.manager.tooltipViews[s],{dom:l}=a,u=t.pos[s],c=t.size[s];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){l.style.top=tm;continue}let h=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,f=h?7:0,d=c.right-c.left,p=(e=mR.get(a))!==null&&e!==void 0?e:c.bottom-c.top,g=a.offset||vie,v=this.view.textDirection==yt.LTR,m=c.width>r.right-r.left?v?r.left:r.right-c.width:v?Math.min(u.left-(h?14:0)+g.x,r.right-d):Math.max(r.left,u.left-d+(h?14:0)-g.x),y=!!o.above;!o.strictSide&&(y?u.top-(c.bottom-c.top)-g.y<r.top:u.bottom+(c.bottom-c.top)+g.y>r.bottom)&&y==r.bottom-u.bottom>u.top-r.top&&(y=!y);let w=(y?u.top-r.top:r.bottom-u.bottom)-f;if(w<p&&a.resize!==!1){if(w<this.view.defaultLineHeight){l.style.top=tm;continue}mR.set(a,p),l.style.height=(p=w)+"px"}else l.style.height&&(l.style.height="");let S=y?u.top-p-f-g.y:u.bottom+f+g.y,b=m+d;if(a.overlap!==!0)for(let k of i)k.left<b&&k.right>m&&k.top<S+p&&k.bottom>S&&(S=y?k.top-p-2-f:k.bottom+f+2);this.position=="absolute"?(l.style.top=S-t.parent.top+"px",l.style.left=m-t.parent.left+"px"):(l.style.top=S+"px",l.style.left=m+"px"),h&&(h.style.left=`${u.left+(v?g.x:-g.x)-(m+14-7)}px`),a.overlap!==!0&&i.push({left:m,top:S,right:b,bottom:S+p}),l.classList.toggle("cm-tooltip-above",y),l.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=tm}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),yie=se.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),vie={x:0,y:0},Vx=he.define({enables:[IB,yie]}),Py=he.define();class jx{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new CB(e,Py,n=>this.createHostedView(n))}static create(e){return new jx(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}}const wie=Vx.compute([Py],t=>{let e=t.facet(Py).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:jx.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Sie{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let r=this.view.coordsAtPos(n);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(a=>a.from<=n&&a.to>=n),s=i&&i.dir==yt.RTL?-1:1,o=this.source(this.view,n,e.x<r.left?-s:s);if(o!=null&&o.then){let a=this.pending={pos:n};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>Nr(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!gR(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!bie(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!gR(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function gR(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function bie(t,e,n,r,i,s){let o=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let u=o.getClientRects();o.detach();for(let c=0;c<u.length;c++){let h=u[c];if(Math.max(h.top-i,i-h.bottom,h.left-r,r-h.right)<=s)return!0}return!1}function Eie(t,e={}){let n=Oe.define(),r=Zt.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let o=s.changes.mapPos(i.pos,-1,Kn.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),i);a.pos=o,i.end!=null&&(a.end=s.changes.mapPos(i.end)),i=a}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(Oie)&&(i=null);return i},provide:i=>Py.from(i)});return[r,Dt.define(i=>new Sie(i,t,r,n,e.hoverTime||300)),wie]}function AB(t,e){let n=t.plugin(IB);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Oie=Oe.define(),yR=he.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Jf(t,e){let n=t.plugin(NB),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const NB=Dt.fromClass(class{constructor(t){this.input=t.state.facet(Zf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(yR);this.top=new nm(t,!0,e.topContainer),this.bottom=new nm(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(yR);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new nm(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new nm(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Zf);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>se.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class nm{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=vR(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=vR(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function vR(t){let e=t.nextSibling;return t.remove(),e}const Zf=he.define({enables:NB});class Xs extends dl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xs.prototype.elementClass="";Xs.prototype.toDOM=void 0;Xs.prototype.mapMode=Kn.TrackBefore;Xs.prototype.startSide=Xs.prototype.endSide=-1;Xs.prototype.point=!0;const Zm=he.define(),Tie={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ye.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},of=he.define();function kie(t){return[RB(),of.of(Object.assign(Object.assign({},Tie),t))]}const tO=he.define({combine:t=>t.some(e=>e)});function RB(t){let e=[xie];return t&&t.fixed===!1&&e.push(tO.of(!0)),e}const xie=Dt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(of).map(e=>new SR(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(tO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(tO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Ye.iter(this.view.state.facet(Zm),this.view.viewport.from),r=[],i=this.gutters.map(s=>new _ie(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==kt.Text&&o){nO(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==kt.Text){nO(n,r,s.from);for(let o of i)o.line(this.view,s,r)}for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(of),n=t.state.facet(of),r=t.docChanged||t.heightChanged||t.viewportChanged||!Ye.eq(t.startState.facet(Zm),t.state.facet(Zm),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new SR(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>se.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==yt.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function wR(t){return Array.isArray(t)?t:[t]}function nO(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class _ie{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ye.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=n.top-this.height;if(this.i==i.elements.length){let o=new PB(e,n.height,s,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,n.height,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];nO(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class SR{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=wR(n.markers(e)),n.initialSpacer&&(this.spacer=new PB(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=wR(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ye.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class PB{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Cie(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Cie(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Iie=he.define(),mu=he.define({combine(t){return fs(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class H1 extends Xs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function W1(t,e){return t.state.facet(mu).formatNumber(e,t.state)}const Aie=of.compute([mu],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Iie)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new H1(W1(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(mu)!=e.state.facet(mu),initialSpacer(e){return new H1(W1(e,bR(e.state.doc.lines)))},updateSpacer(e,n){let r=W1(n.view,bR(n.view.state.doc.lines));return r==e.number?e:new H1(r)},domEventHandlers:t.facet(mu).domEventHandlers}));function Nie(t={}){return[mu.of(t),RB(),Aie]}function bR(t){let e=9;for(;e<t;)e=e*10+9;return e}const Rie=new class extends Xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Pie=Zm.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Rie.range(i)))}return Ye.of(e)});function Die(){return Pie}const DB=1024;let Lie=0,G1=class{constructor(e,n){this.from=e,this.to=n}};class _e{constructor(e={}){this.id=Lie++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}_e.closedBy=new _e({deserialize:t=>t.split(" ")});_e.openedBy=new _e({deserialize:t=>t.split(" ")});_e.group=new _e({deserialize:t=>t.split(" ")});_e.contextHash=new _e({perNode:!0});_e.lookAhead=new _e({perNode:!0});_e.mounted=new _e({perNode:!0});const Mie=Object.create(null);class gr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Mie,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new gr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(_e.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(_e.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}gr.none=new gr("",Object.create(null),0,8);class Bx{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new gr(r.name,i,r.id,r.flags):r)}return new Bx(n)}}const rm=new WeakMap,ER=new WeakMap;var vn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(vn||(vn={}));class Qt{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(_e.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new My(this.topNode,e)}cursorAt(e,n=0,r=0){let i=rm.get(this)||this.topNode,s=new My(i);return s.moveTo(e,n),rm.set(this,s._tree),s}get topNode(){return new Ps(this,0,0,null)}resolve(e,n=0){let r=wc(rm.get(this)||this.topNode,e,n,!1);return rm.set(this,r),r}resolveInner(e,n=0){let r=wc(ER.get(this)||this.topNode,e,n,!0);return ER.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|vn.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=i&&(o.type.isAnonymous||n(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:qx(gr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Qt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Qt(gr.none,n,r,i)))}static build(e){return $ie(e)}}Qt.empty=new Qt(gr.none,[],[],0);class Qx{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Qx(this.buffer,this.index)}}class Dl{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return gr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(LB(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Dl(s,o,this.set)}}function LB(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function MB(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function wc(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Ps&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:vn.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Ps&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class Ps{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],h=l[e]+o.from;if(LB(i,r,h,h+c.length)){if(c instanceof Dl){if(s&vn.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,n,r-h,i);if(f>-1)return new Io(new Fie(o,c,e,h),null,f)}else if(s&vn.IncludeAnonymous||!c.type.isAnonymous||Yx(c)){let f;if(!(s&vn.IgnoreMounts)&&c.props&&(f=c.prop(_e.mounted))&&!f.overlay)return new Ps(f.tree,h,e,o);let d=new Ps(c,h,e,o);return s&vn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&vn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&vn.IgnoreOverlays)&&(i=this._tree.prop(_e.mounted))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Ps(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new My(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return wc(this,e,n,!1)}resolveInner(e,n=0){return wc(this,e,n,!0)}enterUnfinishedNodesBefore(e){return MB(this,e)}getChild(e,n=null,r=null){let i=Dy(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Dy(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Ly(this,e)}}function Dy(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Ly(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Fie{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Io{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Io(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&vn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Io(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Io(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Io(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new My(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Qt(this.type,e,n,this.to-this.from)}resolve(e,n=0){return wc(this,e,n,!1)}resolveInner(e,n=0){return wc(this,e,n,!0)}enterUnfinishedNodesBefore(e){return MB(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=Dy(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Dy(this,e,n,r)}get node(){return this}matchContext(e){return Ly(this,e)}}class My{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ps)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ps?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&vn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&vn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&vn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&vn.IncludeAnonymous||a instanceof Dl||!a.type.isAnonymous||Yx(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Io(this.buffer,n,this.stack[i]);return this.bufferNode=new Io(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Ly(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Ly(this.node,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function Yx(t){return t.children.some(e=>e instanceof Dl||!e.type.isAnonymous||Yx(e))}function $ie(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=DB,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new Qx(n,n.length):n,l=r.types,u=0,c=0;function h(S,b,k,_,R){let{id:T,start:C,end:B,size:G}=a,J=c;for(;G<0;)if(a.next(),G==-1){let M=s[T];k.push(M),_.push(C-S);return}else if(G==-3){u=T;return}else if(G==-4){c=T;return}else throw new RangeError(`Unrecognized record size: ${G}`);let I=l[T],D,Y,ne=C-S;if(B-C<=i&&(Y=g(a.pos-b,R))){let M=new Uint16Array(Y.size-Y.skip),V=a.pos-Y.size,ee=M.length;for(;a.pos>V;)ee=v(Y.start,M,ee);D=new Dl(M,B-Y.start,r),ne=Y.start-S}else{let M=a.pos-G;a.next();let V=[],ee=[],Se=T>=o?T:-1,Pe=0,yr=B;for(;a.pos>M;)Se>=0&&a.id==Se&&a.size>=0?(a.end<=yr-i&&(d(V,ee,C,Pe,a.end,yr,Se,J),Pe=V.length,yr=a.end),a.next()):h(C,M,V,ee,Se);if(Se>=0&&Pe>0&&Pe<V.length&&d(V,ee,C,Pe,C,yr,Se,J),V.reverse(),ee.reverse(),Se>-1&&Pe>0){let en=f(I);D=qx(I,V,ee,0,V.length,0,B-C,en,en)}else D=p(I,V,ee,B-C,J-B)}k.push(D),_.push(ne)}function f(S){return(b,k,_)=>{let R=0,T=b.length-1,C,B;if(T>=0&&(C=b[T])instanceof Qt){if(!T&&C.type==S&&C.length==_)return C;(B=C.prop(_e.lookAhead))&&(R=k[T]+C.length+B)}return p(S,b,k,_,R)}}function d(S,b,k,_,R,T,C,B){let G=[],J=[];for(;S.length>_;)G.push(S.pop()),J.push(b.pop()+k-R);S.push(p(r.types[C],G,J,T-R,B-T)),b.push(R-k)}function p(S,b,k,_,R=0,T){if(u){let C=[_e.contextHash,u];T=T?[C].concat(T):[C]}if(R>25){let C=[_e.lookAhead,R];T=T?[C].concat(T):[C]}return new Qt(S,b,k,_,T)}function g(S,b){let k=a.fork(),_=0,R=0,T=0,C=k.end-i,B={size:0,start:0,skip:0};e:for(let G=k.pos-S;k.pos>G;){let J=k.size;if(k.id==b&&J>=0){B.size=_,B.start=R,B.skip=T,T+=4,_+=4,k.next();continue}let I=k.pos-J;if(J<0||I<G||k.start<C)break;let D=k.id>=o?4:0,Y=k.start;for(k.next();k.pos>I;){if(k.size<0)if(k.size==-3)D+=4;else break e;else k.id>=o&&(D+=4);k.next()}R=Y,_+=J,T+=D}return(b<0||_==S)&&(B.size=_,B.start=R,B.skip=T),B.size>4?B:void 0}function v(S,b,k){let{id:_,start:R,end:T,size:C}=a;if(a.next(),C>=0&&_<o){let B=k;if(C>4){let G=a.pos-(C-4);for(;a.pos>G;)k=v(S,b,k)}b[--k]=B,b[--k]=T-S,b[--k]=R-S,b[--k]=_}else C==-3?u=_:C==-4&&(c=_);return k}let m=[],y=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,m,y,-1);let w=(e=t.length)!==null&&e!==void 0?e:m.length?y[0]+m[0].length:0;return new Qt(l[t.topID],m.reverse(),y.reverse(),w)}const OR=new WeakMap;function eg(t,e){if(!t.isAnonymous||e instanceof Dl||e.type!=t)return 1;let n=OR.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Qt)){n=1;break}n+=eg(t,r)}OR.set(e,n)}return n}function qx(t,e,n,r,i,s,o,a,l){let u=0;for(let p=r;p<i;p++)u+=eg(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,g,v,m,y){for(let w=v;w<m;){let S=w,b=g[w],k=eg(t,p[w]);for(w++;w<m;w++){let _=eg(t,p[w]);if(k+_>=c)break;k+=_}if(w==S+1){if(k>c){let _=p[S];d(_.children,_.positions,0,_.children.length,g[S]+y);continue}h.push(p[S])}else{let _=g[w-1]+p[w-1].length-b;h.push(qx(t,p,g,S,w,b,_,null,l))}f.push(b+y-s)}}return d(e,n,r,i,0),(a||l)(h,f,o)}class Xa{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Xa(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,h=c?c.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||u){let d=Math.max(f.from,l)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new Xa(d,p,f.tree,f.offset+u,a>0,!!c)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let FB=class{startParse(e,n,r){return typeof e=="string"&&(e=new Uie(e)),r=r?r.length?r.map(i=>new G1(i.from,i.to)):[new G1(0,0)]:[new G1(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class Uie{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new _e({perNode:!0});let Vie=0;class Qi{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=Vie++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Qi([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new Fy;return n=>n.modified.indexOf(e)>-1?n:Fy.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let jie=0;class Fy{constructor(){this.instances=[],this.id=jie++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Bie(n,a.modified));if(r)return r;let i=[],s=new Qi(i,e,n);for(let a of n)a.instances.push(s);let o=Qie(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Fy.get(a,l));return s}}function Bie(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Qie(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function zx(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new $y(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return $B.add(e)}const $B=new _e;class $y{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}$y.empty=new $y([],2,null);function UB(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function Yie(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function qie(t,e,n,r=0,i=t.length){let s=new zie(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class zie{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=i,c=Hie(e)||$y.empty,h=Yie(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(e.from,u),c.opaque)return;let f=e.tree&&e.tree.prop(_e.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),g=e.firstChild();for(let v=0,m=a;;v++){let y=v<f.overlay.length?f.overlay[v]:null,w=y?y.from+a:l,S=Math.max(n,m),b=Math.min(r,w);if(S<b&&g)for(;e.from<b&&(this.highlightRange(e,S,b,i,s),this.startSpan(Math.min(b,e.to),u),!(e.to>=w||!e.nextSibling())););if(!y||w>r)break;m=y.to+a,m>n&&(this.highlightRange(d.cursor(),Math.max(n,y.from+a),Math.min(r,m),i,p),this.startSpan(m,u))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Hie(t){let e=t.type.prop($B);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Z=Qi.define,im=Z(),uo=Z(),TR=Z(uo),kR=Z(uo),co=Z(),sm=Z(co),X1=Z(co),ji=Z(),wa=Z(ji),Fi=Z(),$i=Z(),rO=Z(),dh=Z(rO),om=Z(),A={comment:im,lineComment:Z(im),blockComment:Z(im),docComment:Z(im),name:uo,variableName:Z(uo),typeName:TR,tagName:Z(TR),propertyName:kR,attributeName:Z(kR),className:Z(uo),labelName:Z(uo),namespace:Z(uo),macroName:Z(uo),literal:co,string:sm,docString:Z(sm),character:Z(sm),attributeValue:Z(sm),number:X1,integer:Z(X1),float:Z(X1),bool:Z(co),regexp:Z(co),escape:Z(co),color:Z(co),url:Z(co),keyword:Fi,self:Z(Fi),null:Z(Fi),atom:Z(Fi),unit:Z(Fi),modifier:Z(Fi),operatorKeyword:Z(Fi),controlKeyword:Z(Fi),definitionKeyword:Z(Fi),moduleKeyword:Z(Fi),operator:$i,derefOperator:Z($i),arithmeticOperator:Z($i),logicOperator:Z($i),bitwiseOperator:Z($i),compareOperator:Z($i),updateOperator:Z($i),definitionOperator:Z($i),typeOperator:Z($i),controlOperator:Z($i),punctuation:rO,separator:Z(rO),bracket:dh,angleBracket:Z(dh),squareBracket:Z(dh),paren:Z(dh),brace:Z(dh),content:ji,heading:wa,heading1:Z(wa),heading2:Z(wa),heading3:Z(wa),heading4:Z(wa),heading5:Z(wa),heading6:Z(wa),contentSeparator:Z(ji),list:Z(ji),quote:Z(ji),emphasis:Z(ji),strong:Z(ji),link:Z(ji),monospace:Z(ji),strikethrough:Z(ji),inserted:Z(),deleted:Z(),changed:Z(),invalid:Z(),meta:om,documentMeta:Z(om),annotation:Z(om),processingInstruction:Z(om),definition:Qi.defineModifier(),constant:Qi.defineModifier(),function:Qi.defineModifier(),standard:Qi.defineModifier(),local:Qi.defineModifier(),special:Qi.defineModifier()};UB([{tag:A.link,class:"tok-link"},{tag:A.heading,class:"tok-heading"},{tag:A.emphasis,class:"tok-emphasis"},{tag:A.strong,class:"tok-strong"},{tag:A.keyword,class:"tok-keyword"},{tag:A.atom,class:"tok-atom"},{tag:A.bool,class:"tok-bool"},{tag:A.url,class:"tok-url"},{tag:A.labelName,class:"tok-labelName"},{tag:A.inserted,class:"tok-inserted"},{tag:A.deleted,class:"tok-deleted"},{tag:A.literal,class:"tok-literal"},{tag:A.string,class:"tok-string"},{tag:A.number,class:"tok-number"},{tag:[A.regexp,A.escape,A.special(A.string)],class:"tok-string2"},{tag:A.variableName,class:"tok-variableName"},{tag:A.local(A.variableName),class:"tok-variableName tok-local"},{tag:A.definition(A.variableName),class:"tok-variableName tok-definition"},{tag:A.special(A.variableName),class:"tok-variableName2"},{tag:A.definition(A.propertyName),class:"tok-propertyName tok-definition"},{tag:A.typeName,class:"tok-typeName"},{tag:A.namespace,class:"tok-namespace"},{tag:A.className,class:"tok-className"},{tag:A.macroName,class:"tok-macroName"},{tag:A.propertyName,class:"tok-propertyName"},{tag:A.operator,class:"tok-operator"},{tag:A.comment,class:"tok-comment"},{tag:A.meta,class:"tok-meta"},{tag:A.invalid,class:"tok-invalid"},{tag:A.punctuation,class:"tok-punctuation"}]);var K1;const gu=new _e;function Wie(t){return he.define({combine:t?e=>e.concat(t):void 0})}const Gie=new _e;class Ei{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return zn(this)}}),this.parser=n,this.extension=[oa.of(this),Ne.languageData.of((s,o,a)=>{let l=xR(s,o,a),u=l.type.prop(gu);if(!u)return[];let c=s.facet(u),h=l.type.prop(Gie);if(h){let f=l.resolve(o-l.from,a);for(let d of h)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return xR(e,n,r).type.prop(gu)==this.data}findRegions(e){let n=e.facet(oa);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(gu)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(_e.mounted);if(a){if(a.tree.prop(gu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Qt&&i(u,s.positions[l]+o)}};return i(zn(e),0),r}get allowsNesting(){return!0}}Ei.setState=Oe.define();function xR(t,e,n){let r=t.facet(oa),i=zn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,vn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class ed extends Ei{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=Wie(e.languageData);return new ed(n,e.parser.configure({props:[gu.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new ed(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function zn(t){let e=t.field(Ei.state,!1);return e?e.tree:Qt.empty}class Xie{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let ph=null;class Uy{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Uy(e,n,[],Qt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Xie(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Qt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Xa.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Xa.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ph;ph=this;try{return e()}finally{ph=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=_R(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,f)=>l.push({fromA:u,toA:c,fromB:h,toB:f})),r=Xa.applyChanges(r,l),i=Qt.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new Uy(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=_R(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends FB{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=ph;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Qt(gr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ph}}function _R(t,e,n){return Xa.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Sc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Sc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Uy.create(e.facet(oa).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Sc(r)}}Ei.state=Zt.define({create:Sc.init,update(t,e){for(let n of e.effects)if(n.is(Ei.setState))return n.value;return e.startState.facet(oa)!=e.state.facet(oa)?Sc.init(e.state):t.apply(e)}});let VB=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(VB=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const J1=typeof navigator<"u"&&(!((K1=navigator.scheduling)===null||K1===void 0)&&K1.isInputPending)?()=>navigator.scheduling.isInputPending():null,Kie=Dt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Ei.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Ei.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=VB(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ei.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!J1?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>J1&&J1()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ei.setState.of(new Sc(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Nr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),oa=he.define({combine(t){return t.length?t[0]:null},enables:t=>[Ei.state,Kie,se.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Jie{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const Zie=he.define(),q0=he.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Vy(t){let e=t.facet(q0);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function td(t,e){let n="",r=t.tabSize,i=t.facet(q0)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function Hx(t,e){t instanceof Ne&&(t=new z0(t));for(let r of t.state.facet(Zie)){let i=r(t,e);if(i!==void 0)return i}let n=zn(t.state);return n?ese(t,n,e):null}class z0{constructor(e,n={}){this.state=e,this.options=n,this.unit=Vy(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Kd(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Wx=new _e;function ese(t,e,n){return jB(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function tse(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function nse(t){let e=t.type.prop(Wx);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(_e.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>BB(o,!0,1,void 0,s&&!tse(o)?i.from:void 0)}return t.parent==null?rse:null}function jB(t,e,n){for(;t;t=t.parent){let r=nse(t);if(r)return r(Gx.create(n,e,t))}return null}function rse(){return 0}class Gx extends z0{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new Gx(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(ise(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?jB(e,this.pos,this.base):0}}function ise(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function sse(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function ose({closing:t,align:e=!0,units:n=1}){return r=>BB(r,e,n,t)}function BB(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?sse(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function CR({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ase=200;function lse(){return Ne.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+ase)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let h=Hx(o,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=td(o,h);f!=d&&l.push({from:c.from,to:c.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const use=he.define(),Xx=new _e;function QB(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function cse(t,e,n){let r=zn(t);if(r.length<n)return null;let i=r.resolveInner(n,1),s=null;for(let o=i;o;o=o.parent){if(o.to<=n||o.from>n)continue;if(s&&o.from<e)break;let a=o.type.prop(Xx);if(a&&(o.to<r.length-50||r.length==t.doc.length||!hse(o))){let l=a(o,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(s=l)}}return s}function hse(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function jy(t,e,n){for(let r of t.facet(use)){let i=r(t,e,n);if(i)return i}return cse(t,e,n)}function YB(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const H0=Oe.define({map:YB}),ep=Oe.define({map:YB});function qB(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const gl=Zt.define({create(){return pe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(H0)&&!fse(t,n.value.from,n.value.to)?t=t.update({add:[IR.range(n.value.from,n.value.to)]}):n.is(ep)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>se.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(IR.range(r,i))}return pe.set(e,!0)}});function By(t,e,n){var r;let i=null;return(r=t.field(gl,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function fse(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function zB(t,e){return t.field(gl,!1)?e:e.concat(Oe.appendConfig.of(GB()))}const dse=t=>{for(let e of qB(t)){let n=jy(t.state,e.from,e.to);if(n)return t.dispatch({effects:zB(t.state,[H0.of(n),HB(t,n)])}),!0}return!1},pse=t=>{if(!t.state.field(gl,!1))return!1;let e=[];for(let n of qB(t)){let r=By(t.state,n.from,n.to);r&&e.push(ep.of(r),HB(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function HB(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return se.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const mse=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=jy(e,i.from,i.to);s&&n.push(H0.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:zB(t.state,n)}),!!n.length},gse=t=>{let e=t.state.field(gl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(ep.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},yse=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:dse},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:pse},{key:"Ctrl-Alt-[",run:mse},{key:"Ctrl-Alt-]",run:gse}],vse={placeholderDOM:null,placeholderText:""},WB=he.define({combine(t){return fs(t,vse)}});function GB(t){let e=[gl,bse];return t&&e.push(WB.of(t)),e}const IR=pe.replace({widget:new class extends to{toDOM(t){let{state:e}=t,n=e.facet(WB),r=s=>{let o=t.lineBlockAt(t.posAtDOM(s.target)),a=By(t.state,o.from,o.to);a&&t.dispatch({effects:ep.of(a)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),wse={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Z1 extends Xs{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Sse(t={}){let e=Object.assign(Object.assign({},wse),t),n=new Z1(e,!0),r=new Z1(e,!1),i=Dt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(oa)!=o.state.facet(oa)||o.startState.field(gl,!1)!=o.state.field(gl,!1)||zn(o.startState)!=zn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new na;for(let l of o.viewportLineBlocks){let u=By(o.state,l.from,l.to)?r:jy(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,kie({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Ye.empty},initialSpacer(){return new Z1(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=By(o.state,a.from,a.to);if(u)return o.dispatch({effects:ep.of(u)}),!0;let c=jy(o.state,a.from,a.to);return c?(o.dispatch({effects:H0.of(c)}),!0):!1}})}),GB()]}const bse=se.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class qc{constructor(e,n){this.specs=e;let r;function i(a){let l=ra.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Ei?a=>a.prop(gu)==o.data:o?a=>a==o:void 0,this.style=UB(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new ra(r):null,this.themeType=n.themeType}static define(e,n){return new qc(e,n||{})}}const iO=he.define(),XB=he.define({combine(t){return t.length?[t[0]]:null}});function eS(t){let e=t.facet(iO);return e.length?e:t.facet(XB)}function Kx(t,e){let n=[Ose],r;return t instanceof qc&&(t.module&&n.push(se.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(XB.of(t)):r?n.push(iO.computeN([se.darkTheme],i=>i.facet(se.darkTheme)==(r=="dark")?[t]:[])):n.push(iO.of(t)),n}class Ese{constructor(e){this.markCache=Object.create(null),this.tree=zn(e.state),this.decorations=this.buildDeco(e,eS(e.state))}update(e){let n=zn(e.state),r=eS(e.state),i=r!=eS(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return pe.none;let r=new na;for(let{from:i,to:s}of e.visibleRanges)qie(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=pe.mark({class:l})))},i,s);return r.finish()}}const Ose=ga.high(Dt.fromClass(Ese,{decorations:t=>t.decorations})),Tse=qc.define([{tag:A.meta,color:"#404740"},{tag:A.link,textDecoration:"underline"},{tag:A.heading,textDecoration:"underline",fontWeight:"bold"},{tag:A.emphasis,fontStyle:"italic"},{tag:A.strong,fontWeight:"bold"},{tag:A.strikethrough,textDecoration:"line-through"},{tag:A.keyword,color:"#708"},{tag:[A.atom,A.bool,A.url,A.contentSeparator,A.labelName],color:"#219"},{tag:[A.literal,A.inserted],color:"#164"},{tag:[A.string,A.deleted],color:"#a11"},{tag:[A.regexp,A.escape,A.special(A.string)],color:"#e40"},{tag:A.definition(A.variableName),color:"#00f"},{tag:A.local(A.variableName),color:"#30a"},{tag:[A.typeName,A.namespace],color:"#085"},{tag:A.className,color:"#167"},{tag:[A.special(A.variableName),A.macroName],color:"#256"},{tag:A.definition(A.propertyName),color:"#00c"},{tag:A.comment,color:"#940"},{tag:A.invalid,color:"#f00"}]),kse=se.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),KB=1e4,JB="()[]{}",ZB=he.define({combine(t){return fs(t,{afterCursor:!0,brackets:JB,maxScanDistance:KB,renderMatch:Cse})}}),xse=pe.mark({class:"cm-matchingBracket"}),_se=pe.mark({class:"cm-nonmatchingBracket"});function Cse(t){let e=[],n=t.matched?xse:_se;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Ise=Zt.define({create(){return pe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(ZB);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Gi(e.state,i.head,-1,r)||i.head>0&&Gi(e.state,i.head-1,1,r)||r.afterCursor&&(Gi(e.state,i.head,1,r)||i.head<e.state.doc.length&&Gi(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return pe.set(n,!0)},provide:t=>se.decorations.from(t)}),Ase=[Ise,kse];function Nse(t={}){return[ZB.of(t),Ase]}const Rse=new _e;function sO(t,e,n){let r=t.prop(e<0?_e.openedBy:_e.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function oO(t){let e=t.type.prop(Rse);return e?e(t.node):t}function Gi(t,e,n,r={}){let i=r.maxScanDistance||KB,s=r.brackets||JB,o=zn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=sO(l.type,n,s);if(u&&l.from<l.to){let c=oO(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Pse(t,e,n,l,c,u,s)}}return Dse(t,e,n,o,a.type,i,s)}function Pse(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a==null?void 0:a.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=oO(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(sO(c.type,n,o))u++;else if(sO(c.type,-n,o)){if(u==0){let h=oO(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Dse(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=s;){let d=c.value;n<0&&(f+=d.length);let p=e+f*n;for(let g=n>0?0:d.length-1,v=n>0?d.length:-1;g!=v;g+=n){let m=o.indexOf(d[g]);if(!(m<0||r.resolveInner(p+g,1).type!=i))if(m%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:p+g,to:p+g+1},matched:m>>1==l>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}const Lse=Object.create(null),AR=[gr.none],NR=[],Mse=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Mse[t]=Fse(Lse,e);function tS(t,e){NR.indexOf(t)>-1||(NR.push(t),console.warn(e))}function Fse(t,e){let n=null;for(let s of e.split(".")){let o=t[s]||A[s];o?typeof o=="function"?n?n=o(n):tS(s,`Modifier ${s} used at start of tag`):n?tS(s,`Tag ${s} used as modifier`):n=o:tS(s,`Unknown highlighting tag ${s}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=gr.define({id:AR.length,name:r,props:[zx({[r]:n})]});return AR.push(i),i.id}class eQ{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=zn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(tQ(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function RR(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function $se(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=RR(e)+RR(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Use(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:$se(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}class PR{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function zo(t){return t.selection.main.from}function tQ(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Vse=hs.define();function jse(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:e},range:U.cursor(a.from+s+e.length)})),{userEvent:"input.complete"})}const DR=new WeakMap;function Bse(t){if(!Array.isArray(t))return t;let e=DR.get(t);return e||DR.set(t,e=Use(t)),e}const Jx=Oe.define(),nd=Oe.define();class Qse{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let r=gn(e,n),i=Hr(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(gn(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let y=gn(e,0),w=Hr(y),S=w==e.length?0:-100;if(y!=n[0])if(y==r[0])S+=-200;else return null;return[S,0,w]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,u=0;if(a<0){for(let y=0,w=Math.min(e.length,200);y<w&&u<l;){let S=gn(e,y);(S==n[u]||S==r[u])&&(i[u++]=y),y+=Hr(S)}if(u<l)return null}let c=0,h=0,f=!1,d=0,p=-1,g=-1,v=/[a-z]/.test(e),m=!0;for(let y=0,w=Math.min(e.length,200),S=0;y<w&&h<l;){let b=gn(e,y);a<0&&(c<l&&b==n[c]&&(s[c++]=y),d<l&&(b==n[d]||b==r[d]?(d==0&&(p=y),g=y+1,d++):d=0));let k,_=b<255?b>=48&&b<=57||b>=97&&b<=122?2:b>=65&&b<=90?1:0:(k=Ax(b))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!y||_==1&&v||S==0&&_!=0)&&(n[h]==b||r[h]==b&&(f=!0)?o[h++]=y:o.length&&(m=!1)),S=_,y+=Hr(b)}return h==l&&o[0]==0&&m?this.result(-100+(f?-200:0),o,e):d==l&&p==0?[-200-e.length+(g==e.length?0:-100),0,g]:a>-1?[-700-e.length,a,a+this.pattern.length]:d==l?[-200+-700-e.length,p,g]:h==l?this.result(-100+(f?-200:0)+-700+(m?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[e-r.length],s=1;for(let o of n){let a=o+(this.astral?Hr(gn(r,o)):1);s>1&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return i}}const hr=he.define({combine(t){return fs(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Yse,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>LR(e(r),n(r)),optionClass:(e,n)=>r=>LR(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function LR(t,e){return t?e?t+" "+e:t:e}function Yse(t,e,n,r,i){let s=t.textDirection==yt.RTL,o=s,a=!1,l="top",u,c,h=e.left-i.left,f=i.right-e.right,d=r.right-r.left,p=r.bottom-r.top;if(o&&h<Math.min(d,f)?o=!1:!o&&f<Math.min(d,h)&&(o=!0),d<=(o?h:f))u=Math.max(i.top,Math.min(n.top,i.bottom-p))-e.top,c=Math.min(400,o?h:f);else{a=!0,c=Math.min(400,(s?e.right:i.right-e.left)-30);let g=i.bottom-e.bottom;g>=p||g>e.top?u=n.bottom-e.top:(l="bottom",u=e.bottom-n.top)}return{style:`${l}: ${u}px; max-width: ${c}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":o?"left":"right")}}function am(t,e="option"){return n=>{let r=n.state.field(Tr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(hr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=AB(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:sQ.of(a)}),!0}}const nQ=t=>{let e=t.state.field(Tr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(hr).interactionDelay?!1:e.open.disabled?!0:rQ(t,e.open.options[e.open.selected])},qse=t=>t.state.field(Tr,!1)?(t.dispatch({effects:Jx.of(!0)}),!0):!1,zse=t=>{let e=t.state.field(Tr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:nd.of(null)}),!0)};class Hse{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MR=50,Wse=50,Gse=1e3,Xse=Dt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Tr).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Tr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Tr)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!aO(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>Wse&&Date.now()-i.time>Gse){for(let s of i.context.abortListeners)try{s()}catch(o){Nr(this.view.state,o)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),MR):-1,this.composing!=0)for(let r of t.transactions)aO(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Tr);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=zo(e),r=new eQ(e,n,t.explicitPos==n),i=new Hse(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:nd.of(null)}),Nr(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),MR))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(hr);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=new Vu(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:zo(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Tr).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new lr(i.active.source,0);for(let a of i.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:iQ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Tr,!1);if(e&&e.tooltip&&this.view.state.facet(hr).closeOnBlur){let n=e.open&&AB(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:nd.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Jx.of(!1)}),20),this.composing=0}}});function rQ(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Tr).active.find(i=>i.source==e.source);return r instanceof Vu?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},jse(t.state,n,r.from,r.to)),{annotations:Vse.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}function Kse(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=n,a=0;for(let l=1;l<i.length;){let u=i[l++],c=i[l++];u>a&&s.appendChild(document.createTextNode(o.slice(a,u)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(o.slice(u,c))),h.className="cm-completionMatchedText",a=c}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function FR(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Jse{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:i,selected:s}=r.open,o=e.state.facet(hr);this.optionContent=Kse(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=FR(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let l=a.target,u;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(u=/-(\d+)$/.exec(l.id))&&+u[1]<i.length){rQ(e,i[+u[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let l=e.state.field(this.stateField,!1);l&&l.tooltip&&e.state.facet(hr).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:nd.of(null)})}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var n,r,i;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((n=s.open)===null||n===void 0?void 0:n.disabled)!=((r=o.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=FR(n.options.length,n.selected,this.view.state.facet(hr).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>Nr(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&eoe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(hr).positionInfo(this.view,n,i,r,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let f of this.optionContent){let d=f(a,this.view.state,l);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function Zse(t){return e=>new Jse(e,t)}function eoe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}function $R(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function toe(t,e){let n=[],r=null,i=l=>{n.push(l);let{section:u}=l.completion;if(u){r||(r=[]);let c=typeof u=="string"?u:u.name;r.some(h=>h.name==c)||r.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult())if(l.result.filter===!1){let u=l.result.getMatch;for(let c of l.result.options){let h=[1e9-n.length];if(u)for(let f of u(c))h.push(f);i(new PR(c,l.source,h,h[0]))}}else{let u=new Qse(e.sliceDoc(l.from,l.to)),c;for(let h of l.result.options)(c=u.match(h.label))&&i(new PR(h,l.source,c,c[0]+(h.boost||0)))}if(r){let l=Object.create(null),u=0,c=(h,f)=>{var d,p;return((d=h.rank)!==null&&d!==void 0?d:1e9)-((p=f.rank)!==null&&p!==void 0?p:1e9)||(h.name<f.name?-1:1)};for(let h of r.sort(c))u-=1e5,l[h.name]=u;for(let h of n){let{section:f}=h.completion;f&&(h.score+=l[typeof f=="string"?f:f.name])}}let s=[],o=null,a=e.facet(hr).compareCompletions;for(let l of n.sort((u,c)=>c.score-u.score||a(u.completion,c.completion)))!o||o.label!=l.completion.label||o.detail!=l.completion.detail||o.type!=null&&l.completion.type!=null&&o.type!=l.completion.type||o.apply!=l.completion.apply?s.push(l):$R(l.completion)>$R(o)&&(s[s.length-1]=l),o=l.completion;return s}class yu{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new yu(this.options,UR(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let o=toe(e,n);if(!o.length)return i&&e.some(l=>l.state==1)?new yu(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(hr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new yu(o,UR(r,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:Zse(Tr),above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new yu(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Qy{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Qy(ioe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(hr),s=(r.override||n.languageDataAt("autocomplete",zo(n)).map(Bse)).map(a=>(this.active.find(u=>u.source==a)||new lr(a,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!noe(s,this.active)?o=yu.build(s,n,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new lr(a.source,0):a));for(let a of e.effects)a.is(sQ)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Qy(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:roe}}function noe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const roe={"aria-autocomplete":"list"};function UR(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const ioe=[];function aO(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class lr{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=aO(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new lr(i.source,0));for(let s of e.effects)if(s.is(Jx))i=new lr(i.source,1,s.value?zo(e.state):-1);else if(s.is(nd))i=new lr(i.source,0);else if(s.is(iQ))for(let o of s.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new lr(this.source,1)}handleChange(e){return e.changes.touchesRange(zo(e.startState))?new lr(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new lr(this.source,this.state,e.mapPos(this.explicitPos))}}class Vu extends lr{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,n,r){var i;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=zo(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||n=="delete"&&zo(e.startState)==this.from)return new lr(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return soe(this.result.validFor,e.state,s,o)?new Vu(this.source,l,this.result,s,o):this.result.update&&(u=this.result.update(this.result,s,o,new eQ(e.state,a,l>=0)))?new Vu(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:zo(e.state)):new lr(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new lr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Vu(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function soe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):tQ(t,!0).test(i)}const iQ=Oe.define({map(t,e){return t.map(n=>n.map(e))}}),sQ=Oe.define(),Tr=Zt.define({create(){return Qy.start()},update(t,e){return t.update(e)},provide:t=>[Vx.from(t,e=>e.tooltip),se.contentAttributes.from(t,e=>e.attrs)]}),ooe=se.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),rd={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ja=Oe.define({map(t,e){let n=e.mapPos(t,-1,Kn.TrackAfter);return n??void 0}}),Zx=new class extends dl{};Zx.startSide=1;Zx.endSide=-1;const oQ=Zt.define({create(){return Ye.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Ye.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(ja)&&(t=t.update({add:[Zx.range(n.value,n.value+1)]}));return t}});function aoe(){return[uoe,oQ]}const nS="()[]{}<>";function aQ(t){for(let e=0;e<nS.length;e+=2)if(nS.charCodeAt(e)==t)return nS.charAt(e+1);return Ax(t<128?t:t+1)}function lQ(t,e){return t.languageDataAt("closeBrackets",e)[0]||rd}const loe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),uoe=se.inputHandler.of((t,e,n,r)=>{if((loe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Hr(gn(r,0))==1||e!=i.from||n!=i.to)return!1;let s=foe(t.state,r);return s?(t.dispatch(s),!0):!1}),coe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=lQ(t,t.selection.main.head).brackets||rd.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=doe(t.doc,o.head);for(let l of r)if(l==a&&W0(t.doc,o.head)==aQ(gn(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:U.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},hoe=[{key:"Backspace",run:coe}];function foe(t,e){let n=lQ(t,t.selection.main.head),r=n.brackets||rd.brackets;for(let i of r){let s=aQ(gn(i,0));if(e==i)return s==i?goe(t,i,r.indexOf(i+i+i)>-1,n):poe(t,i,s,n.before||rd.before);if(e==s&&uQ(t,t.selection.main.from))return moe(t,i,s)}return null}function uQ(t,e){let n=!1;return t.field(oQ).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function W0(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Hr(gn(n,0)))}function doe(t,e){let n=t.sliceString(e-2,e);return Hr(gn(n,0))==n.length?n:n.slice(1)}function poe(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:ja.of(o.to+e.length),range:U.range(o.anchor+e.length,o.head+e.length)};let a=W0(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:ja.of(o.head+e.length),range:U.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function moe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&W0(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:U.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function goe(t,e,n,r){let i=r.stringPrefixes||rd.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:ja.of(a.to+e.length),range:U.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=W0(t.doc,l),c;if(u==e){if(VR(t,l))return{changes:{insert:e+e,from:l},effects:ja.of(l+e.length),range:U.cursor(l+e.length)};if(uQ(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:U.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=jR(t,l-2*e.length,i))>-1&&VR(t,c))return{changes:{insert:e+e+e+e,from:l},effects:ja.of(l+e.length),range:U.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=dt.Word&&jR(t,l,i)>-1&&!yoe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:ja.of(l+e.length),range:U.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function VR(t,e){let n=zn(t).resolveInner(e+1);return n.parent&&n.from==e}function yoe(t,e,n,r){let i=zn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function jR(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=dt.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=dt.Word)return s}return-1}function e_(t={}){return[Tr,hr.of(t),Xse,voe,ooe]}const cQ=[{key:"Ctrl-Space",run:qse},{key:"Escape",run:zse},{key:"ArrowDown",run:am(!0)},{key:"ArrowUp",run:am(!1)},{key:"PageDown",run:am(!0,"page")},{key:"PageUp",run:am(!1,"page")},{key:"Enter",run:nQ}],voe=ga.highest(Yc.computeN([hr],t=>t.facet(hr).defaultKeymap?[cQ]:[]));function Ve(t,e){if(!!!t)throw new Error(e)}function Ks(t){return typeof t=="object"&&t!==null}function Rr(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const woe=/\r\n|[\n\r]/g;function lO(t,e){let n=0,r=1;for(const i of t.body.matchAll(woe)){if(typeof i.index=="number"||Rr(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function Soe(t){return hQ(t.source,lO(t.source,t.start))}function hQ(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,l=e.column+a,u=`${t.name}:${o}:${l}
`,c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){const f=Math.floor(l/80),d=l%80,p=[];for(let g=0;g<h.length;g+=80)p.push(h.slice(g,g+80));return u+BR([[`${o} |`,p[0]],...p.slice(1,f+1).map(g=>["|",g]),["|","^".padStart(d)],["|",p[f+1]]])}return u+BR([[`${o-1} |`,c[i-1]],[`${o} |`,h],["|","^".padStart(l)],[`${o+1} |`,c[i+1]]])}function BR(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function boe(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class q extends Error{constructor(e,...n){var r,i,s;const{nodes:o,source:a,positions:l,path:u,originalError:c,extensions:h}=boe(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=QR(Array.isArray(o)?o:o?[o]:void 0);const f=QR((r=this.nodes)===null||r===void 0?void 0:r.map(p=>p.loc).filter(p=>p!=null));this.source=a??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(p=>p.start)),this.locations=l&&a?l.map(p=>lO(a,p)):f==null?void 0:f.map(p=>lO(p.source,p.start));const d=Ks(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(s=h??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,q):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+Soe(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+hQ(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function QR(t){return t===void 0||t.length===0?void 0:t}function rn(t,e,n){return new q(`Syntax Error: ${n}`,{source:t,positions:[e]})}let Eoe=class{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}};class fQ{constructor(e,n,r,i,s,o){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const dQ={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ooe=new Set(Object.keys(dQ));function uO(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&Ooe.has(e)}var tr;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(tr||(tr={}));var re;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(re||(re={}));var O;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(O||(O={}));function cO(t){return t===9||t===32}function id(t){return t>=48&&t<=57}function pQ(t){return t>=97&&t<=122||t>=65&&t<=90}function t_(t){return pQ(t)||t===95}function mQ(t){return pQ(t)||id(t)||t===95}function Toe(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<t.length;++o){var s;const a=t[o],l=koe(a);l!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&l<n&&(n=l))}return t.map((o,a)=>a===0?o:o.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function koe(t){let e=0;for(;e<t.length&&cO(t.charCodeAt(e));)++e;return e}function xoe(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(d=>d.length===0||cO(d.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,l=t.endsWith("\\"),u=a||l,c=!(e!=null&&e.minimize)&&(!i||t.length>70||u||s||o);let h="";const f=i&&cO(t.charCodeAt(0));return(c&&!f||s)&&(h+=`
`),h+=n,(c||u)&&(h+=`
`),'"""'+h+'"""'}var $;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})($||($={}));class _oe{constructor(e){const n=new fQ($.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==$.EOF)do if(e.next)e=e.next;else{const n=Ioe(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===$.COMMENT);return e}}function Coe(t){return t===$.BANG||t===$.DOLLAR||t===$.AMP||t===$.PAREN_L||t===$.PAREN_R||t===$.SPREAD||t===$.COLON||t===$.EQUALS||t===$.AT||t===$.BRACKET_L||t===$.BRACKET_R||t===$.BRACE_L||t===$.PIPE||t===$.BRACE_R}function zc(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function G0(t,e){return gQ(t.charCodeAt(e))&&yQ(t.charCodeAt(e+1))}function gQ(t){return t>=55296&&t<=56319}function yQ(t){return t>=56320&&t<=57343}function yl(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return $.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Mt(t,e,n,r,i){const s=t.line,o=1+n-t.lineStart;return new fQ(e,n,r,s,o,i)}function Ioe(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return Aoe(t,i);case 33:return Mt(t,$.BANG,i,i+1);case 36:return Mt(t,$.DOLLAR,i,i+1);case 38:return Mt(t,$.AMP,i,i+1);case 40:return Mt(t,$.PAREN_L,i,i+1);case 41:return Mt(t,$.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Mt(t,$.SPREAD,i,i+3);break;case 58:return Mt(t,$.COLON,i,i+1);case 61:return Mt(t,$.EQUALS,i,i+1);case 64:return Mt(t,$.AT,i,i+1);case 91:return Mt(t,$.BRACKET_L,i,i+1);case 93:return Mt(t,$.BRACKET_R,i,i+1);case 123:return Mt(t,$.BRACE_L,i,i+1);case 124:return Mt(t,$.PIPE,i,i+1);case 125:return Mt(t,$.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?Moe(t,i):Roe(t,i)}if(id(s)||s===45)return Noe(t,i,s);if(t_(s))return Foe(t,i);throw rn(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:zc(s)||G0(n,i)?`Unexpected character: ${yl(t,i)}.`:`Invalid character: ${yl(t,i)}.`)}return Mt(t,$.EOF,r,r)}function Aoe(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(zc(s))++i;else if(G0(n,i))i+=2;else break}return Mt(t,$.COMMENT,e,i,n.slice(e+1,i))}function Noe(t,e,n){const r=t.source.body;let i=e,s=n,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),id(s))throw rn(t.source,i,`Invalid number, unexpected digit after 0: ${yl(t,i)}.`)}else i=rS(t,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=rS(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=rS(t,i,s),s=r.charCodeAt(i)),s===46||t_(s))throw rn(t.source,i,`Invalid number, expected digit but got: ${yl(t,i)}.`);return Mt(t,o?$.FLOAT:$.INT,e,i,r.slice(e,i))}function rS(t,e,n){if(!id(n))throw rn(t.source,e,`Invalid number, expected digit but got: ${yl(t,e)}.`);const r=t.source.body;let i=e+1;for(;id(r.charCodeAt(i));)++i;return i}function Roe(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,o="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return o+=n.slice(s,i),Mt(t,$.STRING,e,i+1,o);if(a===92){o+=n.slice(s,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?Poe(t,i):Doe(t,i):Loe(t,i);o+=l.value,i+=l.size,s=i;continue}if(a===10||a===13)break;if(zc(a))++i;else if(G0(n,i))i+=2;else throw rn(t.source,i,`Invalid character within String: ${yl(t,i)}.`)}throw rn(t.source,i,"Unterminated string.")}function Poe(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!zc(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Fh(s),r<0)break}throw rn(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function Doe(t,e){const n=t.source.body,r=YR(n,e+2);if(zc(r))return{value:String.fromCodePoint(r),size:6};if(gQ(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=YR(n,e+8);if(yQ(i))return{value:String.fromCodePoint(r,i),size:12}}throw rn(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function YR(t,e){return Fh(t.charCodeAt(e))<<12|Fh(t.charCodeAt(e+1))<<8|Fh(t.charCodeAt(e+2))<<4|Fh(t.charCodeAt(e+3))}function Fh(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Loe(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw rn(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function Moe(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,o=s,a="";const l=[];for(;s<r;){const u=n.charCodeAt(s);if(u===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(o,s),l.push(a);const c=Mt(t,$.BLOCK_STRING,e,s+3,Toe(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,c}if(u===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(o,s),o=s+1,s+=4;continue}if(u===10||u===13){a+=n.slice(o,s),l.push(a),u===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(zc(u))++s;else if(G0(n,s))s+=2;else throw rn(t.source,s,`Invalid character within String: ${yl(t,s)}.`)}throw rn(t.source,s,"Unterminated string.")}function Foe(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(mQ(s))++i;else break}return Mt(t,$.NAME,e,i,n.slice(e,i))}const $oe=10,vQ=2;function X(t){return X0(t,[])}function X0(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Uoe(t,e);default:return String(t)}}function Uoe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(Voe(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:X0(r,n)}else if(Array.isArray(t))return Boe(t,n);return joe(t,n)}function Voe(t){return typeof t.toJSON=="function"}function joe(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>vQ?"["+Qoe(t)+"]":"{ "+n.map(([i,s])=>i+": "+X0(s,e)).join(", ")+" }"}function Boe(t,e){if(t.length===0)return"[]";if(e.length>vQ)return"[Array]";const n=Math.min($oe,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(X0(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function Qoe(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const Ai=function(e,n){return e instanceof n};class wQ{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Ve(!1,`Body must be a string. Received: ${X(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Ve(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ve(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Yoe(t){return Ai(t,wQ)}function n_(t,e){return new SQ(t,e).parseDocument()}function qoe(t,e){const n=new SQ(t,e);n.expectToken($.SOF);const r=n.parseValueLiteral(!1);return n.expectToken($.EOF),r}class SQ{constructor(e,n={}){const r=Yoe(e)?e:new wQ(e);this._lexer=new _oe(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken($.NAME);return this.node(e,{kind:O.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:O.DOCUMENT,definitions:this.many($.SOF,this.parseDefinition,$.EOF)})}parseDefinition(){if(this.peek($.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===$.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw rn(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek($.BRACE_L))return this.node(e,{kind:O.OPERATION_DEFINITION,operation:tr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek($.NAME)&&(r=this.parseName()),this.node(e,{kind:O.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken($.NAME);switch(e.value){case"query":return tr.QUERY;case"mutation":return tr.MUTATION;case"subscription":return tr.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany($.PAREN_L,this.parseVariableDefinition,$.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken($.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken($.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken($.DOLLAR),this.node(e,{kind:O.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:O.SELECTION_SET,selections:this.many($.BRACE_L,this.parseSelection,$.BRACE_R)})}parseSelection(){return this.peek($.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken($.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:O.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek($.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany($.PAREN_L,n,$.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken($.COLON),this.node(n,{kind:O.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken($.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek($.NAME)?this.node(e,{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:O.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case $.BRACKET_L:return this.parseList(e);case $.BRACE_L:return this.parseObject(e);case $.INT:return this.advanceLexer(),this.node(n,{kind:O.INT,value:n.value});case $.FLOAT:return this.advanceLexer(),this.node(n,{kind:O.FLOAT,value:n.value});case $.STRING:case $.BLOCK_STRING:return this.parseStringLiteral();case $.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:O.BOOLEAN,value:!0});case"false":return this.node(n,{kind:O.BOOLEAN,value:!1});case"null":return this.node(n,{kind:O.NULL});default:return this.node(n,{kind:O.ENUM,value:n.value})}case $.DOLLAR:if(e)if(this.expectToken($.DOLLAR),this._lexer.token.kind===$.NAME){const r=this._lexer.token.value;throw rn(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:O.STRING,value:e.value,block:e.kind===$.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:O.LIST,values:this.any($.BRACKET_L,n,$.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:O.OBJECT,fields:this.any($.BRACE_L,n,$.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken($.COLON),this.node(n,{kind:O.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek($.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken($.AT),this.node(n,{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken($.BRACKET_L)){const r=this.parseTypeReference();this.expectToken($.BRACKET_R),n=this.node(e,{kind:O.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken($.BANG)?this.node(e,{kind:O.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:O.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek($.STRING)||this.peek($.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many($.BRACE_L,this.parseOperationTypeDefinition,$.BRACE_R);return this.node(e,{kind:O.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken($.COLON);const r=this.parseNamedType();return this.node(e,{kind:O.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:O.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:O.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany($.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany($.BRACE_L,this.parseFieldDefinition,$.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken($.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:O.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany($.PAREN_L,this.parseInputValueDef,$.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken($.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken($.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:O.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:O.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:O.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken($.EQUALS)?this.delimitedMany($.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:O.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany($.BRACE_L,this.parseEnumValueDefinition,$.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:O.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw rn(this._lexer.source,this._lexer.token.start,`${lm(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany($.BRACE_L,this.parseInputValueDef,$.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===$.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany($.BRACE_L,this.parseOperationTypeDefinition,$.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:O.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:O.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:O.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:O.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken($.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:O.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany($.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(re,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new Eoe(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw rn(this._lexer.source,n.start,`Expected ${bQ(e)}, found ${lm(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===$.NAME&&n.value===e)this.advanceLexer();else throw rn(this._lexer.source,n.start,`Expected "${e}", found ${lm(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===$.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return rn(this._lexer.source,n.start,`Unexpected ${lm(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==$.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw rn(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function lm(t){const e=t.value;return bQ(t.kind)+(e!=null?` "${e}"`:"")}function bQ(t){return Coe(t)?`"${t}"`:t}const zoe=5;function aa(t,e){const[n,r]=e?[t,e]:[void 0,t];let i=" Did you mean ";n&&(i+=n+" ");const s=r.map(l=>`"${l}"`);switch(s.length){case 0:return"";case 1:return i+s[0]+"?";case 2:return i+s[0]+" or "+s[1]+"?"}const o=s.slice(0,zoe),a=o.pop();return i+o.join(", ")+", or "+a+"?"}function qR(t){return t}function bc(t,e){const n=Object.create(null);for(const r of t)n[e(r)]=r;return n}function Ba(t,e,n){const r=Object.create(null);for(const i of t)r[e(i)]=n(i);return r}function K0(t,e){const n=Object.create(null);for(const r of Object.keys(t))n[r]=e(t[r],r);return n}function r_(t,e){let n=0,r=0;for(;n<t.length&&r<e.length;){let i=t.charCodeAt(n),s=e.charCodeAt(r);if(um(i)&&um(s)){let o=0;do++n,o=o*10+i-hO,i=t.charCodeAt(n);while(um(i)&&o>0);let a=0;do++r,a=a*10+s-hO,s=e.charCodeAt(r);while(um(s)&&a>0);if(o<a)return-1;if(o>a)return 1}else{if(i<s)return-1;if(i>s)return 1;++n,++r}}return t.length-e.length}const hO=48,Hoe=57;function um(t){return!isNaN(t)&&hO<=t&&t<=Hoe}function Ll(t,e){const n=Object.create(null),r=new Woe(t),i=Math.floor(t.length*.4)+1;for(const s of e){const o=r.measure(s,i);o!==void 0&&(n[s]=o)}return Object.keys(n).sort((s,o)=>{const a=n[s]-n[o];return a!==0?a:r_(s,o)})}class Woe{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=zR(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,n){if(this._input===e)return 0;const r=e.toLowerCase();if(this._inputLowerCase===r)return 1;let i=zR(r),s=this._inputArray;if(i.length<s.length){const c=i;i=s,s=c}const o=i.length,a=s.length;if(o-a>n)return;const l=this._rows;for(let c=0;c<=a;c++)l[0][c]=c;for(let c=1;c<=o;c++){const h=l[(c-1)%3],f=l[c%3];let d=f[0]=c;for(let p=1;p<=a;p++){const g=i[c-1]===s[p-1]?0:1;let v=Math.min(h[p]+1,f[p-1]+1,h[p-1]+g);if(c>1&&p>1&&i[c-1]===s[p-2]&&i[c-2]===s[p-1]){const m=l[(c-2)%3][p-2];v=Math.min(v,m+1)}v<d&&(d=v),f[p]=v}if(d>n)return}const u=l[o%3][a];return u<=n?u:void 0}}function zR(t){const e=t.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r);return n}function ai(t){if(t==null)return Object.create(null);if(Object.getPrototypeOf(t)===null)return t;const e=Object.create(null);for(const[n,r]of Object.entries(t))e[n]=r;return e}function Goe(t){return`"${t.replace(Xoe,Koe)}"`}const Xoe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Koe(t){return Joe[t.charCodeAt(0)]}const Joe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],vu=Object.freeze({});function tp(t,e,n=dQ){const r=new Map;for(const m of Object.values(O))r.set(m,Yy(e,m));let i,s=Array.isArray(t),o=[t],a=-1,l=[],u=t,c,h;const f=[],d=[];do{a++;const m=a===o.length,y=m&&l.length!==0;if(m){if(c=d.length===0?void 0:f[f.length-1],u=h,h=d.pop(),y)if(s){u=u.slice();let S=0;for(const[b,k]of l){const _=b-S;k===null?(u.splice(_,1),S++):u[_]=k}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[S,b]of l)u[S]=b}a=i.index,o=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(h){if(c=s?a:o[a],u=h[c],u==null)continue;f.push(c)}let w;if(!Array.isArray(u)){var p,g;uO(u)||Ve(!1,`Invalid AST Node: ${X(u)}.`);const S=m?(p=r.get(u.kind))===null||p===void 0?void 0:p.leave:(g=r.get(u.kind))===null||g===void 0?void 0:g.enter;if(w=S==null?void 0:S.call(e,u,c,h,f,d),w===vu)break;if(w===!1){if(!m){f.pop();continue}}else if(w!==void 0&&(l.push([c,w]),!m))if(uO(w))u=w;else{f.pop();continue}}if(w===void 0&&y&&l.push([c,u]),m)f.pop();else{var v;i={inArray:s,index:a,keys:o,edits:l,prev:i},s=Array.isArray(u),o=s?u:(v=n[u.kind])!==null&&v!==void 0?v:[],a=-1,l=[],h&&d.push(h),h=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function Zoe(t){const e=new Array(t.length).fill(null),n=Object.create(null);for(const r of Object.values(O)){let i=!1;const s=new Array(t.length).fill(void 0),o=new Array(t.length).fill(void 0);for(let l=0;l<t.length;++l){const{enter:u,leave:c}=Yy(t[l],r);i||(i=u!=null||c!=null),s[l]=u,o[l]=c}if(!i)continue;const a={enter(...l){const u=l[0];for(let h=0;h<t.length;h++)if(e[h]===null){var c;const f=(c=s[h])===null||c===void 0?void 0:c.apply(t[h],l);if(f===!1)e[h]=u;else if(f===vu)e[h]=vu;else if(f!==void 0)return f}},leave(...l){const u=l[0];for(let h=0;h<t.length;h++)if(e[h]===null){var c;const f=(c=o[h])===null||c===void 0?void 0:c.apply(t[h],l);if(f===vu)e[h]=vu;else if(f!==void 0&&f!==!1)return f}else e[h]===u&&(e[h]=null)}};n[r]=a}return n}function Yy(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function Xt(t){return tp(t,tae)}const eae=80,tae={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>ae(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Ce("(",ae(t.variableDefinitions,", "),")"),n=ae([t.operation,ae([t.name,e]),ae(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Ce(" = ",n)+Ce(" ",ae(r," "))},SelectionSet:{leave:({selections:t})=>ci(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=Ce("",t,": ")+e;let o=s+Ce("(",ae(n,", "),")");return o.length>eae&&(o=s+Ce(`(
`,tg(ae(n,`
`)),`
)`)),ae([o,ae(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ce(" ",ae(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>ae(["...",Ce("on ",t),ae(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Ce("(",ae(n,", "),")")} on ${e} ${Ce("",ae(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?xoe(t):Goe(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+ae(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+ae(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ce("(",ae(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Ce("",t,`
`)+ae(["schema",ae(e," "),ci(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Ce("",t,`
`)+ae(["scalar",e,ae(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ce("",t,`
`)+ae(["type",e,Ce("implements ",ae(n," & ")),ae(r," "),ci(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Ce("",t,`
`)+e+(HR(n)?Ce(`(
`,tg(ae(n,`
`)),`
)`):Ce("(",ae(n,", "),")"))+": "+r+Ce(" ",ae(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Ce("",t,`
`)+ae([e+": "+n,Ce("= ",r),ae(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ce("",t,`
`)+ae(["interface",e,Ce("implements ",ae(n," & ")),ae(r," "),ci(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Ce("",t,`
`)+ae(["union",e,ae(n," "),Ce("= ",ae(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Ce("",t,`
`)+ae(["enum",e,ae(n," "),ci(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Ce("",t,`
`)+ae([e,ae(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Ce("",t,`
`)+ae(["input",e,ae(n," "),ci(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Ce("",t,`
`)+"directive @"+e+(HR(n)?Ce(`(
`,tg(ae(n,`
`)),`
)`):Ce("(",ae(n,", "),")"))+(r?" repeatable":"")+" on "+ae(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>ae(["extend schema",ae(t," "),ci(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>ae(["extend scalar",t,ae(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ae(["extend type",t,Ce("implements ",ae(e," & ")),ae(n," "),ci(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ae(["extend interface",t,Ce("implements ",ae(e," & ")),ae(n," "),ci(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>ae(["extend union",t,ae(e," "),Ce("= ",ae(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>ae(["extend enum",t,ae(e," "),ci(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>ae(["extend input",t,ae(e," "),ci(n)]," ")}};function ae(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ci(t){return Ce(`{
`,tg(ae(t,`
`)),`
}`)}function Ce(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function tg(t){return Ce("  ",t.replace(/\n/g,`
  `))}function HR(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function fO(t,e){switch(t.kind){case O.NULL:return null;case O.INT:return parseInt(t.value,10);case O.FLOAT:return parseFloat(t.value);case O.STRING:case O.ENUM:case O.BOOLEAN:return t.value;case O.LIST:return t.values.map(n=>fO(n,e));case O.OBJECT:return Ba(t.fields,n=>n.name.value,n=>fO(n.value,e));case O.VARIABLE:return e==null?void 0:e[t.name.value]}}function Ni(t){if(t!=null||Ve(!1,"Must provide name."),typeof t=="string"||Ve(!1,"Expected name to be a string."),t.length===0)throw new q("Expected name to be a non-empty string.");for(let e=1;e<t.length;++e)if(!mQ(t.charCodeAt(e)))throw new q(`Names must only contain [_a-zA-Z0-9] but "${t}" does not.`);if(!t_(t.charCodeAt(0)))throw new q(`Names must start with [_a-zA-Z] but "${t}" does not.`);return t}function nae(t){if(t==="true"||t==="false"||t==="null")throw new q(`Enum values cannot be named: ${t}`);return Ni(t)}function i_(t){return ya(t)||at(t)||lt(t)||ni(t)||Mr(t)||_n(t)||Tn(t)||Ge(t)}function ya(t){return Ai(t,Ml)}function at(t){return Ai(t,Ri)}function rae(t){if(!at(t))throw new Error(`Expected ${X(t)} to be a GraphQL Object type.`);return t}function lt(t){return Ai(t,Bu)}function iae(t){if(!lt(t))throw new Error(`Expected ${X(t)} to be a GraphQL Interface type.`);return t}function ni(t){return Ai(t,AQ)}function Mr(t){return Ai(t,la)}function _n(t){return Ai(t,J0)}function Tn(t){return Ai(t,Un)}function Ge(t){return Ai(t,xe)}function xr(t){return ya(t)||Mr(t)||_n(t)||s_(t)&&xr(t.ofType)}function Ka(t){return ya(t)||at(t)||lt(t)||ni(t)||Mr(t)||s_(t)&&Ka(t.ofType)}function Ec(t){return ya(t)||Mr(t)}function bn(t){return at(t)||lt(t)||ni(t)}function Ds(t){return lt(t)||ni(t)}function sae(t){if(!Ds(t))throw new Error(`Expected ${X(t)} to be a GraphQL abstract type.`);return t}class Un{constructor(e){i_(e)||Ve(!1,`Expected ${X(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class xe{constructor(e){EQ(e)||Ve(!1,`Expected ${X(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function s_(t){return Tn(t)||Ge(t)}function EQ(t){return i_(t)&&!Ge(t)}function oae(t){if(!EQ(t))throw new Error(`Expected ${X(t)} to be a GraphQL nullable type.`);return t}function o_(t){if(t)return Ge(t)?t.ofType:t}function aae(t){return ya(t)||at(t)||lt(t)||ni(t)||Mr(t)||_n(t)}function Wt(t){if(t){let e=t;for(;s_(e);)e=e.ofType;return e}}function OQ(t){return typeof t=="function"?t():t}function TQ(t){return typeof t=="function"?t():t}class Ml{constructor(e){var n,r,i,s;const o=(n=e.parseValue)!==null&&n!==void 0?n:qR;this.name=Ni(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(r=e.serialize)!==null&&r!==void 0?r:qR,this.parseValue=o,this.parseLiteral=(i=e.parseLiteral)!==null&&i!==void 0?i:(a,l)=>o(fO(a,l)),this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(s=e.extensionASTNodes)!==null&&s!==void 0?s:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||Ve(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${X(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||Ve(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||Ve(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ri{constructor(e){var n;this.name=Ni(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>xQ(e),this._interfaces=()=>kQ(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||Ve(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${X(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:CQ(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function kQ(t){var e;const n=OQ((e=t.interfaces)!==null&&e!==void 0?e:[]);return Array.isArray(n)||Ve(!1,`${t.name} interfaces must be an Array or a function which returns an Array.`),n}function xQ(t){const e=TQ(t.fields);return ju(e)||Ve(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),K0(e,(n,r)=>{var i;ju(n)||Ve(!1,`${t.name}.${r} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||Ve(!1,`${t.name}.${r} field resolver must be a function if provided, but got: ${X(n.resolve)}.`);const s=(i=n.args)!==null&&i!==void 0?i:{};return ju(s)||Ve(!1,`${t.name}.${r} args must be an object with argument names as keys.`),{name:Ni(r),description:n.description,type:n.type,args:_Q(s),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:ai(n.extensions),astNode:n.astNode}})}function _Q(t){return Object.entries(t).map(([e,n])=>({name:Ni(e),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:ai(n.extensions),astNode:n.astNode}))}function ju(t){return Ks(t)&&!Array.isArray(t)}function CQ(t){return K0(t,e=>({description:e.description,type:e.type,args:IQ(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function IQ(t){return Ba(t,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function np(t){return Ge(t.type)&&t.defaultValue===void 0}class Bu{constructor(e){var n;this.name=Ni(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=xQ.bind(void 0,e),this._interfaces=kQ.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Ve(!1,`${this.name} must provide "resolveType" as a function, but got: ${X(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:CQ(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class AQ{constructor(e){var n;this.name=Ni(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=lae.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||Ve(!1,`${this.name} must provide "resolveType" as a function, but got: ${X(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function lae(t){const e=OQ(t.types);return Array.isArray(e)||Ve(!1,`Must provide Array of types or a function which returns such an array for Union ${t.name}.`),e}class la{constructor(e){var n;this.name=Ni(e.name),this.description=e.description,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=uae(this.name,e.values),this._valueLookup=new Map(this._values.map(r=>[r.value,r])),this._nameLookup=bc(this._values,r=>r.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const n=this._valueLookup.get(e);if(n===void 0)throw new q(`Enum "${this.name}" cannot represent value: ${X(e)}`);return n.name}parseValue(e){if(typeof e!="string"){const r=X(e);throw new q(`Enum "${this.name}" cannot represent non-string value: ${r}.`+cm(this,r))}const n=this.getValue(e);if(n==null)throw new q(`Value "${e}" does not exist in "${this.name}" enum.`+cm(this,e));return n.value}parseLiteral(e,n){if(e.kind!==O.ENUM){const i=Xt(e);throw new q(`Enum "${this.name}" cannot represent non-enum value: ${i}.`+cm(this,i),{nodes:e})}const r=this.getValue(e.value);if(r==null){const i=Xt(e);throw new q(`Value "${i}" does not exist in "${this.name}" enum.`+cm(this,i),{nodes:e})}return r.value}toConfig(){const e=Ba(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function cm(t,e){const n=t.getValues().map(i=>i.name),r=Ll(e,n);return aa("the enum value",r)}function uae(t,e){return ju(e)||Ve(!1,`${t} values must be an object with value names as keys.`),Object.entries(e).map(([n,r])=>(ju(r)||Ve(!1,`${t}.${n} must refer to an object with a "value" key representing an internal value but got: ${X(r)}.`),{name:nae(n),description:r.description,value:r.value!==void 0?r.value:n,deprecationReason:r.deprecationReason,extensions:ai(r.extensions),astNode:r.astNode}))}class J0{constructor(e){var n;this.name=Ni(e.name),this.description=e.description,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=cae.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const e=K0(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function cae(t){const e=TQ(t.fields);return ju(e)||Ve(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),K0(e,(n,r)=>(!("resolve"in n)||Ve(!1,`${t.name}.${r} field has a resolve property, but Input Types cannot define resolvers.`),{name:Ni(r),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:ai(n.extensions),astNode:n.astNode}))}function NQ(t){return Ge(t.type)&&t.defaultValue===void 0}function dO(t,e){return t===e?!0:Ge(t)&&Ge(e)||Tn(t)&&Tn(e)?dO(t.ofType,e.ofType):!1}function Qu(t,e,n){return e===n?!0:Ge(n)?Ge(e)?Qu(t,e.ofType,n.ofType):!1:Ge(e)?Qu(t,e.ofType,n):Tn(n)?Tn(e)?Qu(t,e.ofType,n.ofType):!1:Tn(e)?!1:Ds(n)&&(lt(e)||at(e))&&t.isSubType(n,e)}function pO(t,e,n){return e===n?!0:Ds(e)?Ds(n)?t.getPossibleTypes(e).some(r=>t.isSubType(n,r)):t.isSubType(e,n):Ds(n)?t.isSubType(n,e):!1}const iS=2147483647,sS=-2147483648,hae=new Ml({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(t){const e=rp(t);if(typeof e=="boolean")return e?1:0;let n=e;if(typeof e=="string"&&e!==""&&(n=Number(e)),typeof n!="number"||!Number.isInteger(n))throw new q(`Int cannot represent non-integer value: ${X(e)}`);if(n>iS||n<sS)throw new q("Int cannot represent non 32-bit signed integer value: "+X(e));return n},parseValue(t){if(typeof t!="number"||!Number.isInteger(t))throw new q(`Int cannot represent non-integer value: ${X(t)}`);if(t>iS||t<sS)throw new q(`Int cannot represent non 32-bit signed integer value: ${t}`);return t},parseLiteral(t){if(t.kind!==O.INT)throw new q(`Int cannot represent non-integer value: ${Xt(t)}`,{nodes:t});const e=parseInt(t.value,10);if(e>iS||e<sS)throw new q(`Int cannot represent non 32-bit signed integer value: ${t.value}`,{nodes:t});return e}}),fae=new Ml({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(t){const e=rp(t);if(typeof e=="boolean")return e?1:0;let n=e;if(typeof e=="string"&&e!==""&&(n=Number(e)),typeof n!="number"||!Number.isFinite(n))throw new q(`Float cannot represent non numeric value: ${X(e)}`);return n},parseValue(t){if(typeof t!="number"||!Number.isFinite(t))throw new q(`Float cannot represent non numeric value: ${X(t)}`);return t},parseLiteral(t){if(t.kind!==O.FLOAT&&t.kind!==O.INT)throw new q(`Float cannot represent non numeric value: ${Xt(t)}`,t);return parseFloat(t.value)}}),Nt=new Ml({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(t){const e=rp(t);if(typeof e=="string")return e;if(typeof e=="boolean")return e?"true":"false";if(typeof e=="number"&&Number.isFinite(e))return e.toString();throw new q(`String cannot represent value: ${X(t)}`)},parseValue(t){if(typeof t!="string")throw new q(`String cannot represent a non string value: ${X(t)}`);return t},parseLiteral(t){if(t.kind!==O.STRING)throw new q(`String cannot represent a non string value: ${Xt(t)}`,{nodes:t});return t.value}}),wn=new Ml({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(t){const e=rp(t);if(typeof e=="boolean")return e;if(Number.isFinite(e))return e!==0;throw new q(`Boolean cannot represent a non boolean value: ${X(e)}`)},parseValue(t){if(typeof t!="boolean")throw new q(`Boolean cannot represent a non boolean value: ${X(t)}`);return t},parseLiteral(t){if(t.kind!==O.BOOLEAN)throw new q(`Boolean cannot represent a non boolean value: ${Xt(t)}`,{nodes:t});return t.value}}),RQ=new Ml({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(t){const e=rp(t);if(typeof e=="string")return e;if(Number.isInteger(e))return String(e);throw new q(`ID cannot represent value: ${X(t)}`)},parseValue(t){if(typeof t=="string")return t;if(typeof t=="number"&&Number.isInteger(t))return t.toString();throw new q(`ID cannot represent value: ${X(t)}`)},parseLiteral(t){if(t.kind!==O.STRING&&t.kind!==O.INT)throw new q("ID cannot represent a non-string and non-integer value: "+Xt(t),{nodes:t});return t.value}}),PQ=Object.freeze([Nt,hae,fae,wn,RQ]);function rp(t){if(Ks(t)){if(typeof t.valueOf=="function"){const e=t.valueOf();if(!Ks(e))return e}if(typeof t.toJSON=="function")return t.toJSON()}return t}function DQ(t){return Ai(t,Hc)}class Hc{constructor(e){var n,r;this.name=Ni(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(n=e.isRepeatable)!==null&&n!==void 0?n:!1,this.extensions=ai(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||Ve(!1,`@${e.name} locations must be an Array.`);const i=(r=e.args)!==null&&r!==void 0?r:{};Ks(i)&&!Array.isArray(i)||Ve(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=_Q(i)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:IQ(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const LQ=new Hc({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[re.FIELD,re.FRAGMENT_SPREAD,re.INLINE_FRAGMENT],args:{if:{type:new xe(wn),description:"Included when true."}}}),MQ=new Hc({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[re.FIELD,re.FRAGMENT_SPREAD,re.INLINE_FRAGMENT],args:{if:{type:new xe(wn),description:"Skipped when true."}}}),dae="No longer supported",FQ=new Hc({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[re.FIELD_DEFINITION,re.ARGUMENT_DEFINITION,re.INPUT_FIELD_DEFINITION,re.ENUM_VALUE],args:{reason:{type:Nt,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:dae}}}),pae=new Hc({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[re.SCALAR],args:{url:{type:new xe(Nt),description:"The URL that specifies the behavior of this scalar."}}}),ip=Object.freeze([LQ,MQ,FQ,pae]);function mae(t){return typeof t=="object"&&typeof(t==null?void 0:t[Symbol.iterator])=="function"}function $h(t,e){if(Ge(e)){const n=$h(t,e.ofType);return(n==null?void 0:n.kind)===O.NULL?null:n}if(t===null)return{kind:O.NULL};if(t===void 0)return null;if(Tn(e)){const n=e.ofType;if(mae(t)){const r=[];for(const i of t){const s=$h(i,n);s!=null&&r.push(s)}return{kind:O.LIST,values:r}}return $h(t,n)}if(_n(e)){if(!Ks(t))return null;const n=[];for(const r of Object.values(e.getFields())){const i=$h(t[r.name],r.type);i&&n.push({kind:O.OBJECT_FIELD,name:{kind:O.NAME,value:r.name},value:i})}return{kind:O.OBJECT,fields:n}}if(Ec(e)){const n=e.serialize(t);if(n==null)return null;if(typeof n=="boolean")return{kind:O.BOOLEAN,value:n};if(typeof n=="number"&&Number.isFinite(n)){const r=String(n);return WR.test(r)?{kind:O.INT,value:r}:{kind:O.FLOAT,value:r}}if(typeof n=="string")return Mr(e)?{kind:O.ENUM,value:n}:e===RQ&&WR.test(n)?{kind:O.INT,value:n}:{kind:O.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${X(n)}.`)}Rr(!1,"Unexpected input type: "+X(e))}const WR=/^-?(?:0|[1-9][0-9]*)$/,a_=new Ri({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:Nt,resolve:t=>t.description},types:{description:"A list of all types supported by this server.",type:new xe(new Un(new xe(Oi))),resolve(t){return Object.values(t.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new xe(Oi),resolve:t=>t.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Oi,resolve:t=>t.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Oi,resolve:t=>t.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new xe(new Un(new xe($Q))),resolve:t=>t.getDirectives()}})}),$Q=new Ri({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new xe(Nt),resolve:t=>t.name},description:{type:Nt,resolve:t=>t.description},isRepeatable:{type:new xe(wn),resolve:t=>t.isRepeatable},locations:{type:new xe(new Un(new xe(UQ))),resolve:t=>t.locations},args:{type:new xe(new Un(new xe(Z0))),args:{includeDeprecated:{type:wn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(n=>n.deprecationReason==null)}}})}),UQ=new la({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:re.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:re.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:re.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:re.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:re.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:re.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:re.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:re.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:re.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:re.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:re.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:re.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:re.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:re.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:re.UNION,description:"Location adjacent to a union definition."},ENUM:{value:re.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:re.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:re.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:re.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Oi=new Ri({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new xe(BQ),resolve(t){if(ya(t))return Xe.SCALAR;if(at(t))return Xe.OBJECT;if(lt(t))return Xe.INTERFACE;if(ni(t))return Xe.UNION;if(Mr(t))return Xe.ENUM;if(_n(t))return Xe.INPUT_OBJECT;if(Tn(t))return Xe.LIST;if(Ge(t))return Xe.NON_NULL;Rr(!1,`Unexpected type: "${X(t)}".`)}},name:{type:Nt,resolve:t=>"name"in t?t.name:void 0},description:{type:Nt,resolve:t=>"description"in t?t.description:void 0},specifiedByURL:{type:Nt,resolve:t=>"specifiedByURL"in t?t.specifiedByURL:void 0},fields:{type:new Un(new xe(VQ)),args:{includeDeprecated:{type:wn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(at(t)||lt(t)){const n=Object.values(t.getFields());return e?n:n.filter(r=>r.deprecationReason==null)}}},interfaces:{type:new Un(new xe(Oi)),resolve(t){if(at(t)||lt(t))return t.getInterfaces()}},possibleTypes:{type:new Un(new xe(Oi)),resolve(t,e,n,{schema:r}){if(Ds(t))return r.getPossibleTypes(t)}},enumValues:{type:new Un(new xe(jQ)),args:{includeDeprecated:{type:wn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(Mr(t)){const n=t.getValues();return e?n:n.filter(r=>r.deprecationReason==null)}}},inputFields:{type:new Un(new xe(Z0)),args:{includeDeprecated:{type:wn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(_n(t)){const n=Object.values(t.getFields());return e?n:n.filter(r=>r.deprecationReason==null)}}},ofType:{type:Oi,resolve:t=>"ofType"in t?t.ofType:void 0}})}),VQ=new Ri({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new xe(Nt),resolve:t=>t.name},description:{type:Nt,resolve:t=>t.description},args:{type:new xe(new Un(new xe(Z0))),args:{includeDeprecated:{type:wn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(n=>n.deprecationReason==null)}},type:{type:new xe(Oi),resolve:t=>t.type},isDeprecated:{type:new xe(wn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Nt,resolve:t=>t.deprecationReason}})}),Z0=new Ri({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new xe(Nt),resolve:t=>t.name},description:{type:Nt,resolve:t=>t.description},type:{type:new xe(Oi),resolve:t=>t.type},defaultValue:{type:Nt,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(t){const{type:e,defaultValue:n}=t,r=$h(n,e);return r?Xt(r):null}},isDeprecated:{type:new xe(wn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Nt,resolve:t=>t.deprecationReason}})}),jQ=new Ri({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new xe(Nt),resolve:t=>t.name},description:{type:Nt,resolve:t=>t.description},isDeprecated:{type:new xe(wn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Nt,resolve:t=>t.deprecationReason}})});var Xe;(function(t){t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.INPUT_OBJECT="INPUT_OBJECT",t.LIST="LIST",t.NON_NULL="NON_NULL"})(Xe||(Xe={}));const BQ=new la({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:Xe.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:Xe.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:Xe.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:Xe.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:Xe.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:Xe.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:Xe.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:Xe.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),sd={name:"__schema",type:new xe(a_),description:"Access the current type schema of this server.",args:[],resolve:(t,e,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},od={name:"__type",type:Oi,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new xe(Nt),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(t,{name:e},n,{schema:r})=>r.getType(e),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},ad={name:"__typename",type:new xe(Nt),description:"The name of the current Object type at runtime.",args:[],resolve:(t,e,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},l_=Object.freeze([a_,$Q,UQ,Oi,VQ,Z0,jQ,BQ]);function gae(t){return l_.some(({name:e})=>t.name===e)}function yae(t){return Ai(t,QQ)}function vae(t){if(!yae(t))throw new Error(`Expected ${X(t)} to be a GraphQL schema.`);return t}class QQ{constructor(e){var n,r;this.__validationErrors=e.assumeValid===!0?[]:void 0,Ks(e)||Ve(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||Ve(!1,`"types" must be Array if provided but got: ${X(e.types)}.`),!e.directives||Array.isArray(e.directives)||Ve(!1,`"directives" must be Array if provided but got: ${X(e.directives)}.`),this.description=e.description,this.extensions=ai(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(n=e.extensionASTNodes)!==null&&n!==void 0?n:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=(r=e.directives)!==null&&r!==void 0?r:ip;const i=new Set(e.types);if(e.types!=null)for(const s of e.types)i.delete(s),yi(s,i);this._queryType!=null&&yi(this._queryType,i),this._mutationType!=null&&yi(this._mutationType,i),this._subscriptionType!=null&&yi(this._subscriptionType,i);for(const s of this._directives)if(DQ(s))for(const o of s.args)yi(o.type,i);yi(a_,i),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const s of i){if(s==null)continue;const o=s.name;if(o||Ve(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[o]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${o}".`);if(this._typeMap[o]=s,lt(s)){for(const a of s.getInterfaces())if(lt(a)){let l=this._implementationsMap[a.name];l===void 0&&(l=this._implementationsMap[a.name]={objects:[],interfaces:[]}),l.interfaces.push(s)}}else if(at(s)){for(const a of s.getInterfaces())if(lt(a)){let l=this._implementationsMap[a.name];l===void 0&&(l=this._implementationsMap[a.name]={objects:[],interfaces:[]}),l.objects.push(s)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case tr.QUERY:return this.getQueryType();case tr.MUTATION:return this.getMutationType();case tr.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return ni(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const n=this._implementationsMap[e.name];return n??{objects:[],interfaces:[]}}isSubType(e,n){let r=this._subTypeMap[e.name];if(r===void 0){if(r=Object.create(null),ni(e))for(const i of e.getTypes())r[i.name]=!0;else{const i=this.getImplementations(e);for(const s of i.objects)r[s.name]=!0;for(const s of i.interfaces)r[s.name]=!0}this._subTypeMap[e.name]=r}return r[n.name]!==void 0}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(n=>n.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function yi(t,e){const n=Wt(t);if(!e.has(n)){if(e.add(n),ni(n))for(const r of n.getTypes())yi(r,e);else if(at(n)||lt(n)){for(const r of n.getInterfaces())yi(r,e);for(const r of Object.values(n.getFields())){yi(r.type,e);for(const i of r.args)yi(i.type,e)}}else if(_n(n))for(const r of Object.values(n.getFields()))yi(r.type,e)}return e}function wae(t){if(vae(t),t.__validationErrors)return t.__validationErrors;const e=new bae(t);Eae(e),Oae(e),Tae(e);const n=e.getErrors();return t.__validationErrors=n,n}function Sae(t){const e=wae(t);if(e.length!==0)throw new Error(e.map(n=>n.message).join(`

`))}class bae{constructor(e){this._errors=[],this.schema=e}reportError(e,n){const r=Array.isArray(n)?n.filter(Boolean):n;this._errors.push(new q(e,{nodes:r}))}getErrors(){return this._errors}}function Eae(t){const e=t.schema,n=e.getQueryType();if(!n)t.reportError("Query root type must be provided.",e.astNode);else if(!at(n)){var r;t.reportError(`Query root type must be Object type, it cannot be ${X(n)}.`,(r=oS(e,tr.QUERY))!==null&&r!==void 0?r:n.astNode)}const i=e.getMutationType();if(i&&!at(i)){var s;t.reportError(`Mutation root type must be Object type if provided, it cannot be ${X(i)}.`,(s=oS(e,tr.MUTATION))!==null&&s!==void 0?s:i.astNode)}const o=e.getSubscriptionType();if(o&&!at(o)){var a;t.reportError(`Subscription root type must be Object type if provided, it cannot be ${X(o)}.`,(a=oS(e,tr.SUBSCRIPTION))!==null&&a!==void 0?a:o.astNode)}}function oS(t,e){var n;return(n=[t.astNode,...t.extensionASTNodes].flatMap(r=>{var i;return(i=r==null?void 0:r.operationTypes)!==null&&i!==void 0?i:[]}).find(r=>r.operation===e))===null||n===void 0?void 0:n.type}function Oae(t){for(const n of t.schema.getDirectives()){if(!DQ(n)){t.reportError(`Expected directive but got: ${X(n)}.`,n==null?void 0:n.astNode);continue}vl(t,n);for(const r of n.args)if(vl(t,r),xr(r.type)||t.reportError(`The type of @${n.name}(${r.name}:) must be Input Type but got: ${X(r.type)}.`,r.astNode),np(r)&&r.deprecationReason!=null){var e;t.reportError(`Required argument @${n.name}(${r.name}:) cannot be deprecated.`,[u_(r.astNode),(e=r.astNode)===null||e===void 0?void 0:e.type])}}}function vl(t,e){e.name.startsWith("__")&&t.reportError(`Name "${e.name}" must not begin with "__", which is reserved by GraphQL introspection.`,e.astNode)}function Tae(t){const e=Aae(t),n=t.schema.getTypeMap();for(const r of Object.values(n)){if(!aae(r)){t.reportError(`Expected GraphQL named type but got: ${X(r)}.`,r.astNode);continue}gae(r)||vl(t,r),at(r)||lt(r)?(GR(t,r),XR(t,r)):ni(r)?_ae(t,r):Mr(r)?Cae(t,r):_n(r)&&(Iae(t,r),e(r))}}function GR(t,e){const n=Object.values(e.getFields());n.length===0&&t.reportError(`Type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const o of n){if(vl(t,o),!Ka(o.type)){var r;t.reportError(`The type of ${e.name}.${o.name} must be Output Type but got: ${X(o.type)}.`,(r=o.astNode)===null||r===void 0?void 0:r.type)}for(const a of o.args){const l=a.name;if(vl(t,a),!xr(a.type)){var i;t.reportError(`The type of ${e.name}.${o.name}(${l}:) must be Input Type but got: ${X(a.type)}.`,(i=a.astNode)===null||i===void 0?void 0:i.type)}if(np(a)&&a.deprecationReason!=null){var s;t.reportError(`Required argument ${e.name}.${o.name}(${l}:) cannot be deprecated.`,[u_(a.astNode),(s=a.astNode)===null||s===void 0?void 0:s.type])}}}}function XR(t,e){const n=Object.create(null);for(const r of e.getInterfaces()){if(!lt(r)){t.reportError(`Type ${X(e)} must only implement Interface types, it cannot implement ${X(r)}.`,af(e,r));continue}if(e===r){t.reportError(`Type ${e.name} cannot implement itself because it would create a circular reference.`,af(e,r));continue}if(n[r.name]){t.reportError(`Type ${e.name} can only implement ${r.name} once.`,af(e,r));continue}n[r.name]=!0,xae(t,e,r),kae(t,e,r)}}function kae(t,e,n){const r=e.getFields();for(const l of Object.values(n.getFields())){const u=l.name,c=r[u];if(!c){t.reportError(`Interface field ${n.name}.${u} expected but ${e.name} does not provide it.`,[l.astNode,e.astNode,...e.extensionASTNodes]);continue}if(!Qu(t.schema,c.type,l.type)){var i,s;t.reportError(`Interface field ${n.name}.${u} expects type ${X(l.type)} but ${e.name}.${u} is type ${X(c.type)}.`,[(i=l.astNode)===null||i===void 0?void 0:i.type,(s=c.astNode)===null||s===void 0?void 0:s.type])}for(const h of l.args){const f=h.name,d=c.args.find(p=>p.name===f);if(!d){t.reportError(`Interface field argument ${n.name}.${u}(${f}:) expected but ${e.name}.${u} does not provide it.`,[h.astNode,c.astNode]);continue}if(!dO(h.type,d.type)){var o,a;t.reportError(`Interface field argument ${n.name}.${u}(${f}:) expects type ${X(h.type)} but ${e.name}.${u}(${f}:) is type ${X(d.type)}.`,[(o=h.astNode)===null||o===void 0?void 0:o.type,(a=d.astNode)===null||a===void 0?void 0:a.type])}}for(const h of c.args){const f=h.name;!l.args.find(p=>p.name===f)&&np(h)&&t.reportError(`Object field ${e.name}.${u} includes required argument ${f} that is missing from the Interface field ${n.name}.${u}.`,[h.astNode,l.astNode])}}}function xae(t,e,n){const r=e.getInterfaces();for(const i of n.getInterfaces())r.includes(i)||t.reportError(i===e?`Type ${e.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${e.name} must implement ${i.name} because it is implemented by ${n.name}.`,[...af(n,i),...af(e,n)])}function _ae(t,e){const n=e.getTypes();n.length===0&&t.reportError(`Union type ${e.name} must define one or more member types.`,[e.astNode,...e.extensionASTNodes]);const r=Object.create(null);for(const i of n){if(r[i.name]){t.reportError(`Union type ${e.name} can only include type ${i.name} once.`,KR(e,i.name));continue}r[i.name]=!0,at(i)||t.reportError(`Union type ${e.name} can only include Object types, it cannot include ${X(i)}.`,KR(e,String(i)))}}function Cae(t,e){const n=e.getValues();n.length===0&&t.reportError(`Enum type ${e.name} must define one or more values.`,[e.astNode,...e.extensionASTNodes]);for(const r of n)vl(t,r)}function Iae(t,e){const n=Object.values(e.getFields());n.length===0&&t.reportError(`Input Object type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const s of n){if(vl(t,s),!xr(s.type)){var r;t.reportError(`The type of ${e.name}.${s.name} must be Input Type but got: ${X(s.type)}.`,(r=s.astNode)===null||r===void 0?void 0:r.type)}if(NQ(s)&&s.deprecationReason!=null){var i;t.reportError(`Required input field ${e.name}.${s.name} cannot be deprecated.`,[u_(s.astNode),(i=s.astNode)===null||i===void 0?void 0:i.type])}}}function Aae(t){const e=Object.create(null),n=[],r=Object.create(null);return i;function i(s){if(e[s.name])return;e[s.name]=!0,r[s.name]=n.length;const o=Object.values(s.getFields());for(const a of o)if(Ge(a.type)&&_n(a.type.ofType)){const l=a.type.ofType,u=r[l.name];if(n.push(a),u===void 0)i(l);else{const c=n.slice(u),h=c.map(f=>f.name).join(".");t.reportError(`Cannot reference Input Object "${l.name}" within itself through a series of non-null fields: "${h}".`,c.map(f=>f.astNode))}n.pop()}r[s.name]=void 0}}function af(t,e){const{astNode:n,extensionASTNodes:r}=t;return(n!=null?[n,...r]:r).flatMap(s=>{var o;return(o=s.interfaces)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e.name)}function KR(t,e){const{astNode:n,extensionASTNodes:r}=t;return(n!=null?[n,...r]:r).flatMap(s=>{var o;return(o=s.types)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e)}function u_(t){var e;return t==null||(e=t.directives)===null||e===void 0?void 0:e.find(n=>n.name.value===FQ.name)}function ri(t,e){switch(e.kind){case O.LIST_TYPE:{const n=ri(t,e.type);return n&&new Un(n)}case O.NON_NULL_TYPE:{const n=ri(t,e.type);return n&&new xe(n)}case O.NAMED_TYPE:return t.getType(e.name.value)}}class YQ{constructor(e,n,r){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=r??Nae,n&&(xr(n)&&this._inputTypeStack.push(n),bn(n)&&this._parentTypeStack.push(n),Ka(n)&&this._typeStack.push(n))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const n=this._schema;switch(e.kind){case O.SELECTION_SET:{const i=Wt(this.getType());this._parentTypeStack.push(bn(i)?i:void 0);break}case O.FIELD:{const i=this.getParentType();let s,o;i&&(s=this._getFieldDef(n,i,e),s&&(o=s.type)),this._fieldDefStack.push(s),this._typeStack.push(Ka(o)?o:void 0);break}case O.DIRECTIVE:this._directive=n.getDirective(e.name.value);break;case O.OPERATION_DEFINITION:{const i=n.getRootType(e.operation);this._typeStack.push(at(i)?i:void 0);break}case O.INLINE_FRAGMENT:case O.FRAGMENT_DEFINITION:{const i=e.typeCondition,s=i?ri(n,i):Wt(this.getType());this._typeStack.push(Ka(s)?s:void 0);break}case O.VARIABLE_DEFINITION:{const i=ri(n,e.type);this._inputTypeStack.push(xr(i)?i:void 0);break}case O.ARGUMENT:{var r;let i,s;const o=(r=this.getDirective())!==null&&r!==void 0?r:this.getFieldDef();o&&(i=o.args.find(a=>a.name===e.name.value),i&&(s=i.type)),this._argument=i,this._defaultValueStack.push(i?i.defaultValue:void 0),this._inputTypeStack.push(xr(s)?s:void 0);break}case O.LIST:{const i=o_(this.getInputType()),s=Tn(i)?i.ofType:i;this._defaultValueStack.push(void 0),this._inputTypeStack.push(xr(s)?s:void 0);break}case O.OBJECT_FIELD:{const i=Wt(this.getInputType());let s,o;_n(i)&&(o=i.getFields()[e.name.value],o&&(s=o.type)),this._defaultValueStack.push(o?o.defaultValue:void 0),this._inputTypeStack.push(xr(s)?s:void 0);break}case O.ENUM:{const i=Wt(this.getInputType());let s;Mr(i)&&(s=i.getValue(e.value)),this._enumValue=s;break}}}leave(e){switch(e.kind){case O.SELECTION_SET:this._parentTypeStack.pop();break;case O.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case O.DIRECTIVE:this._directive=null;break;case O.OPERATION_DEFINITION:case O.INLINE_FRAGMENT:case O.FRAGMENT_DEFINITION:this._typeStack.pop();break;case O.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case O.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case O.LIST:case O.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case O.ENUM:this._enumValue=null;break}}}function Nae(t,e,n){const r=n.name.value;if(r===sd.name&&t.getQueryType()===e)return sd;if(r===od.name&&t.getQueryType()===e)return od;if(r===ad.name&&bn(e))return ad;if(at(e)||lt(e))return e.getFields()[r]}function qQ(t,e){return{enter(...n){const r=n[0];t.enter(r);const i=Yy(e,r.kind).enter;if(i){const s=i.apply(e,n);return s!==void 0&&(t.leave(r),uO(s)&&t.enter(s)),s}},leave(...n){const r=n[0],i=Yy(e,r.kind).leave;let s;return i&&(s=i.apply(e,n)),t.leave(r),s}}}function Rae(t){return t.kind===O.OPERATION_DEFINITION||t.kind===O.FRAGMENT_DEFINITION}function Pae(t){return t.kind===O.SCHEMA_DEFINITION||ew(t)||t.kind===O.DIRECTIVE_DEFINITION}function ew(t){return t.kind===O.SCALAR_TYPE_DEFINITION||t.kind===O.OBJECT_TYPE_DEFINITION||t.kind===O.INTERFACE_TYPE_DEFINITION||t.kind===O.UNION_TYPE_DEFINITION||t.kind===O.ENUM_TYPE_DEFINITION||t.kind===O.INPUT_OBJECT_TYPE_DEFINITION}function Dae(t){return t.kind===O.SCHEMA_EXTENSION||zQ(t)}function zQ(t){return t.kind===O.SCALAR_TYPE_EXTENSION||t.kind===O.OBJECT_TYPE_EXTENSION||t.kind===O.INTERFACE_TYPE_EXTENSION||t.kind===O.UNION_TYPE_EXTENSION||t.kind===O.ENUM_TYPE_EXTENSION||t.kind===O.INPUT_OBJECT_TYPE_EXTENSION}function HQ(t){return{Document(e){for(const n of e.definitions)if(!Rae(n)){const r=n.kind===O.SCHEMA_DEFINITION||n.kind===O.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';t.reportError(new q(`The ${r} definition is not executable.`,{nodes:n}))}return!1}}}function Lae(t){return{Field(e){const n=t.getParentType();if(n&&!t.getFieldDef()){const i=t.getSchema(),s=e.name.value;let o=aa("to use an inline fragment on",Mae(i,n,s));o===""&&(o=aa(Fae(n,s))),t.reportError(new q(`Cannot query field "${s}" on type "${n.name}".`+o,{nodes:e}))}}}}function Mae(t,e,n){if(!Ds(e))return[];const r=new Set,i=Object.create(null);for(const o of t.getPossibleTypes(e))if(o.getFields()[n]){r.add(o),i[o.name]=1;for(const a of o.getInterfaces()){var s;a.getFields()[n]&&(r.add(a),i[a.name]=((s=i[a.name])!==null&&s!==void 0?s:0)+1)}}return[...r].sort((o,a)=>{const l=i[a.name]-i[o.name];return l!==0?l:lt(o)&&t.isSubType(o,a)?-1:lt(a)&&t.isSubType(a,o)?1:r_(o.name,a.name)}).map(o=>o.name)}function Fae(t,e){if(at(t)||lt(t)){const n=Object.keys(t.getFields());return Ll(e,n)}return[]}function $ae(t){return{InlineFragment(e){const n=e.typeCondition;if(n){const r=ri(t.getSchema(),n);if(r&&!bn(r)){const i=Xt(n);t.reportError(new q(`Fragment cannot condition on non composite type "${i}".`,{nodes:n}))}}},FragmentDefinition(e){const n=ri(t.getSchema(),e.typeCondition);if(n&&!bn(n)){const r=Xt(e.typeCondition);t.reportError(new q(`Fragment "${e.name.value}" cannot condition on non composite type "${r}".`,{nodes:e.typeCondition}))}}}}function Uae(t){return{...Vae(t),Argument(e){const n=t.getArgument(),r=t.getFieldDef(),i=t.getParentType();if(!n&&r&&i){const s=e.name.value,o=r.args.map(l=>l.name),a=Ll(s,o);t.reportError(new q(`Unknown argument "${s}" on field "${i.name}.${r.name}".`+aa(a),{nodes:e}))}}}}function Vae(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():ip;for(const o of r)e[o.name]=o.args.map(a=>a.name);const i=t.getDocument().definitions;for(const o of i)if(o.kind===O.DIRECTIVE_DEFINITION){var s;const a=(s=o.arguments)!==null&&s!==void 0?s:[];e[o.name.value]=a.map(l=>l.name.value)}return{Directive(o){const a=o.name.value,l=e[a];if(o.arguments&&l)for(const u of o.arguments){const c=u.name.value;if(!l.includes(c)){const h=Ll(c,l);t.reportError(new q(`Unknown argument "${c}" on directive "@${a}".`+aa(h),{nodes:u}))}}return!1}}}function WQ(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():ip;for(const s of r)e[s.name]=s.locations;const i=t.getDocument().definitions;for(const s of i)s.kind===O.DIRECTIVE_DEFINITION&&(e[s.name.value]=s.locations.map(o=>o.value));return{Directive(s,o,a,l,u){const c=s.name.value,h=e[c];if(!h){t.reportError(new q(`Unknown directive "@${c}".`,{nodes:s}));return}const f=jae(u);f&&!h.includes(f)&&t.reportError(new q(`Directive "@${c}" may not be used on ${f}.`,{nodes:s}))}}}function jae(t){const e=t[t.length-1];switch("kind"in e||Rr(!1),e.kind){case O.OPERATION_DEFINITION:return Bae(e.operation);case O.FIELD:return re.FIELD;case O.FRAGMENT_SPREAD:return re.FRAGMENT_SPREAD;case O.INLINE_FRAGMENT:return re.INLINE_FRAGMENT;case O.FRAGMENT_DEFINITION:return re.FRAGMENT_DEFINITION;case O.VARIABLE_DEFINITION:return re.VARIABLE_DEFINITION;case O.SCHEMA_DEFINITION:case O.SCHEMA_EXTENSION:return re.SCHEMA;case O.SCALAR_TYPE_DEFINITION:case O.SCALAR_TYPE_EXTENSION:return re.SCALAR;case O.OBJECT_TYPE_DEFINITION:case O.OBJECT_TYPE_EXTENSION:return re.OBJECT;case O.FIELD_DEFINITION:return re.FIELD_DEFINITION;case O.INTERFACE_TYPE_DEFINITION:case O.INTERFACE_TYPE_EXTENSION:return re.INTERFACE;case O.UNION_TYPE_DEFINITION:case O.UNION_TYPE_EXTENSION:return re.UNION;case O.ENUM_TYPE_DEFINITION:case O.ENUM_TYPE_EXTENSION:return re.ENUM;case O.ENUM_VALUE_DEFINITION:return re.ENUM_VALUE;case O.INPUT_OBJECT_TYPE_DEFINITION:case O.INPUT_OBJECT_TYPE_EXTENSION:return re.INPUT_OBJECT;case O.INPUT_VALUE_DEFINITION:{const n=t[t.length-3];return"kind"in n||Rr(!1),n.kind===O.INPUT_OBJECT_TYPE_DEFINITION?re.INPUT_FIELD_DEFINITION:re.ARGUMENT_DEFINITION}default:Rr(!1,"Unexpected kind: "+X(e.kind))}}function Bae(t){switch(t){case tr.QUERY:return re.QUERY;case tr.MUTATION:return re.MUTATION;case tr.SUBSCRIPTION:return re.SUBSCRIPTION}}function GQ(t){return{FragmentSpread(e){const n=e.name.value;t.getFragment(n)||t.reportError(new q(`Unknown fragment "${n}".`,{nodes:e.name}))}}}function XQ(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);for(const s of t.getDocument().definitions)ew(s)&&(r[s.name.value]=!0);const i=[...Object.keys(n),...Object.keys(r)];return{NamedType(s,o,a,l,u){const c=s.name.value;if(!n[c]&&!r[c]){var h;const f=(h=u[2])!==null&&h!==void 0?h:a,d=f!=null&&Qae(f);if(d&&JR.includes(c))return;const p=Ll(c,d?JR.concat(i):i);t.reportError(new q(`Unknown type "${c}".`+aa(p),{nodes:s}))}}}}const JR=[...PQ,...l_].map(t=>t.name);function Qae(t){return"kind"in t&&(Pae(t)||Dae(t))}function Yae(t){let e=0;return{Document(n){e=n.definitions.filter(r=>r.kind===O.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&e>1&&t.reportError(new q("This anonymous operation must be the only defined operation.",{nodes:n}))}}}function qae(t){var e,n,r;const i=t.getSchema(),s=(e=(n=(r=i==null?void 0:i.astNode)!==null&&r!==void 0?r:i==null?void 0:i.getQueryType())!==null&&n!==void 0?n:i==null?void 0:i.getMutationType())!==null&&e!==void 0?e:i==null?void 0:i.getSubscriptionType();let o=0;return{SchemaDefinition(a){if(s){t.reportError(new q("Cannot define a new schema within a schema extension.",{nodes:a}));return}o>0&&t.reportError(new q("Must provide only one schema definition.",{nodes:a})),++o}}}function zae(t){const e=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return i(s),!1}};function i(s){if(e[s.name.value])return;const o=s.name.value;e[o]=!0;const a=t.getFragmentSpreads(s.selectionSet);if(a.length!==0){r[o]=n.length;for(const l of a){const u=l.name.value,c=r[u];if(n.push(l),c===void 0){const h=t.getFragment(u);h&&i(h)}else{const h=n.slice(c),f=h.slice(0,-1).map(d=>'"'+d.name.value+'"').join(", ");t.reportError(new q(`Cannot spread fragment "${u}" within itself`+(f!==""?` via ${f}.`:"."),{nodes:h}))}n.pop()}r[o]=void 0}}}function Hae(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(n){const r=t.getRecursiveVariableUsages(n);for(const{node:i}of r){const s=i.name.value;e[s]!==!0&&t.reportError(new q(n.name?`Variable "$${s}" is not defined by operation "${n.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(n){e[n.variable.name.value]=!0}}}function KQ(t){const e=[],n=[];return{OperationDefinition(r){return e.push(r),!1},FragmentDefinition(r){return n.push(r),!1},Document:{leave(){const r=Object.create(null);for(const i of e)for(const s of t.getRecursivelyReferencedFragments(i))r[s.name.value]=!0;for(const i of n){const s=i.name.value;r[s]!==!0&&t.reportError(new q(`Fragment "${s}" is never used.`,{nodes:i}))}}}}}function Wae(t){let e=[];return{OperationDefinition:{enter(){e=[]},leave(n){const r=Object.create(null),i=t.getRecursiveVariableUsages(n);for(const{node:s}of i)r[s.name.value]=!0;for(const s of e){const o=s.variable.name.value;r[o]!==!0&&t.reportError(new q(n.name?`Variable "$${o}" is never used in operation "${n.name.value}".`:`Variable "$${o}" is never used.`,{nodes:s}))}}},VariableDefinition(n){e.push(n)}}}function c_(t){switch(t.kind){case O.OBJECT:return{...t,fields:Gae(t.fields)};case O.LIST:return{...t,values:t.values.map(c_)};case O.INT:case O.FLOAT:case O.STRING:case O.BOOLEAN:case O.NULL:case O.ENUM:case O.VARIABLE:return t}}function Gae(t){return t.map(e=>({...e,value:c_(e.value)})).sort((e,n)=>r_(e.name.value,n.name.value))}function JQ(t){return Array.isArray(t)?t.map(([e,n])=>`subfields "${e}" conflict because `+JQ(n)).join(" and "):t}function Xae(t){const e=new tle,n=new Map;return{SelectionSet(r){const i=Kae(t,n,e,t.getParentType(),r);for(const[[s,o],a,l]of i){const u=JQ(o);t.reportError(new q(`Fields "${s}" conflict because ${u}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:a.concat(l)}))}}}}function Kae(t,e,n,r,i){const s=[],[o,a]=Hy(t,e,r,i);if(Zae(t,s,e,n,o),a.length!==0)for(let l=0;l<a.length;l++){qy(t,s,e,n,!1,o,a[l]);for(let u=l+1;u<a.length;u++)zy(t,s,e,n,!1,a[l],a[u])}return s}function qy(t,e,n,r,i,s,o){const a=t.getFragment(o);if(!a)return;const[l,u]=gO(t,n,a);if(s!==l){h_(t,e,n,r,i,s,l);for(const c of u)r.has(c,o,i)||(r.add(c,o,i),qy(t,e,n,r,i,s,c))}}function zy(t,e,n,r,i,s,o){if(s===o||r.has(s,o,i))return;r.add(s,o,i);const a=t.getFragment(s),l=t.getFragment(o);if(!a||!l)return;const[u,c]=gO(t,n,a),[h,f]=gO(t,n,l);h_(t,e,n,r,i,u,h);for(const d of f)zy(t,e,n,r,i,s,d);for(const d of c)zy(t,e,n,r,i,d,o)}function Jae(t,e,n,r,i,s,o,a){const l=[],[u,c]=Hy(t,e,i,s),[h,f]=Hy(t,e,o,a);h_(t,l,e,n,r,u,h);for(const d of f)qy(t,l,e,n,r,u,d);for(const d of c)qy(t,l,e,n,r,h,d);for(const d of c)for(const p of f)zy(t,l,e,n,r,d,p);return l}function Zae(t,e,n,r,i){for(const[s,o]of Object.entries(i))if(o.length>1)for(let a=0;a<o.length;a++)for(let l=a+1;l<o.length;l++){const u=ZQ(t,n,r,!1,s,o[a],o[l]);u&&e.push(u)}}function h_(t,e,n,r,i,s,o){for(const[a,l]of Object.entries(s)){const u=o[a];if(u)for(const c of l)for(const h of u){const f=ZQ(t,n,r,i,a,c,h);f&&e.push(f)}}}function ZQ(t,e,n,r,i,s,o){const[a,l,u]=s,[c,h,f]=o,d=r||a!==c&&at(a)&&at(c);if(!d){const y=l.name.value,w=h.name.value;if(y!==w)return[[i,`"${y}" and "${w}" are different fields`],[l],[h]];if(ZR(l)!==ZR(h))return[[i,"they have differing arguments"],[l],[h]]}const p=u==null?void 0:u.type,g=f==null?void 0:f.type;if(p&&g&&mO(p,g))return[[i,`they return conflicting types "${X(p)}" and "${X(g)}"`],[l],[h]];const v=l.selectionSet,m=h.selectionSet;if(v&&m){const y=Jae(t,e,n,d,Wt(p),v,Wt(g),m);return ele(y,i,l,h)}}function ZR(t){var e;const n=(e=t.arguments)!==null&&e!==void 0?e:[],r={kind:O.OBJECT,fields:n.map(i=>({kind:O.OBJECT_FIELD,name:i.name,value:i.value}))};return Xt(c_(r))}function mO(t,e){return Tn(t)?Tn(e)?mO(t.ofType,e.ofType):!0:Tn(e)?!0:Ge(t)?Ge(e)?mO(t.ofType,e.ofType):!0:Ge(e)?!0:Ec(t)||Ec(e)?t!==e:!1}function Hy(t,e,n,r){const i=e.get(r);if(i)return i;const s=Object.create(null),o=Object.create(null);e4(t,n,r,s,o);const a=[s,Object.keys(o)];return e.set(r,a),a}function gO(t,e,n){const r=e.get(n.selectionSet);if(r)return r;const i=ri(t.getSchema(),n.typeCondition);return Hy(t,e,i,n.selectionSet)}function e4(t,e,n,r,i){for(const s of n.selections)switch(s.kind){case O.FIELD:{const o=s.name.value;let a;(at(e)||lt(e))&&(a=e.getFields()[o]);const l=s.alias?s.alias.value:o;r[l]||(r[l]=[]),r[l].push([e,s,a]);break}case O.FRAGMENT_SPREAD:i[s.name.value]=!0;break;case O.INLINE_FRAGMENT:{const o=s.typeCondition,a=o?ri(t.getSchema(),o):e;e4(t,a,s.selectionSet,r,i);break}}}function ele(t,e,n,r){if(t.length>0)return[[e,t.map(([i])=>i)],[n,...t.map(([,i])=>i).flat()],[r,...t.map(([,,i])=>i).flat()]]}class tle{constructor(){this._data=new Map}has(e,n,r){var i;const[s,o]=e<n?[e,n]:[n,e],a=(i=this._data.get(s))===null||i===void 0?void 0:i.get(o);return a===void 0?!1:r?!0:r===a}add(e,n,r){const[i,s]=e<n?[e,n]:[n,e],o=this._data.get(i);o===void 0?this._data.set(i,new Map([[s,r]])):o.set(s,r)}}function nle(t){return{InlineFragment(e){const n=t.getType(),r=t.getParentType();if(bn(n)&&bn(r)&&!pO(t.getSchema(),n,r)){const i=X(r),s=X(n);t.reportError(new q(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:e}))}},FragmentSpread(e){const n=e.name.value,r=rle(t,n),i=t.getParentType();if(r&&i&&!pO(t.getSchema(),r,i)){const s=X(i),o=X(r);t.reportError(new q(`Fragment "${n}" cannot be spread here as objects of type "${s}" can never be of type "${o}".`,{nodes:e}))}}}}function rle(t,e){const n=t.getFragment(e);if(n){const r=ri(t.getSchema(),n.typeCondition);if(bn(r))return r}}function ile(t){const e=t.getSchema(),n=Object.create(null);for(const i of t.getDocument().definitions)ew(i)&&(n[i.name.value]=i);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(i){const s=i.name.value,o=n[s],a=e==null?void 0:e.getType(s);let l;if(o?l=sle[o.kind]:a&&(l=ole(a)),l){if(l!==i.kind){const u=ale(i.kind);t.reportError(new q(`Cannot extend non-${u} type "${s}".`,{nodes:o?[o,i]:i}))}}else{const u=Object.keys({...n,...e==null?void 0:e.getTypeMap()}),c=Ll(s,u);t.reportError(new q(`Cannot extend type "${s}" because it is not defined.`+aa(c),{nodes:i.name}))}}}const sle={[O.SCALAR_TYPE_DEFINITION]:O.SCALAR_TYPE_EXTENSION,[O.OBJECT_TYPE_DEFINITION]:O.OBJECT_TYPE_EXTENSION,[O.INTERFACE_TYPE_DEFINITION]:O.INTERFACE_TYPE_EXTENSION,[O.UNION_TYPE_DEFINITION]:O.UNION_TYPE_EXTENSION,[O.ENUM_TYPE_DEFINITION]:O.ENUM_TYPE_EXTENSION,[O.INPUT_OBJECT_TYPE_DEFINITION]:O.INPUT_OBJECT_TYPE_EXTENSION};function ole(t){if(ya(t))return O.SCALAR_TYPE_EXTENSION;if(at(t))return O.OBJECT_TYPE_EXTENSION;if(lt(t))return O.INTERFACE_TYPE_EXTENSION;if(ni(t))return O.UNION_TYPE_EXTENSION;if(Mr(t))return O.ENUM_TYPE_EXTENSION;if(_n(t))return O.INPUT_OBJECT_TYPE_EXTENSION;Rr(!1,"Unexpected type: "+X(t))}function ale(t){switch(t){case O.SCALAR_TYPE_EXTENSION:return"scalar";case O.OBJECT_TYPE_EXTENSION:return"object";case O.INTERFACE_TYPE_EXTENSION:return"interface";case O.UNION_TYPE_EXTENSION:return"union";case O.ENUM_TYPE_EXTENSION:return"enum";case O.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:Rr(!1,"Unexpected kind: "+X(t))}}function lle(t){return{...ule(t),Field:{leave(e){var n;const r=t.getFieldDef();if(!r)return!1;const i=new Set((n=e.arguments)===null||n===void 0?void 0:n.map(s=>s.name.value));for(const s of r.args)if(!i.has(s.name)&&np(s)){const o=X(s.type);t.reportError(new q(`Field "${r.name}" argument "${s.name}" of type "${o}" is required, but it was not provided.`,{nodes:e}))}}}}}function ule(t){var e;const n=Object.create(null),r=t.getSchema(),i=(e=r==null?void 0:r.getDirectives())!==null&&e!==void 0?e:ip;for(const a of i)n[a.name]=bc(a.args.filter(np),l=>l.name);const s=t.getDocument().definitions;for(const a of s)if(a.kind===O.DIRECTIVE_DEFINITION){var o;const l=(o=a.arguments)!==null&&o!==void 0?o:[];n[a.name.value]=bc(l.filter(cle),u=>u.name.value)}return{Directive:{leave(a){const l=a.name.value,u=n[l];if(u){var c;const h=(c=a.arguments)!==null&&c!==void 0?c:[],f=new Set(h.map(d=>d.name.value));for(const[d,p]of Object.entries(u))if(!f.has(d)){const g=i_(p.type)?X(p.type):Xt(p.type);t.reportError(new q(`Directive "@${l}" argument "${d}" of type "${g}" is required, but it was not provided.`,{nodes:a}))}}}}}}function cle(t){return t.type.kind===O.NON_NULL_TYPE&&t.defaultValue==null}function hle(t){return{Field(e){const n=t.getType(),r=e.selectionSet;if(n){if(Ec(Wt(n))){if(r){const i=e.name.value,s=X(n);t.reportError(new q(`Field "${i}" must not have a selection since type "${s}" has no subfields.`,{nodes:r}))}}else if(!r){const i=e.name.value,s=X(n);t.reportError(new q(`Field "${i}" of type "${s}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:e}))}}}}}function wu(t,e,n){if(t){if(t.kind===O.VARIABLE){const r=t.name.value;if(n==null||n[r]===void 0)return;const i=n[r];return i===null&&Ge(e)?void 0:i}if(Ge(e))return t.kind===O.NULL?void 0:wu(t,e.ofType,n);if(t.kind===O.NULL)return null;if(Tn(e)){const r=e.ofType;if(t.kind===O.LIST){const s=[];for(const o of t.values)if(eP(o,n)){if(Ge(r))return;s.push(null)}else{const a=wu(o,r,n);if(a===void 0)return;s.push(a)}return s}const i=wu(t,r,n);return i===void 0?void 0:[i]}if(_n(e)){if(t.kind!==O.OBJECT)return;const r=Object.create(null),i=bc(t.fields,s=>s.name.value);for(const s of Object.values(e.getFields())){const o=i[s.name];if(!o||eP(o.value,n)){if(s.defaultValue!==void 0)r[s.name]=s.defaultValue;else if(Ge(s.type))return;continue}const a=wu(o.value,s.type,n);if(a===void 0)return;r[s.name]=a}return r}if(Ec(e)){let r;try{r=e.parseLiteral(t,n)}catch{return}return r===void 0?void 0:r}Rr(!1,"Unexpected input type: "+X(e))}}function eP(t,e){return t.kind===O.VARIABLE&&(e==null||e[t.name.value]===void 0)}function fle(t,e,n){var r;const i={},s=(r=e.arguments)!==null&&r!==void 0?r:[],o=bc(s,a=>a.name.value);for(const a of t.args){const l=a.name,u=a.type,c=o[l];if(!c){if(a.defaultValue!==void 0)i[l]=a.defaultValue;else if(Ge(u))throw new q(`Argument "${l}" of required type "${X(u)}" was not provided.`,{nodes:e});continue}const h=c.value;let f=h.kind===O.NULL;if(h.kind===O.VARIABLE){const p=h.name.value;if(n==null||!dle(n,p)){if(a.defaultValue!==void 0)i[l]=a.defaultValue;else if(Ge(u))throw new q(`Argument "${l}" of required type "${X(u)}" was provided the variable "$${p}" which was not provided a runtime value.`,{nodes:h});continue}f=n[p]==null}if(f&&Ge(u))throw new q(`Argument "${l}" of non-null type "${X(u)}" must not be null.`,{nodes:h});const d=wu(h,u,n);if(d===void 0)throw new q(`Argument "${l}" has invalid value ${Xt(h)}.`,{nodes:h});i[l]=d}return i}function tP(t,e,n){var r;const i=(r=e.directives)===null||r===void 0?void 0:r.find(s=>s.name.value===t.name);if(i)return fle(t,i,n)}function dle(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ple(t,e,n,r,i){const s=new Map;return yO(t,e,n,r,i,s,new Set),s}function yO(t,e,n,r,i,s,o){for(const a of i.selections)switch(a.kind){case O.FIELD:{if(!aS(n,a))continue;const l=mle(a),u=s.get(l);u!==void 0?u.push(a):s.set(l,[a]);break}case O.INLINE_FRAGMENT:{if(!aS(n,a)||!nP(t,a,r))continue;yO(t,e,n,r,a.selectionSet,s,o);break}case O.FRAGMENT_SPREAD:{const l=a.name.value;if(o.has(l)||!aS(n,a))continue;o.add(l);const u=e[l];if(!u||!nP(t,u,r))continue;yO(t,e,n,r,u.selectionSet,s,o);break}}}function aS(t,e){const n=tP(MQ,e,t);if((n==null?void 0:n.if)===!0)return!1;const r=tP(LQ,e,t);return(r==null?void 0:r.if)!==!1}function nP(t,e,n){const r=e.typeCondition;if(!r)return!0;const i=ri(t,r);return i===n?!0:Ds(i)?t.isSubType(i,n):!1}function mle(t){return t.alias?t.alias.value:t.name.value}function gle(t){return{OperationDefinition(e){if(e.operation==="subscription"){const n=t.getSchema(),r=n.getSubscriptionType();if(r){const i=e.name?e.name.value:null,s=Object.create(null),o=t.getDocument(),a=Object.create(null);for(const u of o.definitions)u.kind===O.FRAGMENT_DEFINITION&&(a[u.name.value]=u);const l=ple(n,a,s,r,e.selectionSet);if(l.size>1){const h=[...l.values()].slice(1).flat();t.reportError(new q(i!=null?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:h}))}for(const u of l.values())u[0].name.value.startsWith("__")&&t.reportError(new q(i!=null?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:u}))}}}}}function t4(t,e){const n=new Map;for(const r of t){const i=e(r),s=n.get(i);s===void 0?n.set(i,[r]):s.push(r)}return n}function n4(t){return{Field:e,Directive:e};function e(n){var r;const i=(r=n.arguments)!==null&&r!==void 0?r:[],s=t4(i,o=>o.name.value);for(const[o,a]of s)a.length>1&&t.reportError(new q(`There can be only one argument named "${o}".`,{nodes:a.map(l=>l.name)}))}}function yle(t){const e=Object.create(null),n=t.getSchema();return{DirectiveDefinition(r){const i=r.name.value;if(n!=null&&n.getDirective(i)){t.reportError(new q(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}));return}return e[i]?t.reportError(new q(`There can be only one directive named "@${i}".`,{nodes:[e[i],r.name]})):e[i]=r.name,!1}}}function r4(t){const e=Object.create(null),n=t.getSchema(),r=n?n.getDirectives():ip;for(const a of r)e[a.name]=!a.isRepeatable;const i=t.getDocument().definitions;for(const a of i)a.kind===O.DIRECTIVE_DEFINITION&&(e[a.name.value]=!a.repeatable);const s=Object.create(null),o=Object.create(null);return{enter(a){if(!("directives"in a)||!a.directives)return;let l;if(a.kind===O.SCHEMA_DEFINITION||a.kind===O.SCHEMA_EXTENSION)l=s;else if(ew(a)||zQ(a)){const u=a.name.value;l=o[u],l===void 0&&(o[u]=l=Object.create(null))}else l=Object.create(null);for(const u of a.directives){const c=u.name.value;e[c]&&(l[c]?t.reportError(new q(`The directive "@${c}" can only be used once at this location.`,{nodes:[l[c],u]})):l[c]=u)}}}}function vle(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(s){var o;const a=s.name.value;r[a]||(r[a]=Object.create(null));const l=(o=s.values)!==null&&o!==void 0?o:[],u=r[a];for(const c of l){const h=c.name.value,f=n[a];Mr(f)&&f.getValue(h)?t.reportError(new q(`Enum value "${a}.${h}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:c.name})):u[h]?t.reportError(new q(`Enum value "${a}.${h}" can only be defined once.`,{nodes:[u[h],c.name]})):u[h]=c.name}return!1}}function wle(t){const e=t.getSchema(),n=e?e.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(s){var o;const a=s.name.value;r[a]||(r[a]=Object.create(null));const l=(o=s.fields)!==null&&o!==void 0?o:[],u=r[a];for(const c of l){const h=c.name.value;Sle(n[a],h)?t.reportError(new q(`Field "${a}.${h}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:c.name})):u[h]?t.reportError(new q(`Field "${a}.${h}" can only be defined once.`,{nodes:[u[h],c.name]})):u[h]=c.name}return!1}}function Sle(t,e){return at(t)||lt(t)||_n(t)?t.getFields()[e]!=null:!1}function ble(t){const e=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const r=n.name.value;return e[r]?t.reportError(new q(`There can be only one fragment named "${r}".`,{nodes:[e[r],n.name]})):e[r]=n.name,!1}}}function i4(t){const e=[];let n=Object.create(null);return{ObjectValue:{enter(){e.push(n),n=Object.create(null)},leave(){const r=e.pop();r||Rr(!1),n=r}},ObjectField(r){const i=r.name.value;n[i]?t.reportError(new q(`There can be only one input field named "${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name}}}function Ele(t){const e=Object.create(null);return{OperationDefinition(n){const r=n.name;return r&&(e[r.value]?t.reportError(new q(`There can be only one operation named "${r.value}".`,{nodes:[e[r.value],r]})):e[r.value]=r),!1},FragmentDefinition:()=>!1}}function Ole(t){const e=t.getSchema(),n=Object.create(null),r=e?{query:e.getQueryType(),mutation:e.getMutationType(),subscription:e.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(s){var o;const a=(o=s.operationTypes)!==null&&o!==void 0?o:[];for(const l of a){const u=l.operation,c=n[u];r[u]?t.reportError(new q(`Type for ${u} already defined in the schema. It cannot be redefined.`,{nodes:l})):c?t.reportError(new q(`There can be only one ${u} type in schema.`,{nodes:[c,l]})):n[u]=l}return!1}}function Tle(t){const e=Object.create(null),n=t.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(i){const s=i.name.value;if(n!=null&&n.getType(s)){t.reportError(new q(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:i.name}));return}return e[s]?t.reportError(new q(`There can be only one type named "${s}".`,{nodes:[e[s],i.name]})):e[s]=i.name,!1}}function kle(t){return{OperationDefinition(e){var n;const r=(n=e.variableDefinitions)!==null&&n!==void 0?n:[],i=t4(r,s=>s.variable.name.value);for(const[s,o]of i)o.length>1&&t.reportError(new q(`There can be only one variable named "$${s}".`,{nodes:o.map(a=>a.variable.name)}))}}}function xle(t){return{ListValue(e){const n=o_(t.getParentInputType());if(!Tn(n))return Sa(t,e),!1},ObjectValue(e){const n=Wt(t.getInputType());if(!_n(n))return Sa(t,e),!1;const r=bc(e.fields,i=>i.name.value);for(const i of Object.values(n.getFields()))if(!r[i.name]&&NQ(i)){const o=X(i.type);t.reportError(new q(`Field "${n.name}.${i.name}" of required type "${o}" was not provided.`,{nodes:e}))}},ObjectField(e){const n=Wt(t.getParentInputType());if(!t.getInputType()&&_n(n)){const i=Ll(e.name.value,Object.keys(n.getFields()));t.reportError(new q(`Field "${e.name.value}" is not defined by type "${n.name}".`+aa(i),{nodes:e}))}},NullValue(e){const n=t.getInputType();Ge(n)&&t.reportError(new q(`Expected value of type "${X(n)}", found ${Xt(e)}.`,{nodes:e}))},EnumValue:e=>Sa(t,e),IntValue:e=>Sa(t,e),FloatValue:e=>Sa(t,e),StringValue:e=>Sa(t,e),BooleanValue:e=>Sa(t,e)}}function Sa(t,e){const n=t.getInputType();if(!n)return;const r=Wt(n);if(!Ec(r)){const i=X(n);t.reportError(new q(`Expected value of type "${i}", found ${Xt(e)}.`,{nodes:e}));return}try{if(r.parseLiteral(e,void 0)===void 0){const s=X(n);t.reportError(new q(`Expected value of type "${s}", found ${Xt(e)}.`,{nodes:e}))}}catch(i){const s=X(n);i instanceof q?t.reportError(i):t.reportError(new q(`Expected value of type "${s}", found ${Xt(e)}; `+i.message,{nodes:e,originalError:i}))}}function _le(t){return{VariableDefinition(e){const n=ri(t.getSchema(),e.type);if(n!==void 0&&!xr(n)){const r=e.variable.name.value,i=Xt(e.type);t.reportError(new q(`Variable "$${r}" cannot be non-input type "${i}".`,{nodes:e.type}))}}}}function Cle(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(n){const r=t.getRecursiveVariableUsages(n);for(const{node:i,type:s,defaultValue:o}of r){const a=i.name.value,l=e[a];if(l&&s){const u=t.getSchema(),c=ri(u,l.type);if(c&&!Ile(u,c,l.defaultValue,s,o)){const h=X(c),f=X(s);t.reportError(new q(`Variable "$${a}" of type "${h}" used in position expecting type "${f}".`,{nodes:[l,i]}))}}}}},VariableDefinition(n){e[n.variable.name.value]=n}}}function Ile(t,e,n,r,i){if(Ge(r)&&!Ge(e)){if(!(n!=null&&n.kind!==O.NULL)&&!(i!==void 0))return!1;const a=r.ofType;return Qu(t,e,a)}return Qu(t,e,r)}const s4=Object.freeze([HQ,Ele,Yae,gle,XQ,$ae,_le,hle,Lae,ble,GQ,KQ,nle,zae,kle,Hae,Wae,WQ,r4,Uae,n4,xle,lle,Cle,Xae,i4]);class Ale{constructor(e,n){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const r of this.getDocument().definitions)r.kind===O.FRAGMENT_DEFINITION&&(n[r.name.value]=r);this._fragments=n}return n[e]}getFragmentSpreads(e){let n=this._fragmentSpreads.get(e);if(!n){n=[];const r=[e];let i;for(;i=r.pop();)for(const s of i.selections)s.kind===O.FRAGMENT_SPREAD?n.push(s):s.selectionSet&&r.push(s.selectionSet);this._fragmentSpreads.set(e,n)}return n}getRecursivelyReferencedFragments(e){let n=this._recursivelyReferencedFragments.get(e);if(!n){n=[];const r=Object.create(null),i=[e.selectionSet];let s;for(;s=i.pop();)for(const o of this.getFragmentSpreads(s)){const a=o.name.value;if(r[a]!==!0){r[a]=!0;const l=this.getFragment(a);l&&(n.push(l),i.push(l.selectionSet))}}this._recursivelyReferencedFragments.set(e,n)}return n}}class Nle extends Ale{constructor(e,n,r,i){super(n,i),this._schema=e,this._typeInfo=r,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let n=this._variableUsages.get(e);if(!n){const r=[],i=new YQ(this._schema);tp(e,qQ(i,{VariableDefinition:()=>!1,Variable(s){r.push({node:s,type:i.getInputType(),defaultValue:i.getDefaultValue()})}})),n=r,this._variableUsages.set(e,n)}return n}getRecursiveVariableUsages(e){let n=this._recursiveVariableUsages.get(e);if(!n){n=this.getVariableUsages(e);for(const r of this.getRecursivelyReferencedFragments(e))n=n.concat(this.getVariableUsages(r));this._recursiveVariableUsages.set(e,n)}return n}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function o4(t,e,n=s4,r,i=new YQ(t)){var s;const o=(s=r==null?void 0:r.maxErrors)!==null&&s!==void 0?s:100;e||Ve(!1,"Must provide document."),Sae(t);const a=Object.freeze({}),l=[],u=new Nle(t,e,i,h=>{if(l.length>=o)throw l.push(new q("Too many validation errors, error limit reached. Validation aborted.")),a;l.push(h)}),c=Zoe(n.map(h=>h(u)));try{tp(e,qQ(i,c))}catch(h){if(h!==a)throw h}return l}function Rle(t){return{Field(e){const n=t.getFieldDef(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=t.getParentType();i!=null||Rr(!1),t.reportError(new q(`The field ${i.name}.${n.name} is deprecated. ${r}`,{nodes:e}))}},Argument(e){const n=t.getArgument(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=t.getDirective();if(i!=null)t.reportError(new q(`Directive "@${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:e}));else{const s=t.getParentType(),o=t.getFieldDef();s!=null&&o!=null||Rr(!1),t.reportError(new q(`Field "${s.name}.${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:e}))}}},ObjectField(e){const n=Wt(t.getParentInputType());if(_n(n)){const r=n.getFields()[e.name.value],i=r==null?void 0:r.deprecationReason;i!=null&&t.reportError(new q(`The input field ${n.name}.${r.name} is deprecated. ${i}`,{nodes:e}))}},EnumValue(e){const n=t.getEnumValue(),r=n==null?void 0:n.deprecationReason;if(n&&r!=null){const i=Wt(t.getInputType());i!=null||Rr(!1),t.reportError(new q(`The enum value "${i.name}.${n.name}" is deprecated. ${r}`,{nodes:e}))}}}}function Ple(t){const e={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...t},n=e.descriptions?"description":"",r=e.specifiedByUrl?"specifiedByURL":"",i=e.directiveIsRepeatable?"isRepeatable":"",s=e.schemaDescription?n:"";function o(a){return e.inputValueDeprecation?a:""}return`
    query IntrospectionQuery {
      __schema {
        ${s}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${n}
          ${i}
          locations
          args${o("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${n}
      ${r}
      fields(includeDeprecated: true) {
        name
        ${n}
        args${o("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${o("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${n}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${n}
      type { ...TypeRef }
      defaultValue
      ${o("isDeprecated")}
      ${o("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  `}function Dle(t,e){Ks(t)&&Ks(t.__schema)||Ve(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${X(t)}.`);const n=t.__schema,r=Ba(n.types,T=>T.name,T=>f(T));for(const T of[...PQ,...l_])r[T.name]&&(r[T.name]=T);const i=n.queryType?c(n.queryType):null,s=n.mutationType?c(n.mutationType):null,o=n.subscriptionType?c(n.subscriptionType):null,a=n.directives?n.directives.map(R):[];return new QQ({description:n.description,query:i,mutation:s,subscription:o,types:Object.values(r),directives:a,assumeValid:e==null?void 0:e.assumeValid});function l(T){if(T.kind===Xe.LIST){const C=T.ofType;if(!C)throw new Error("Decorated type deeper than introspection query.");return new Un(l(C))}if(T.kind===Xe.NON_NULL){const C=T.ofType;if(!C)throw new Error("Decorated type deeper than introspection query.");const B=l(C);return new xe(oae(B))}return u(T)}function u(T){const C=T.name;if(!C)throw new Error(`Unknown type reference: ${X(T)}.`);const B=r[C];if(!B)throw new Error(`Invalid or incomplete schema, unknown type: ${C}. Ensure that a full introspection query is used in order to build a client schema.`);return B}function c(T){return rae(u(T))}function h(T){return iae(u(T))}function f(T){if(T!=null&&T.name!=null&&T.kind!=null)switch(T.kind){case Xe.SCALAR:return d(T);case Xe.OBJECT:return g(T);case Xe.INTERFACE:return v(T);case Xe.UNION:return m(T);case Xe.ENUM:return y(T);case Xe.INPUT_OBJECT:return w(T)}const C=X(T);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${C}.`)}function d(T){return new Ml({name:T.name,description:T.description,specifiedByURL:T.specifiedByURL})}function p(T){if(T.interfaces===null&&T.kind===Xe.INTERFACE)return[];if(!T.interfaces){const C=X(T);throw new Error(`Introspection result missing interfaces: ${C}.`)}return T.interfaces.map(h)}function g(T){return new Ri({name:T.name,description:T.description,interfaces:()=>p(T),fields:()=>S(T)})}function v(T){return new Bu({name:T.name,description:T.description,interfaces:()=>p(T),fields:()=>S(T)})}function m(T){if(!T.possibleTypes){const C=X(T);throw new Error(`Introspection result missing possibleTypes: ${C}.`)}return new AQ({name:T.name,description:T.description,types:()=>T.possibleTypes.map(c)})}function y(T){if(!T.enumValues){const C=X(T);throw new Error(`Introspection result missing enumValues: ${C}.`)}return new la({name:T.name,description:T.description,values:Ba(T.enumValues,C=>C.name,C=>({description:C.description,deprecationReason:C.deprecationReason}))})}function w(T){if(!T.inputFields){const C=X(T);throw new Error(`Introspection result missing inputFields: ${C}.`)}return new J0({name:T.name,description:T.description,fields:()=>k(T.inputFields)})}function S(T){if(!T.fields)throw new Error(`Introspection result missing fields: ${X(T)}.`);return Ba(T.fields,C=>C.name,b)}function b(T){const C=l(T.type);if(!Ka(C)){const B=X(C);throw new Error(`Introspection must provide output type for fields, but received: ${B}.`)}if(!T.args){const B=X(T);throw new Error(`Introspection result missing field args: ${B}.`)}return{description:T.description,deprecationReason:T.deprecationReason,type:C,args:k(T.args)}}function k(T){return Ba(T,C=>C.name,_)}function _(T){const C=l(T.type);if(!xr(C)){const G=X(C);throw new Error(`Introspection must provide input type for arguments, but received: ${G}.`)}const B=T.defaultValue!=null?wu(qoe(T.defaultValue),C):void 0;return{description:T.description,type:C,defaultValue:B,deprecationReason:T.deprecationReason}}function R(T){if(!T.args){const C=X(T);throw new Error(`Introspection result missing directive args: ${C}.`)}if(!T.locations){const C=X(T);throw new Error(`Introspection result missing directive locations: ${C}.`)}return new Hc({name:T.name,description:T.description,isRepeatable:T.isRepeatable,locations:T.locations.slice(),args:k(T.args)})}}function Lle(t){let e;return a4(t,n=>{switch(n.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":e=n;break}}),e}function rP(t,e,n){return n===sd.name&&t.getQueryType()===e?sd:n===od.name&&t.getQueryType()===e?od:n===ad.name&&bn(e)?ad:"getFields"in e?e.getFields()[n]:null}function a4(t,e){const n=[];let r=t;for(;r!=null&&r.kind;)n.push(r),r=r.prevState;for(let i=n.length-1;i>=0;i--)e(n[i])}function wl(t){const e=Object.keys(t),n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=t[e[i]];return r}function mt(t,e){return Mle(e,l4(t.string))}function Mle(t,e){if(!e)return lS(t,r=>!r.isDeprecated);const n=t.map(r=>({proximity:Fle(l4(r.label),e),entry:r}));return lS(lS(n,r=>r.proximity<=2),r=>!r.entry.isDeprecated).sort((r,i)=>(r.entry.isDeprecated?1:0)-(i.entry.isDeprecated?1:0)||r.proximity-i.proximity||r.entry.label.length-i.entry.label.length).map(r=>r.entry)}function lS(t,e){const n=t.filter(e);return n.length===0?t:n}function l4(t){return t.toLowerCase().replaceAll(/\W/g,"")}function Fle(t,e){let n=$le(e,t);return t.length>e.length&&(n-=t.length-e.length-1,n+=t.indexOf(e)===0?0:.5),n}function $le(t,e){let n,r;const i=[],s=t.length,o=e.length;for(n=0;n<=s;n++)i[n]=[n];for(r=1;r<=o;r++)i[0][r]=r;for(n=1;n<=s;n++)for(r=1;r<=o;r++){const a=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+a),n>1&&r>1&&t[n-1]===e[r-2]&&t[n-2]===e[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+a))}return i[s][o]}var iP;(function(t){function e(n){return typeof n=="string"}t.is=e})(iP||(iP={}));var vO;(function(t){function e(n){return typeof n=="string"}t.is=e})(vO||(vO={}));var sP;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(sP||(sP={}));var Wy;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Wy||(Wy={}));var vi;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=Wy.MAX_VALUE),i===Number.MAX_VALUE&&(i=Wy.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&P.uinteger(i.line)&&P.uinteger(i.character)}t.is=n})(vi||(vi={}));var Pt;(function(t){function e(r,i,s,o){if(P.uinteger(r)&&P.uinteger(i)&&P.uinteger(s)&&P.uinteger(o))return{start:vi.create(r,i),end:vi.create(s,o)};if(vi.is(r)&&vi.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(s,", ").concat(o,"]"))}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&vi.is(i.start)&&vi.is(i.end)}t.is=n})(Pt||(Pt={}));var Gy;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&Pt.is(i.range)&&(P.string(i.uri)||P.undefined(i.uri))}t.is=n})(Gy||(Gy={}));var oP;(function(t){function e(r,i,s,o){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&Pt.is(i.targetRange)&&P.string(i.targetUri)&&Pt.is(i.targetSelectionRange)&&(Pt.is(i.originSelectionRange)||P.undefined(i.originSelectionRange))}t.is=n})(oP||(oP={}));var wO;(function(t){function e(r,i,s,o){return{red:r,green:i,blue:s,alpha:o}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&P.numberRange(i.red,0,1)&&P.numberRange(i.green,0,1)&&P.numberRange(i.blue,0,1)&&P.numberRange(i.alpha,0,1)}t.is=n})(wO||(wO={}));var aP;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&Pt.is(i.range)&&wO.is(i.color)}t.is=n})(aP||(aP={}));var lP;(function(t){function e(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&P.string(i.label)&&(P.undefined(i.textEdit)||Ls.is(i))&&(P.undefined(i.additionalTextEdits)||P.typedArray(i.additionalTextEdits,Ls.is))}t.is=n})(lP||(lP={}));var uP;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(uP||(uP={}));var cP;(function(t){function e(r,i,s,o,a,l){var u={startLine:r,endLine:i};return P.defined(s)&&(u.startCharacter=s),P.defined(o)&&(u.endCharacter=o),P.defined(a)&&(u.kind=a),P.defined(l)&&(u.collapsedText=l),u}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&P.uinteger(i.startLine)&&P.uinteger(i.startLine)&&(P.undefined(i.startCharacter)||P.uinteger(i.startCharacter))&&(P.undefined(i.endCharacter)||P.uinteger(i.endCharacter))&&(P.undefined(i.kind)||P.string(i.kind))}t.is=n})(cP||(cP={}));var SO;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&Gy.is(i.location)&&P.string(i.message)}t.is=n})(SO||(SO={}));var hP;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(hP||(hP={}));var fP;(function(t){t.Unnecessary=1,t.Deprecated=2})(fP||(fP={}));var dP;(function(t){function e(n){var r=n;return P.objectLiteral(r)&&P.string(r.href)}t.is=e})(dP||(dP={}));var Xy;(function(t){function e(r,i,s,o,a,l){var u={range:r,message:i};return P.defined(s)&&(u.severity=s),P.defined(o)&&(u.code=o),P.defined(a)&&(u.source=a),P.defined(l)&&(u.relatedInformation=l),u}t.create=e;function n(r){var i,s=r;return P.defined(s)&&Pt.is(s.range)&&P.string(s.message)&&(P.number(s.severity)||P.undefined(s.severity))&&(P.integer(s.code)||P.string(s.code)||P.undefined(s.code))&&(P.undefined(s.codeDescription)||P.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(P.string(s.source)||P.undefined(s.source))&&(P.undefined(s.relatedInformation)||P.typedArray(s.relatedInformation,SO.is))}t.is=n})(Xy||(Xy={}));var Oc;(function(t){function e(r,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a={title:r,command:i};return P.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function n(r){var i=r;return P.defined(i)&&P.string(i.title)&&P.string(i.command)}t.is=n})(Oc||(Oc={}));var Ls;(function(t){function e(s,o){return{range:s,newText:o}}t.replace=e;function n(s,o){return{range:{start:s,end:s},newText:o}}t.insert=n;function r(s){return{range:s,newText:""}}t.del=r;function i(s){var o=s;return P.objectLiteral(o)&&P.string(o.newText)&&Pt.is(o.range)}t.is=i})(Ls||(Ls={}));var Yu;(function(t){function e(r,i,s){var o={label:r};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&P.string(i.label)&&(P.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(P.string(i.description)||i.description===void 0)}t.is=n})(Yu||(Yu={}));var Fn;(function(t){function e(n){var r=n;return P.string(r)}t.is=e})(Fn||(Fn={}));var ho;(function(t){function e(s,o,a){return{range:s,newText:o,annotationId:a}}t.replace=e;function n(s,o,a){return{range:{start:s,end:s},newText:o,annotationId:a}}t.insert=n;function r(s,o){return{range:s,newText:"",annotationId:o}}t.del=r;function i(s){var o=s;return Ls.is(o)&&(Yu.is(o.annotationId)||Fn.is(o.annotationId))}t.is=i})(ho||(ho={}));var Ky;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&Jy.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(Ky||(Ky={}));var ld;(function(t){function e(r,i,s){var o={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function n(r){var i=r;return i&&i.kind==="create"&&P.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||P.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||P.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Fn.is(i.annotationId))}t.is=n})(ld||(ld={}));var ud;(function(t){function e(r,i,s,o){var a={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),o!==void 0&&(a.annotationId=o),a}t.create=e;function n(r){var i=r;return i&&i.kind==="rename"&&P.string(i.oldUri)&&P.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||P.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||P.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Fn.is(i.annotationId))}t.is=n})(ud||(ud={}));var cd;(function(t){function e(r,i,s){var o={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function n(r){var i=r;return i&&i.kind==="delete"&&P.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||P.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||P.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Fn.is(i.annotationId))}t.is=n})(cd||(cd={}));var bO;(function(t){function e(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return P.string(i.kind)?ld.is(i)||ud.is(i)||cd.is(i):Ky.is(i)}))}t.is=e})(bO||(bO={}));var hm=function(){function t(e,n){this.edits=e,this.changeAnnotations=n}return t.prototype.insert=function(e,n,r){var i,s;if(r===void 0?i=Ls.insert(e,n):Fn.is(r)?(s=r,i=ho.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=ho.insert(e,n,s)),this.edits.push(i),s!==void 0)return s},t.prototype.replace=function(e,n,r){var i,s;if(r===void 0?i=Ls.replace(e,n):Fn.is(r)?(s=r,i=ho.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=ho.replace(e,n,s)),this.edits.push(i),s!==void 0)return s},t.prototype.delete=function(e,n){var r,i;if(n===void 0?r=Ls.del(e):Fn.is(n)?(i=n,r=ho.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=ho.del(e,i)),this.edits.push(r),i!==void 0)return i},t.prototype.add=function(e){this.edits.push(e)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),pP=function(){function t(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(e,n){var r;if(Fn.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}();(function(){function t(e){var n=this;this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new pP(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(r){if(Ky.is(r)){var i=new hm(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):e.changes&&Object.keys(e.changes).forEach(function(r){var i=new hm(e.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(e){if(Jy.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:e.uri,version:e.version},r=this._textEditChanges[n.uri];if(!r){var i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new hm(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[e];if(!r){var i=[];this._workspaceEdit.changes[e]=i,r=new hm(i),this._textEditChanges[e]=r}return r}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new pP,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Yu.is(n)||Fn.is(n)?i=n:r=n;var s,o;if(i===void 0?s=ld.create(e,r):(o=Fn.is(i)?i:this._changeAnnotations.manage(i),s=ld.create(e,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t.prototype.renameFile=function(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;Yu.is(r)||Fn.is(r)?s=r:i=r;var o,a;if(s===void 0?o=ud.create(e,n,i):(a=Fn.is(s)?s:this._changeAnnotations.manage(s),o=ud.create(e,n,i,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t.prototype.deleteFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Yu.is(n)||Fn.is(n)?i=n:r=n;var s,o;if(i===void 0?s=cd.create(e,r):(o=Fn.is(i)?i:this._changeAnnotations.manage(i),s=cd.create(e,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t})();var mP;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)}t.is=n})(mP||(mP={}));var gP;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&P.integer(i.version)}t.is=n})(gP||(gP={}));var Jy;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&(i.version===null||P.integer(i.version))}t.is=n})(Jy||(Jy={}));var yP;(function(t){function e(r,i,s,o){return{uri:r,languageId:i,version:s,text:o}}t.create=e;function n(r){var i=r;return P.defined(i)&&P.string(i.uri)&&P.string(i.languageId)&&P.integer(i.version)&&P.string(i.text)}t.is=n})(yP||(yP={}));var EO;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){var r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(EO||(EO={}));var hd;(function(t){function e(n){var r=n;return P.objectLiteral(n)&&EO.is(r.kind)&&P.string(r.value)}t.is=e})(hd||(hd={}));var vP;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(vP||(vP={}));var OO;(function(t){t.PlainText=1,t.Snippet=2})(OO||(OO={}));var wP;(function(t){t.Deprecated=1})(wP||(wP={}));var SP;(function(t){function e(r,i,s){return{newText:r,insert:i,replace:s}}t.create=e;function n(r){var i=r;return i&&P.string(i.newText)&&Pt.is(i.insert)&&Pt.is(i.replace)}t.is=n})(SP||(SP={}));var bP;(function(t){t.asIs=1,t.adjustIndentation=2})(bP||(bP={}));var EP;(function(t){function e(n){var r=n;return r&&(P.string(r.detail)||r.detail===void 0)&&(P.string(r.description)||r.description===void 0)}t.is=e})(EP||(EP={}));var OP;(function(t){function e(n){return{label:n}}t.create=e})(OP||(OP={}));var TP;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(TP||(TP={}));var Zy;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){var i=r;return P.string(i)||P.objectLiteral(i)&&P.string(i.language)&&P.string(i.value)}t.is=n})(Zy||(Zy={}));var kP;(function(t){function e(n){var r=n;return!!r&&P.objectLiteral(r)&&(hd.is(r.contents)||Zy.is(r.contents)||P.typedArray(r.contents,Zy.is))&&(n.range===void 0||Pt.is(n.range))}t.is=e})(kP||(kP={}));var xP;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(xP||(xP={}));var _P;(function(t){function e(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:n};return P.defined(r)&&(o.documentation=r),P.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e})(_P||(_P={}));var CP;(function(t){t.Text=1,t.Read=2,t.Write=3})(CP||(CP={}));var IP;(function(t){function e(n,r){var i={range:n};return P.number(r)&&(i.kind=r),i}t.create=e})(IP||(IP={}));var AP;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(AP||(AP={}));var NP;(function(t){t.Deprecated=1})(NP||(NP={}));var RP;(function(t){function e(n,r,i,s,o){var a={name:n,kind:r,location:{uri:s,range:i}};return o&&(a.containerName=o),a}t.create=e})(RP||(RP={}));var PP;(function(t){function e(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(PP||(PP={}));var DP;(function(t){function e(r,i,s,o,a,l){var u={name:r,detail:i,kind:s,range:o,selectionRange:a};return l!==void 0&&(u.children=l),u}t.create=e;function n(r){var i=r;return i&&P.string(i.name)&&P.number(i.kind)&&Pt.is(i.range)&&Pt.is(i.selectionRange)&&(i.detail===void 0||P.string(i.detail))&&(i.deprecated===void 0||P.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(DP||(DP={}));var LP;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(LP||(LP={}));var ev;(function(t){t.Invoked=1,t.Automatic=2})(ev||(ev={}));var MP;(function(t){function e(r,i,s){var o={diagnostics:r};return i!=null&&(o.only=i),s!=null&&(o.triggerKind=s),o}t.create=e;function n(r){var i=r;return P.defined(i)&&P.typedArray(i.diagnostics,Xy.is)&&(i.only===void 0||P.typedArray(i.only,P.string))&&(i.triggerKind===void 0||i.triggerKind===ev.Invoked||i.triggerKind===ev.Automatic)}t.is=n})(MP||(MP={}));var FP;(function(t){function e(r,i,s){var o={title:r},a=!0;return typeof i=="string"?(a=!1,o.kind=i):Oc.is(i)?o.command=i:o.edit=i,a&&s!==void 0&&(o.kind=s),o}t.create=e;function n(r){var i=r;return i&&P.string(i.title)&&(i.diagnostics===void 0||P.typedArray(i.diagnostics,Xy.is))&&(i.kind===void 0||P.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Oc.is(i.command))&&(i.isPreferred===void 0||P.boolean(i.isPreferred))&&(i.edit===void 0||bO.is(i.edit))}t.is=n})(FP||(FP={}));var $P;(function(t){function e(r,i){var s={range:r};return P.defined(i)&&(s.data=i),s}t.create=e;function n(r){var i=r;return P.defined(i)&&Pt.is(i.range)&&(P.undefined(i.command)||Oc.is(i.command))}t.is=n})($P||($P={}));var UP;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&P.uinteger(i.tabSize)&&P.boolean(i.insertSpaces)}t.is=n})(UP||(UP={}));var VP;(function(t){function e(r,i,s){return{range:r,target:i,data:s}}t.create=e;function n(r){var i=r;return P.defined(i)&&Pt.is(i.range)&&(P.undefined(i.target)||P.string(i.target))}t.is=n})(VP||(VP={}));var jP;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&Pt.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(jP||(jP={}));var BP;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(BP||(BP={}));var QP;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(QP||(QP={}));var YP;(function(t){function e(n){var r=n;return P.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(YP||(YP={}));var qP;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){var i=r;return i!=null&&Pt.is(i.range)&&P.string(i.text)}t.is=n})(qP||(qP={}));var zP;(function(t){function e(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}t.create=e;function n(r){var i=r;return i!=null&&Pt.is(i.range)&&P.boolean(i.caseSensitiveLookup)&&(P.string(i.variableName)||i.variableName===void 0)}t.is=n})(zP||(zP={}));var HP;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){var i=r;return i!=null&&Pt.is(i.range)&&(P.string(i.expression)||i.expression===void 0)}t.is=n})(HP||(HP={}));var WP;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){var i=r;return P.defined(i)&&Pt.is(r.stoppedLocation)}t.is=n})(WP||(WP={}));var TO;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(TO||(TO={}));var kO;(function(t){function e(r){return{value:r}}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&(i.tooltip===void 0||P.string(i.tooltip)||hd.is(i.tooltip))&&(i.location===void 0||Gy.is(i.location))&&(i.command===void 0||Oc.is(i.command))}t.is=n})(kO||(kO={}));var GP;(function(t){function e(r,i,s){var o={position:r,label:i};return s!==void 0&&(o.kind=s),o}t.create=e;function n(r){var i=r;return P.objectLiteral(i)&&vi.is(i.position)&&(P.string(i.label)||P.typedArray(i.label,kO.is))&&(i.kind===void 0||TO.is(i.kind))&&i.textEdits===void 0||P.typedArray(i.textEdits,Ls.is)&&(i.tooltip===void 0||P.string(i.tooltip)||hd.is(i.tooltip))&&(i.paddingLeft===void 0||P.boolean(i.paddingLeft))&&(i.paddingRight===void 0||P.boolean(i.paddingRight))}t.is=n})(GP||(GP={}));var XP;(function(t){function e(n){var r=n;return P.objectLiteral(r)&&vO.is(r.uri)&&P.string(r.name)}t.is=e})(XP||(XP={}));var KP;(function(t){function e(s,o,a,l){return new Ule(s,o,a,l)}t.create=e;function n(s){var o=s;return!!(P.defined(o)&&P.string(o.uri)&&(P.undefined(o.languageId)||P.string(o.languageId))&&P.uinteger(o.lineCount)&&P.func(o.getText)&&P.func(o.positionAt)&&P.func(o.offsetAt))}t.is=n;function r(s,o){for(var a=s.getText(),l=i(o,function(p,g){var v=p.range.start.line-g.range.start.line;return v===0?p.range.start.character-g.range.start.character:v}),u=a.length,c=l.length-1;c>=0;c--){var h=l[c],f=s.offsetAt(h.range.start),d=s.offsetAt(h.range.end);if(d<=u)a=a.substring(0,f)+h.newText+a.substring(d,a.length);else throw new Error("Overlapping edit");u=f}return a}t.applyEdits=r;function i(s,o){if(s.length<=1)return s;var a=s.length/2|0,l=s.slice(0,a),u=s.slice(a);i(l,o),i(u,o);for(var c=0,h=0,f=0;c<l.length&&h<u.length;){var d=o(l[c],u[h]);d<=0?s[f++]=l[c++]:s[f++]=u[h++]}for(;c<l.length;)s[f++]=l[c++];for(;h<u.length;)s[f++]=u[h++];return s}})(KP||(KP={}));var Ule=function(){function t(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(e){if(e){var n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content},t.prototype.update=function(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var e=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(e.push(i),r=!1);var s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return vi.create(0,e);for(;r<i;){var s=Math.floor((r+i)/2);n[s]>e?i=s:r=s+1}var o=r-1;return vi.create(o,e-n[o])},t.prototype.offsetAt=function(e){var n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;var r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}(),P;(function(t){var e=Object.prototype.toString;function n(d){return typeof d<"u"}t.defined=n;function r(d){return typeof d>"u"}t.undefined=r;function i(d){return d===!0||d===!1}t.boolean=i;function s(d){return e.call(d)==="[object String]"}t.string=s;function o(d){return e.call(d)==="[object Number]"}t.number=o;function a(d,p,g){return e.call(d)==="[object Number]"&&p<=d&&d<=g}t.numberRange=a;function l(d){return e.call(d)==="[object Number]"&&-2147483648<=d&&d<=2147483647}t.integer=l;function u(d){return e.call(d)==="[object Number]"&&0<=d&&d<=2147483647}t.uinteger=u;function c(d){return e.call(d)==="[object Function]"}t.func=c;function h(d){return d!==null&&typeof d=="object"}t.objectLiteral=h;function f(d,p){return Array.isArray(d)&&d.every(p)}t.typedArray=f})(P||(P={}));var ke;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(ke||(ke={}));class xO{constructor(e){this.getStartOfToken=()=>this._start,this.getCurrentPosition=()=>this._pos,this.eol=()=>this._sourceText.length===this._pos,this.sol=()=>this._pos===0,this.peek=()=>this._sourceText.charAt(this._pos)||null,this.next=()=>{const n=this._sourceText.charAt(this._pos);return this._pos++,n},this.eat=n=>{if(this._testNextCharacter(n))return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},this.eatWhile=n=>{let r=this._testNextCharacter(n),i=!1;for(r&&(i=r,this._start=this._pos);r;)this._pos++,r=this._testNextCharacter(n),i=!0;return i},this.eatSpace=()=>this.eatWhile(/[\s\u00a0]/),this.skipToEnd=()=>{this._pos=this._sourceText.length},this.skipTo=n=>{this._pos=n},this.match=(n,r=!0,i=!1)=>{let s=null,o=null;return typeof n=="string"?(o=new RegExp(n,i?"i":"g").test(this._sourceText.slice(this._pos,this._pos+n.length)),s=n):n instanceof RegExp&&(o=this._sourceText.slice(this._pos).match(n),s=o==null?void 0:o[0]),o!=null&&(typeof n=="string"||o instanceof Array&&this._sourceText.startsWith(o[0],this._pos))?(r&&(this._start=this._pos,s&&s.length&&(this._pos+=s.length)),o):!1},this.backUp=n=>{this._pos-=n},this.column=()=>this._pos,this.indentation=()=>{const n=this._sourceText.match(/\s*/);let r=0;if(n&&n.length!==0){const i=n[0];let s=0;for(;i.length>s;)i.charCodeAt(s)===9?r+=2:r++,s++}return r},this.current=()=>this._sourceText.slice(this._start,this._pos),this._start=0,this._pos=0,this._sourceText=e}_testNextCharacter(e){const n=this._sourceText.charAt(this._pos);let r=!1;return typeof e=="string"?r=n===e:r=e instanceof RegExp?e.test(n):e(n),r}}function Ct(t){return{ofRule:t}}function Le(t,e){return{ofRule:t,isList:!0,separator:e}}function Vle(t,e){const n=t.match;return t.match=r=>{let i=!1;return n&&(i=n(r)),i&&e.every(s=>s.match&&!s.match(r))},t}function uS(t,e){return{style:e,match:n=>n.kind===t}}function Ee(t,e){return{style:e||"punctuation",match:n=>n.kind==="Punctuation"&&n.value===t}}const jle=t=>t===" "||t==="	"||t===","||t===`
`||t==="\r"||t==="\uFEFF"||t==="",Ble={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|&|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},Qle={Document:[Le("Definition")],Definition(t){switch(t.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return O.FRAGMENT_DEFINITION;case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[cn("query"),Ct(Ke("def")),Ct("VariableDefinitions"),Le("Directive"),"SelectionSet"],Mutation:[cn("mutation"),Ct(Ke("def")),Ct("VariableDefinitions"),Le("Directive"),"SelectionSet"],Subscription:[cn("subscription"),Ct(Ke("def")),Ct("VariableDefinitions"),Le("Directive"),"SelectionSet"],VariableDefinitions:[Ee("("),Le("VariableDefinition"),Ee(")")],VariableDefinition:["Variable",Ee(":"),"Type",Ct("DefaultValue")],Variable:[Ee("$","variable"),Ke("variable")],DefaultValue:[Ee("="),"Value"],SelectionSet:[Ee("{"),Le("Selection"),Ee("}")],Selection(t,e){return t.value==="..."?e.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":e.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[Ke("property"),Ee(":"),Ke("qualifier"),Ct("Arguments"),Le("Directive"),Ct("SelectionSet")],Field:[Ke("property"),Ct("Arguments"),Le("Directive"),Ct("SelectionSet")],Arguments:[Ee("("),Le("Argument"),Ee(")")],Argument:[Ke("attribute"),Ee(":"),"Value"],FragmentSpread:[Ee("..."),Ke("def"),Le("Directive")],InlineFragment:[Ee("..."),Ct("TypeCondition"),Le("Directive"),"SelectionSet"],FragmentDefinition:[cn("fragment"),Ct(Vle(Ke("def"),[cn("on")])),"TypeCondition",Le("Directive"),"SelectionSet"],TypeCondition:[cn("on"),"NamedType"],Value(t){switch(t.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(t.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable";case"&":return"NamedType"}return null;case"Name":switch(t.value){case"true":case"false":return"BooleanValue"}return t.value==="null"?"NullValue":"EnumValue"}},NumberValue:[uS("Number","number")],StringValue:[{style:"string",match:t=>t.kind==="String",update(t,e){e.value.startsWith('"""')&&(t.inBlockstring=!e.value.slice(3).endsWith('"""'))}}],BooleanValue:[uS("Name","builtin")],NullValue:[uS("Name","keyword")],EnumValue:[Ke("string-2")],ListValue:[Ee("["),Le("Value"),Ee("]")],ObjectValue:[Ee("{"),Le("ObjectField"),Ee("}")],ObjectField:[Ke("attribute"),Ee(":"),"Value"],Type(t){return t.value==="["?"ListType":"NonNullType"},ListType:[Ee("["),"Type",Ee("]"),Ct(Ee("!"))],NonNullType:["NamedType",Ct(Ee("!"))],NamedType:[Yle("atom")],Directive:[Ee("@","meta"),Ke("meta"),Ct("Arguments")],DirectiveDef:[cn("directive"),Ee("@","meta"),Ke("meta"),Ct("ArgumentsDef"),cn("on"),Le("DirectiveLocation",Ee("|"))],InterfaceDef:[cn("interface"),Ke("atom"),Ct("Implements"),Le("Directive"),Ee("{"),Le("FieldDef"),Ee("}")],Implements:[cn("implements"),Le("NamedType",Ee("&"))],DirectiveLocation:[Ke("string-2")],SchemaDef:[cn("schema"),Le("Directive"),Ee("{"),Le("OperationTypeDef"),Ee("}")],OperationTypeDef:[Ke("keyword"),Ee(":"),Ke("atom")],ScalarDef:[cn("scalar"),Ke("atom"),Le("Directive")],ObjectTypeDef:[cn("type"),Ke("atom"),Ct("Implements"),Le("Directive"),Ee("{"),Le("FieldDef"),Ee("}")],FieldDef:[Ke("property"),Ct("ArgumentsDef"),Ee(":"),"Type",Le("Directive")],ArgumentsDef:[Ee("("),Le("InputValueDef"),Ee(")")],InputValueDef:[Ke("attribute"),Ee(":"),"Type",Ct("DefaultValue"),Le("Directive")],UnionDef:[cn("union"),Ke("atom"),Le("Directive"),Ee("="),Le("UnionMember",Ee("|"))],UnionMember:["NamedType"],EnumDef:[cn("enum"),Ke("atom"),Le("Directive"),Ee("{"),Le("EnumValueDef"),Ee("}")],EnumValueDef:[Ke("string-2"),Le("Directive")],InputDef:[cn("input"),Ke("atom"),Le("Directive"),Ee("{"),Le("InputValueDef"),Ee("}")],ExtendDef:[cn("extend"),"ExtensionDefinition"],ExtensionDefinition(t){switch(t.value){case"schema":return O.SCHEMA_EXTENSION;case"scalar":return O.SCALAR_TYPE_EXTENSION;case"type":return O.OBJECT_TYPE_EXTENSION;case"interface":return O.INTERFACE_TYPE_EXTENSION;case"union":return O.UNION_TYPE_EXTENSION;case"enum":return O.ENUM_TYPE_EXTENSION;case"input":return O.INPUT_OBJECT_TYPE_EXTENSION}},[O.SCHEMA_EXTENSION]:["SchemaDef"],[O.SCALAR_TYPE_EXTENSION]:["ScalarDef"],[O.OBJECT_TYPE_EXTENSION]:["ObjectTypeDef"],[O.INTERFACE_TYPE_EXTENSION]:["InterfaceDef"],[O.UNION_TYPE_EXTENSION]:["UnionDef"],[O.ENUM_TYPE_EXTENSION]:["EnumDef"],[O.INPUT_OBJECT_TYPE_EXTENSION]:["InputDef"]};function cn(t){return{style:"keyword",match:e=>e.kind==="Name"&&e.value===t}}function Ke(t){return{style:t,match:e=>e.kind==="Name",update(e,n){e.name=n.value}}}function Yle(t){return{style:t,match:e=>e.kind==="Name",update(e,n){var r;!((r=e.prevState)===null||r===void 0)&&r.prevState&&(e.name=n.value,e.prevState.prevState.type=n.value)}}}function u4(t={eatWhitespace:e=>e.eatWhile(jle),lexRules:Ble,parseRules:Qle,editorConfig:{}}){return{startState(){const e={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeparator:!1,prevState:null};return Uh(t.parseRules,e,O.DOCUMENT),e},token(e,n){return qle(e,n,t)}}}function qle(t,e,n){var r;if(e.inBlockstring)return t.match(/.*"""/)?(e.inBlockstring=!1,"string"):(t.skipToEnd(),"string");const{lexRules:i,parseRules:s,eatWhitespace:o,editorConfig:a}=n;if(e.rule&&e.rule.length===0?f_(e):e.needsAdvance&&(e.needsAdvance=!1,_O(e,!0)),t.sol()){const c=(a==null?void 0:a.tabSize)||2;e.indentLevel=Math.floor(t.indentation()/c)}if(o(t))return"ws";const l=Hle(i,t);if(!l)return t.match(/\S+/)||t.match(/\s/),Uh(cS,e,"Invalid"),"invalidchar";if(l.kind==="Comment")return Uh(cS,e,"Comment"),"comment";const u=JP({},e);if(l.kind==="Punctuation"){if(/^[{([]/.test(l.value))e.indentLevel!==void 0&&(e.levels=(e.levels||[]).concat(e.indentLevel+1));else if(/^[})\]]/.test(l.value)){const c=e.levels=(e.levels||[]).slice(0,-1);e.indentLevel&&c.length>0&&c.at(-1)<e.indentLevel&&(e.indentLevel=c.at(-1))}}for(;e.rule;){let c=typeof e.rule=="function"?e.step===0?e.rule(l,t):null:e.rule[e.step];if(e.needsSeparator&&(c=c==null?void 0:c.separator),c){if(c.ofRule&&(c=c.ofRule),typeof c=="string"){Uh(s,e,c);continue}if(!((r=c.match)===null||r===void 0)&&r.call(c,l))return c.update&&c.update(e,l),l.kind==="Punctuation"?_O(e,!0):e.needsAdvance=!0,c.style}zle(e)}return JP(e,u),Uh(cS,e,"Invalid"),"invalidchar"}function JP(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}const cS={Invalid:[],Comment:[]};function Uh(t,e,n){if(!t[n])throw new TypeError("Unknown rule: "+n);e.prevState=Object.assign({},e),e.kind=n,e.name=null,e.type=null,e.rule=t[n],e.step=0,e.needsSeparator=!1}function f_(t){t.prevState&&(t.kind=t.prevState.kind,t.name=t.prevState.name,t.type=t.prevState.type,t.rule=t.prevState.rule,t.step=t.prevState.step,t.needsSeparator=t.prevState.needsSeparator,t.prevState=t.prevState.prevState)}function _O(t,e){var n;if(ZP(t)&&t.rule){const r=t.rule[t.step];if(r.separator){const{separator:i}=r;if(t.needsSeparator=!t.needsSeparator,!t.needsSeparator&&i.ofRule)return}if(e)return}for(t.needsSeparator=!1,t.step++;t.rule&&!(Array.isArray(t.rule)&&t.step<t.rule.length);)f_(t),t.rule&&(ZP(t)?!((n=t.rule)===null||n===void 0)&&n[t.step].separator&&(t.needsSeparator=!t.needsSeparator):(t.needsSeparator=!1,t.step++))}function ZP(t){const e=Array.isArray(t.rule)&&typeof t.rule[t.step]!="string"&&t.rule[t.step];return e&&e.isList}function zle(t){for(;t.rule&&!(Array.isArray(t.rule)&&t.rule[t.step].ofRule);)f_(t);t.rule&&_O(t,!1)}function Hle(t,e){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=e.match(t[n[r]]);if(i&&i instanceof Array)return{kind:n[r],value:i[0]}}}const Wle={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type"},W=Object.assign(Object.assign({},O),Wle),c4={command:"editor.action.triggerSuggest",title:"Suggestions"},Gle=t=>{const e=[];if(t)try{tp(n_(t),{FragmentDefinition(n){e.push(n)}})}catch{return[]}return e},Xle=[O.SCHEMA_DEFINITION,O.OPERATION_TYPE_DEFINITION,O.SCALAR_TYPE_DEFINITION,O.OBJECT_TYPE_DEFINITION,O.INTERFACE_TYPE_DEFINITION,O.UNION_TYPE_DEFINITION,O.ENUM_TYPE_DEFINITION,O.INPUT_OBJECT_TYPE_DEFINITION,O.DIRECTIVE_DEFINITION,O.SCHEMA_EXTENSION,O.SCALAR_TYPE_EXTENSION,O.OBJECT_TYPE_EXTENSION,O.INTERFACE_TYPE_EXTENSION,O.UNION_TYPE_EXTENSION,O.ENUM_TYPE_EXTENSION,O.INPUT_OBJECT_TYPE_EXTENSION],Kle=t=>{let e=!1;if(t)try{tp(n_(t),{enter(n){if(n.kind!=="Document")return Xle.includes(n.kind)?(e=!0,vu):!1}})}catch{return e}return e};function Jle(t,e,n,r,i,s){var o;const a=Object.assign(Object.assign({},s),{schema:t}),l=r||f4(e,n),u=l.state.kind==="Invalid"?l.state.prevState:l.state,c=(s==null?void 0:s.mode)||due(e,s==null?void 0:s.uri);if(!u)return[];const{kind:h,step:f,prevState:d}=u,p=d4(t,l.state);if(h===W.DOCUMENT)return c===Ja.TYPE_SYSTEM?eue(l):tue(l);if(h===W.EXTEND_DEF)return nue(l);if(((o=d==null?void 0:d.prevState)===null||o===void 0?void 0:o.kind)===W.EXTENSION_DEFINITION&&u.name)return mt(l,[]);if((d==null?void 0:d.kind)===O.SCALAR_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(ya).map(v=>({label:v.name,kind:ke.Function})));if((d==null?void 0:d.kind)===O.OBJECT_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(v=>at(v)&&!v.name.startsWith("__")).map(v=>({label:v.name,kind:ke.Function})));if((d==null?void 0:d.kind)===O.INTERFACE_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(lt).map(v=>({label:v.name,kind:ke.Function})));if((d==null?void 0:d.kind)===O.UNION_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(ni).map(v=>({label:v.name,kind:ke.Function})));if((d==null?void 0:d.kind)===O.ENUM_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(v=>Mr(v)&&!v.name.startsWith("__")).map(v=>({label:v.name,kind:ke.Function})));if((d==null?void 0:d.kind)===O.INPUT_OBJECT_TYPE_EXTENSION)return mt(l,Object.values(t.getTypeMap()).filter(_n).map(v=>({label:v.name,kind:ke.Function})));if(h===W.IMPLEMENTS||h===W.NAMED_TYPE&&(d==null?void 0:d.kind)===W.IMPLEMENTS)return sue(l,u,t,e,p);if(h===W.SELECTION_SET||h===W.FIELD||h===W.ALIASED_FIELD)return rue(l,p,a);if(h===W.ARGUMENTS||h===W.ARGUMENT&&f===0){const{argDefs:v}=p;if(v)return mt(l,v.map(m=>{var y;return{label:m.name,insertText:m.name+": ",command:c4,detail:String(m.type),documentation:(y=m.description)!==null&&y!==void 0?y:void 0,kind:ke.Variable,type:m.type}}))}if((h===W.OBJECT_VALUE||h===W.OBJECT_FIELD&&f===0)&&p.objectFieldDefs){const v=wl(p.objectFieldDefs),m=h===W.OBJECT_VALUE?ke.Value:ke.Field;return mt(l,v.map(y=>{var w;return{label:y.name,detail:String(y.type),documentation:(w=y.description)!==null&&w!==void 0?w:void 0,kind:m,type:y.type}}))}if(h===W.ENUM_VALUE||h===W.LIST_VALUE&&f===1||h===W.OBJECT_FIELD&&f===2||h===W.ARGUMENT&&f===2)return iue(l,p,e,t);if(h===W.VARIABLE&&f===1){const v=Wt(p.inputType),m=h4(e,t,l);return mt(l,m.filter(y=>y.detail===(v==null?void 0:v.name)))}if(h===W.TYPE_CONDITION&&f===1||h===W.NAMED_TYPE&&d!=null&&d.kind===W.TYPE_CONDITION)return oue(l,p,t);if(h===W.FRAGMENT_SPREAD&&f===1)return aue(l,p,t,e,Array.isArray(i)?i:Gle(i));const g=p4(u);if(c===Ja.TYPE_SYSTEM&&!g.needsAdvance&&h===W.NAMED_TYPE||h===W.LIST_TYPE){if(g.kind===W.FIELD_DEF)return mt(l,Object.values(t.getTypeMap()).filter(v=>Ka(v)&&!v.name.startsWith("__")).map(v=>({label:v.name,kind:ke.Function})));if(g.kind===W.INPUT_VALUE_DEF)return mt(l,Object.values(t.getTypeMap()).filter(v=>xr(v)&&!v.name.startsWith("__")).map(v=>({label:v.name,kind:ke.Function})))}return h===W.VARIABLE_DEFINITION&&f===2||h===W.LIST_TYPE&&f===1||h===W.NAMED_TYPE&&d&&(d.kind===W.VARIABLE_DEFINITION||d.kind===W.LIST_TYPE||d.kind===W.NON_NULL_TYPE)?cue(l,t):h===W.DIRECTIVE?hue(l,u,t):[]}const fm=` {
  $1
}`,Zle=t=>{const{type:e}=t;return bn(e)||Tn(e)&&bn(e.ofType)||Ge(e)&&(bn(e.ofType)||Tn(e.ofType)&&bn(e.ofType.ofType))?fm:null};function eue(t){return mt(t,[{label:"extend",kind:ke.Function},{label:"type",kind:ke.Function},{label:"interface",kind:ke.Function},{label:"union",kind:ke.Function},{label:"input",kind:ke.Function},{label:"scalar",kind:ke.Function},{label:"schema",kind:ke.Function}])}function tue(t){return mt(t,[{label:"query",kind:ke.Function},{label:"mutation",kind:ke.Function},{label:"subscription",kind:ke.Function},{label:"fragment",kind:ke.Function},{label:"{",kind:ke.Constructor}])}function nue(t){return mt(t,[{label:"type",kind:ke.Function},{label:"interface",kind:ke.Function},{label:"union",kind:ke.Function},{label:"input",kind:ke.Function},{label:"scalar",kind:ke.Function},{label:"schema",kind:ke.Function}])}function rue(t,e,n){var r;if(e.parentType){const{parentType:i}=e;let s=[];return"getFields"in i&&(s=wl(i.getFields())),bn(i)&&s.push(ad),i===((r=n==null?void 0:n.schema)===null||r===void 0?void 0:r.getQueryType())&&s.push(sd,od),mt(t,s.map((o,a)=>{var l;const u={sortText:String(a)+o.name,label:o.name,detail:String(o.type),documentation:(l=o.description)!==null&&l!==void 0?l:void 0,deprecated:!!o.deprecationReason,isDeprecated:!!o.deprecationReason,deprecationReason:o.deprecationReason,kind:ke.Field,type:o.type};if(n!=null&&n.fillLeafsOnComplete){const c=Zle(o);c&&(u.insertText=o.name+c,u.insertTextFormat=OO.Snippet,u.command=c4)}return u}))}return[]}function iue(t,e,n,r){const i=Wt(e.inputType),s=h4(n,r,t).filter(o=>o.detail===i.name);if(i instanceof la){const o=i.getValues();return mt(t,o.map(a=>{var l;return{label:a.name,detail:String(i),documentation:(l=a.description)!==null&&l!==void 0?l:void 0,deprecated:!!a.deprecationReason,isDeprecated:!!a.deprecationReason,deprecationReason:a.deprecationReason,kind:ke.EnumMember,type:i}}).concat(s))}return i===wn?mt(t,s.concat([{label:"true",detail:String(wn),documentation:"Not false.",kind:ke.Variable,type:wn},{label:"false",detail:String(wn),documentation:"Not true.",kind:ke.Variable,type:wn}])):s}function sue(t,e,n,r,i){if(e.needsSeparator)return[];const s=n.getTypeMap(),o=wl(s).filter(lt),a=o.map(({name:d})=>d),l=new Set;tw(r,(d,p)=>{var g,v,m,y,w;if(p.name&&(p.kind===W.INTERFACE_DEF&&!a.includes(p.name)&&l.add(p.name),p.kind===W.NAMED_TYPE&&((g=p.prevState)===null||g===void 0?void 0:g.kind)===W.IMPLEMENTS)){if(i.interfaceDef){if((v=i.interfaceDef)===null||v===void 0?void 0:v.getInterfaces().find(({name:_})=>_===p.name))return;const b=n.getType(p.name),k=(m=i.interfaceDef)===null||m===void 0?void 0:m.toConfig();i.interfaceDef=new Bu(Object.assign(Object.assign({},k),{interfaces:[...k.interfaces,b||new Bu({name:p.name,fields:{}})]}))}else if(i.objectTypeDef){if((y=i.objectTypeDef)===null||y===void 0?void 0:y.getInterfaces().find(({name:_})=>_===p.name))return;const b=n.getType(p.name),k=(w=i.objectTypeDef)===null||w===void 0?void 0:w.toConfig();i.objectTypeDef=new Ri(Object.assign(Object.assign({},k),{interfaces:[...k.interfaces,b||new Bu({name:p.name,fields:{}})]}))}}});const u=i.interfaceDef||i.objectTypeDef,h=((u==null?void 0:u.getInterfaces())||[]).map(({name:d})=>d),f=o.concat([...l].map(d=>({name:d}))).filter(({name:d})=>d!==(u==null?void 0:u.name)&&!h.includes(d));return mt(t,f.map(d=>{const p={label:d.name,kind:ke.Interface,type:d};return d!=null&&d.description&&(p.documentation=d.description),p}))}function oue(t,e,n,r){let i;if(e.parentType)if(Ds(e.parentType)){const s=sae(e.parentType),o=n.getPossibleTypes(s),a=Object.create(null);for(const l of o)for(const u of l.getInterfaces())a[u.name]=u;i=o.concat(wl(a))}else i=[e.parentType];else{const s=n.getTypeMap();i=wl(s).filter(o=>bn(o)&&!o.name.startsWith("__"))}return mt(t,i.map(s=>{const o=Wt(s);return{label:String(s),documentation:(o==null?void 0:o.description)||"",kind:ke.Field}}))}function aue(t,e,n,r,i){if(!r)return[];const s=n.getTypeMap(),o=Lle(t.state),a=uue(r);i&&i.length>0&&a.push(...i);const l=a.filter(u=>s[u.typeCondition.name.value]&&!(o&&o.kind===W.FRAGMENT_DEFINITION&&o.name===u.name.value)&&bn(e.parentType)&&bn(s[u.typeCondition.name.value])&&pO(n,e.parentType,s[u.typeCondition.name.value]));return mt(t,l.map(u=>({label:u.name.value,detail:String(s[u.typeCondition.name.value]),documentation:`fragment ${u.name.value} on ${u.typeCondition.name.value}`,kind:ke.Field,type:s[u.typeCondition.name.value]})))}const lue=(t,e)=>{var n,r,i,s,o,a,l,u,c,h;if(((n=t.prevState)===null||n===void 0?void 0:n.kind)===e)return t.prevState;if(((i=(r=t.prevState)===null||r===void 0?void 0:r.prevState)===null||i===void 0?void 0:i.kind)===e)return t.prevState.prevState;if(((a=(o=(s=t.prevState)===null||s===void 0?void 0:s.prevState)===null||o===void 0?void 0:o.prevState)===null||a===void 0?void 0:a.kind)===e)return t.prevState.prevState.prevState;if(((h=(c=(u=(l=t.prevState)===null||l===void 0?void 0:l.prevState)===null||u===void 0?void 0:u.prevState)===null||c===void 0?void 0:c.prevState)===null||h===void 0?void 0:h.kind)===e)return t.prevState.prevState.prevState.prevState};function h4(t,e,n){let r=null,i;const s=Object.create({});return tw(t,(o,a)=>{if((a==null?void 0:a.kind)===W.VARIABLE&&a.name&&(r=a.name),(a==null?void 0:a.kind)===W.NAMED_TYPE&&r){const l=lue(a,W.TYPE);l!=null&&l.type&&(i=e.getType(l==null?void 0:l.type))}r&&i&&!s[r]&&(s[r]={detail:i.toString(),insertText:n.string==="$"?r:"$"+r,label:r,type:i,kind:ke.Variable},r=null,i=null)}),wl(s)}function uue(t){const e=[];return tw(t,(n,r)=>{r.kind===W.FRAGMENT_DEFINITION&&r.name&&r.type&&e.push({kind:W.FRAGMENT_DEFINITION,name:{kind:O.NAME,value:r.name},selectionSet:{kind:W.SELECTION_SET,selections:[]},typeCondition:{kind:W.NAMED_TYPE,name:{kind:O.NAME,value:r.type}}})}),e}function cue(t,e,n){const r=e.getTypeMap(),i=wl(r).filter(xr);return mt(t,i.map(s=>({label:s.name,documentation:s.description,kind:ke.Variable})))}function hue(t,e,n,r){var i;if(!((i=e.prevState)===null||i===void 0)&&i.kind){const s=n.getDirectives().filter(o=>fue(e.prevState,o));return mt(t,s.map(o=>({label:o.name,documentation:o.description||"",kind:ke.Function})))}return[]}function f4(t,e){let n=null,r=null,i=null;const s=tw(t,(o,a,l,u)=>{if(u===e.line&&o.getCurrentPosition()>=e.character)return n=l,r=Object.assign({},a),i=o.current(),"BREAK"});return{start:s.start,end:s.end,string:i||s.string,state:r||s.state,style:n||s.style}}function tw(t,e){const n=t.split(`
`),r=u4();let i=r.startState(),s="",o=new xO("");for(let a=0;a<n.length;a++){for(o=new xO(n[a]);!o.eol()&&(s=r.token(o,i),e(o,i,s,a)!=="BREAK"););e(o,i,s,a),i.kind||(i=r.startState())}return{start:o.getStartOfToken(),end:o.getCurrentPosition(),string:o.current(),state:i,style:s}}function fue(t,e){if(!(t!=null&&t.kind))return!1;const{kind:n,prevState:r}=t,{locations:i}=e;switch(n){case W.QUERY:return i.includes(re.QUERY);case W.MUTATION:return i.includes(re.MUTATION);case W.SUBSCRIPTION:return i.includes(re.SUBSCRIPTION);case W.FIELD:case W.ALIASED_FIELD:return i.includes(re.FIELD);case W.FRAGMENT_DEFINITION:return i.includes(re.FRAGMENT_DEFINITION);case W.FRAGMENT_SPREAD:return i.includes(re.FRAGMENT_SPREAD);case W.INLINE_FRAGMENT:return i.includes(re.INLINE_FRAGMENT);case W.SCHEMA_DEF:return i.includes(re.SCHEMA);case W.SCALAR_DEF:return i.includes(re.SCALAR);case W.OBJECT_TYPE_DEF:return i.includes(re.OBJECT);case W.FIELD_DEF:return i.includes(re.FIELD_DEFINITION);case W.INTERFACE_DEF:return i.includes(re.INTERFACE);case W.UNION_DEF:return i.includes(re.UNION);case W.ENUM_DEF:return i.includes(re.ENUM);case W.ENUM_VALUE:return i.includes(re.ENUM_VALUE);case W.INPUT_DEF:return i.includes(re.INPUT_OBJECT);case W.INPUT_VALUE_DEF:switch(r==null?void 0:r.kind){case W.ARGUMENTS_DEF:return i.includes(re.ARGUMENT_DEFINITION);case W.INPUT_DEF:return i.includes(re.INPUT_FIELD_DEFINITION)}}return!1}function d4(t,e){let n,r,i,s,o,a,l,u,c,h,f;return a4(e,d=>{var p;switch(d.kind){case W.QUERY:case"ShortQuery":h=t.getQueryType();break;case W.MUTATION:h=t.getMutationType();break;case W.SUBSCRIPTION:h=t.getSubscriptionType();break;case W.INLINE_FRAGMENT:case W.FRAGMENT_DEFINITION:d.type&&(h=t.getType(d.type));break;case W.FIELD:case W.ALIASED_FIELD:{!h||!d.name?o=null:(o=c?rP(t,c,d.name):null,h=o?o.type:null);break}case W.SELECTION_SET:c=Wt(h);break;case W.DIRECTIVE:i=d.name?t.getDirective(d.name):null;break;case W.INTERFACE_DEF:d.name&&(l=null,f=new Bu({name:d.name,interfaces:[],fields:{}}));break;case W.OBJECT_TYPE_DEF:d.name&&(f=null,l=new Ri({name:d.name,interfaces:[],fields:{}}));break;case W.ARGUMENTS:{if(d.prevState)switch(d.prevState.kind){case W.FIELD:r=o&&o.args;break;case W.DIRECTIVE:r=i&&i.args;break;case W.ALIASED_FIELD:{const w=(p=d.prevState)===null||p===void 0?void 0:p.name;if(!w){r=null;break}const S=c?rP(t,c,w):null;if(!S){r=null;break}r=S.args;break}default:r=null;break}else r=null;break}case W.ARGUMENT:if(r){for(let w=0;w<r.length;w++)if(r[w].name===d.name){n=r[w];break}}a=n==null?void 0:n.type;break;case W.ENUM_VALUE:const g=Wt(a);s=g instanceof la?g.getValues().find(w=>w.value===d.name):null;break;case W.LIST_VALUE:const v=o_(a);a=v instanceof Un?v.ofType:null;break;case W.OBJECT_VALUE:const m=Wt(a);u=m instanceof J0?m.getFields():null;break;case W.OBJECT_FIELD:const y=d.name&&u?u[d.name]:null;a=y==null?void 0:y.type;break;case W.NAMED_TYPE:d.name&&(h=t.getType(d.name));break}}),{argDef:n,argDefs:r,directiveDef:i,enumValue:s,fieldDef:o,inputType:a,objectFieldDefs:u,parentType:c,type:h,interfaceDef:f,objectTypeDef:l}}var Ja;(function(t){t.TYPE_SYSTEM="TYPE_SYSTEM",t.EXECUTABLE="EXECUTABLE"})(Ja||(Ja={}));function due(t,e){return e!=null&&e.endsWith(".graphqls")||Kle(t)?Ja.TYPE_SYSTEM:Ja.EXECUTABLE}function p4(t){return t.prevState&&t.kind&&[W.NAMED_TYPE,W.LIST_TYPE,W.TYPE,W.NON_NULL_TYPE].includes(t.kind)?p4(t.prevState):t}var tv={},pue={get exports(){return tv},set exports(t){tv=t}};function m4(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}pue.exports=m4;tv.default=m4;Object.defineProperty(tv,"__esModule",{value:!0});class g4{constructor(e,n){this.containsPosition=r=>this.start.line===r.line?this.start.character<=r.character:this.end.line===r.line?this.end.character>=r.character:this.start.line<=r.line&&this.end.line>=r.line,this.start=e,this.end=n}setStart(e,n){this.start=new Tc(e,n)}setEnd(e,n){this.end=new Tc(e,n)}}let Tc=class{constructor(e,n){this.lessThanOrEqualTo=r=>this.line<r.line||this.line===r.line&&this.character<=r.character,this.line=e,this.character=n}setLine(e){this.line=e}setCharacter(e){this.character=e}};const mue=[qae,Ole,Tle,vle,wle,yle,XQ,WQ,r4,ile,n4,i4];function gue(t,e,n,r,i){const s=s4.filter(a=>!(a===KQ||a===HQ||r&&a===GQ));return n&&Array.prototype.push.apply(s,n),i&&Array.prototype.push.apply(s,mue),o4(t,e,s).filter(a=>{if(a.message.includes("Unknown directive")&&a.nodes){const l=a.nodes[0];if(l&&l.kind===O.DIRECTIVE){const u=l.name.value;if(u==="arguments"||u==="argumentDefinitions")return!1}}return!0})}globalThis&&globalThis.__awaiter;const dm={Error:"Error",Warning:"Warning",Information:"Information",Hint:"Hint"},CO={[dm.Error]:1,[dm.Warning]:2,[dm.Information]:3,[dm.Hint]:4},nv=(t,e)=>{if(!t)throw new Error(e)};function yue(t,e=null,n,r,i){var s,o;let a=null,l="";i&&(l=typeof i=="string"?i:i.reduce((c,h)=>c+Xt(h)+`

`,""));const u=l?`${t}

${l}`:t;try{a=n_(u)}catch(c){if(c instanceof q){const h=wue((o=(s=c.locations)===null||s===void 0?void 0:s[0])!==null&&o!==void 0?o:{line:0,column:0},u);return[{severity:CO.Error,message:c.message,source:"GraphQL: Syntax",range:h}]}throw c}return vue(a,e,n,r)}function vue(t,e=null,n,r){if(!e)return[];const i=gue(e,t,n,r).flatMap(o=>eD(o,CO.Error,"Validation")),s=o4(e,t,[Rle]).flatMap(o=>eD(o,CO.Warning,"Deprecation"));return i.concat(s)}function eD(t,e,n){if(!t.nodes)return[];const r=[];for(const[i,s]of t.nodes.entries()){const o=s.kind!=="Variable"&&"name"in s&&s.name!==void 0?s.name:"variable"in s&&s.variable!==void 0?s.variable:s;if(o){nv(t.locations,"GraphQL validation error requires locations.");const a=t.locations[i],l=Sue(o),u=a.column+(l.end-l.start);r.push({source:`GraphQL: ${n}`,message:t.message,severity:e,range:new g4(new Tc(a.line-1,a.column-1),new Tc(a.line-1,u))})}}return r}function wue(t,e){const n=u4(),r=n.startState(),i=e.split(`
`);nv(i.length>=t.line,"Query text must have more lines than where the error happened");let s=null;for(let u=0;u<t.line;u++)for(s=new xO(i[u]);!s.eol()&&n.token(s,r)!=="invalidchar";);nv(s,"Expected Parser stream to be available.");const o=t.line-1,a=s.getStartOfToken(),l=s.getCurrentPosition();return new g4(new Tc(o,a),new Tc(o,l))}function Sue(t){const n=t.loc;return nv(n,"Expected ASTNode to have a location."),n}class rv{constructor(e,n,r,i,s,o,a,l,u,c=0,h){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new rv(e,[],n,r,r,0,[],0,i?new tD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=a?this.stack[a-1]:0,h=this.bufferBase+this.buffer.length-c;if(i<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,f,h+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r){let i=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,r){e&65536?this.reduce(e):this.shift(e,n,r)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new rv(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new bue(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>4<<1||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<4<<1&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:n}=this.p;if(!n.validAction(this.state,e)){let r=e>>19,i=e&65535,s=this.stack.length-r*3;if(s<0||n.getGoto(this.stack[s],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new tD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class tD{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}var nD;(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth",t[t.MinBigReduction=2e3]="MinBigReduction"})(nD||(nD={}));class bue{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class iv{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new iv(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new iv(this.stack,this.pos,this.index)}}function pm(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class ng{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const rD=new ng;class Eue{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=rD,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=rD,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class qu{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;Oue(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}qu.prototype.contextual=qu.prototype.fallback=qu.prototype.extend=!1;qu.prototype.fallback=qu.prototype.extend=!1;function Oue(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let d=o+3;d<u;d+=2)if((t[d+1]&a)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||Tue(p,e.token.value,i,s))){e.acceptToken(p);break}}let c=e.next,h=0,f=t[o+2];if(e.next<0&&f>h&&t[u+f*3-3]==65535&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;h<f;){let d=h+f>>1,p=u+d+(d<<1),g=t[p],v=t[p+1]||65536;if(c<g)f=d;else if(c>=v)h=d+1;else{o=t[p+2],e.advance();continue e}}break}}function iD(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function Tue(t,e,n,r){let i=iD(n,r,e);return i<0||iD(n,r,t)<i}const hi=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let hS=null;var sD;(function(t){t[t.Margin=25]="Margin"})(sD||(sD={}));function oD(t,e,n){let r=t.cursor(vn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class kue{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?oD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?oD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Qt){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(_e.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class xue{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ng)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],h=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!c.extend&&(r=h,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ng,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new ng,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Es(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Es(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(Es(a,u+1),n,r,i))}return i}}var aD;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo",t[t.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",t[t.MaxStackCount=12]="MaxStackCount"})(aD||(aD={}));class _ue{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Eue(n,i),this.tokens=new xue(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[rv.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new kue(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&Iue(i);if(o)return this.stackToTree(o);if(this.parser.strict)throw hi&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=hi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!u||(h.prop(_e.contextHash)||0)==c))return e.useNode(h,f),hi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Qt)||h.children.length==0||h.positions[0]>0)break;let d=h.children[0];if(d instanceof Qt&&h.positions[0]==0)h=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),hi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],f=l[u++],d=u==l.length||!r,p=d?e:e.split();if(p.apply(c,h,f),hi&&console.log(o+this.stackID(p)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${p==e?"":", split"})`),d)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return lD(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=hi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),hi&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),f=c;for(let d=0;h.forceReduce()&&d<10&&(hi&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));d++)hi&&(f=this.stackID(h)+" -> ");for(let d of a.recoverByInsert(l))hi&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),hi&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),lD(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Qt.build({buffer:iv.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(hS||(hS=new WeakMap)).get(e);return n||hS.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function lD(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class Cue{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class fd extends FB{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=_e[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let h=a[u+-c];for(let f=-c;f>0;f--)s(a[u++],l,h);u++}}}this.nodeSet=new Bx(n.map((a,l)=>gr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DB;let o=pm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(uD),this.states=pm(e.states,Uint32Array),this.data=pm(e.stateData),this.goto=pm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new qu(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new _ue(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Es(r,s+2)];else{if(r[s+1]==2)return Es(r,s+2);break}if(o==n||o==0)return Es(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){if(n==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Es(this.data,r+2);else return!1;if(n==Es(this.data,r+1))return!0}}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Es(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(fd.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=uD(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Cue(e,r,i)}static deserialize(e){return new fd(e)}}function Es(t,e){return t[e]|t[e+1]<<16}function Iue(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function uD(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}function Je(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)y4(t,arguments[e]);return t}function y4(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)y4(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}class Aue{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Ia{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(Qa).markerFilter;s&&(i=s(i));let o=pe.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?pe.widget({widget:new jue(a),diagnostic:a}).range(a.from):pe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Ia(o,n,kc(o))}}function kc(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new Aue(i,s,o.diagnostic),!1}),r}function Nue(t,e){return!!(t.effects.some(n=>n.is(d_))||t.changes.touchesRange(e.pos))}function v4(t,e){return t.field(Cr,!1)?e:e.concat(Oe.appendConfig.of(E4))}function Rue(t,e){return{effects:v4(t,[d_.of(e)])}}const d_=Oe.define(),p_=Oe.define(),w4=Oe.define(),Cr=Zt.define({create(){return new Ia(pe.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=kc(n,t.selected.diagnostic,i)||kc(n,null,i)}t=new Ia(n,t.panel,r)}for(let n of e.effects)n.is(d_)?t=Ia.init(n.value,t.panel,e.state):n.is(p_)?t=new Ia(t.diagnostics,n.value?nw.open:null,t.selected):n.is(w4)&&(t=new Ia(t.diagnostics,t.panel,n.value));return t},provide:t=>[Zf.from(t,e=>e.panel),se.decorations.from(t,e=>e.diagnostics)]}),Pue=pe.mark({class:"cm-lintRange cm-lintRange-active"});function Due(t,e,n){let{diagnostics:r}=t.state.field(Cr),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0))&&(i.push(c.diagnostic),s=Math.min(l,s),o=Math.max(u,o))});let a=t.state.facet(Qa).tooltipFilter;return a&&(i=a(i)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Lue(t,i)}}}:null}function Lue(t,e){return Je("ul",{class:"cm-tooltip-lint"},e.map(n=>b4(t,n,!1)))}const Mue=t=>{let e=t.state.field(Cr,!1);(!e||!e.panel)&&t.dispatch({effects:v4(t.state,[p_.of(!0)])});let n=Jf(t,nw.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},cD=t=>{let e=t.state.field(Cr,!1);return!e||!e.panel?!1:(t.dispatch({effects:p_.of(!1)}),!0)},Fue=t=>{let e=t.state.field(Cr,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},$ue=[{key:"Mod-Shift-m",run:Mue,preventDefault:!0},{key:"F8",run:Fue}],Uue=Dt.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Qa);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Qa);Promise.all(n.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(Rue(this.view.state,i))},r=>{Nr(this.view.state,r)})}}update(t){let e=t.state.facet(Qa);(t.docChanged||e!=t.startState.facet(Qa)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Qa=he.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},fs(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function Vue(t,e={}){return[Qa.of({source:t,config:e}),Uue,E4]}function S4(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function b4(t,e,n){var r;let i=n?S4(e.actions):[];return Je("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Je("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let d=kc(t.state.field(Cr).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,h=c<0?u:[u.slice(0,c),Je("u",u.slice(c,c+1)),u.slice(c+1)];return Je("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&Je("div",{class:"cm-diagnosticSource"},e.source))}class jue extends to{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Je("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class hD{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=b4(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class nw{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)cD(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=S4(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=kc(this.view.state.field(Cr).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Je("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Je("div",{class:"cm-panel-lint"},this.list,Je("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>cD(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Cr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Cr),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let u=-1,c;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){u=h;break}u<0?(c=new hD(this.view,l.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new hD(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Cr),r=kc(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:w4.of(r)})}static open(e){return new nw(e)}}function Bue(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function fS(t){return Bue(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Que=se.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:fS("#d11")},".cm-lintRange-warning":{backgroundImage:fS("orange")},".cm-lintRange-info":{backgroundImage:fS("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),E4=[Cr,se.decorations.compute([Cr],t=>{let{selected:e,panel:n}=t.field(Cr);return!e||!n||e.from==e.to?pe.none:pe.set([Pue.range(e.from,e.to)])}),Eie(Due,{hideOn:Nue}),Que];function fD(t,e){return t.line(e.line+1).from+e.character}function O4(t,e){const n=t.lineAt(e);return new IO(n.number-1,e-n.from)}class IO{constructor(e,n){this.line=e,this.character=n}setLine(e){this.line=e}setCharacter(e){this.character=e}lessThanOrEqualTo(e){return this.line<e.line||this.line===e.line&&this.character<=e.character}}const Yue=()=>/mac/i.test(navigator.platform),que=t=>Yue()?t.metaKey:t.ctrlKey,zue=Oe.define(),T4=Zt.define({create(){},update(t,e){for(const n of e.effects)if(n.is(zue))return n.value;return t}}),Hue=Oe.define(),k4=Zt.define({create(){},update(t,e){for(const n of e.effects)if(n.is(Hue))return n.value;return t}}),m_=t=>t.field(T4),x4=t=>t.field(k4),Wue=(t,e)=>[T4.init(()=>t),k4.init(()=>e)],Gue={__proto__:null,query:241,mutation:243,subscription:245,on:86,fragment:92,schema:102,scalar:114,type:120,implements:126,interface:140,union:146,enum:154,input:164,directive:172,repeatable:176,extend:192},Xue=fd.deserialize({version:14,states:"LQOYQPOOO!WQPO'#C}O!`QPO'#C_OOQO'#C_'#C_O!iQPO'#DYOOQO'#Ev'#EvOOQO'#D_'#D_O!nQPO'#D^O#_QPO'#D^O!iQPO'#DhO!iQPO'#DrO!iQPO'#DuO!iQPO'#DyO!iQPO'#EOOOQO'#Dd'#DdO#fQPO'#ESOOQO'#D]'#D]O!vQPO'#E^OOQO'#Ea'#EaOOQO'#E]'#E]OOQO'#FT'#FTOOQO'#Eu'#EuOOQO'#Eh'#EhQYQPOOOOQO'#C`'#C`OOQO'#DZ'#DZOOQO'#D`'#D`OOQO'#Di'#DiOOQO'#Ds'#DsOOQO'#Dv'#DvOOQO'#Dz'#DzOOQO'#EP'#EPOOQO'#ET'#ETOOQO'#E_'#E_O#kQPO'#CaO$VQPO'#DQO$[QPO'#DPO$sQPO'#DPO$xQPO'#DSO%WQPO'#DOOOQO'#En'#EnO%fQPO,59iOOQO'#Ca'#CaO%qQPO'#CxOOQO'#El'#ElO'hQPO'#CwO)[QPO'#CdOOQO,58y,58yO)aQPO,58yO)fQPO,58yO)nQPO,58yOOQO'#DT'#DTO)yQPO,59tO{QPO'#FUOOQO'#Db'#DbOOQO,59x,59xO*OQPO,59xO!nQPO,59xO!iQPO,5:PO!iQPO,5:SO!iQPO,5:^O!iQPO,5:aO!iQPO,5:eO!iQPO,5:jO*TQPO,5:nOOQO'#Df'#DfO*YQPO,5:SO+aQPO,5:^O,hQPO,5:aO-oQPO,5:eO.sQPO,5:jO/wQPO,5:nO!nQPO,5:xO!iQPO,5:|O!iQPO,5:}O!iQPO,5;OO!iQPO,5;PO!iQPO,5;QO!iQPO,5;ROOQO-E8f-E8fOOQO,59l,59lO0VQPO'#CzOOQO,59k,59kO0[QPO,59kO0mQPO,59kOOQO'#DR'#DRO0tQPO,59kO1OQPO,59nO!iQPO'#DVOOQO,59p,59pO)aQPO,59pO)fQPO,59pOOQO'#DW'#DWOOQO,59j,59jOOQO-E8l-E8lOOQO1G/T1G/TOOQO,59d,59dOOQO-E8j-E8jO1aQPO'#CeOOQO'#Ei'#EiO1fQPO,59OOOQO1G.e1G.eO)aQPO1G.eO)fQPO1G.eO)fQPO1G/`O1nQPO'#DcO1sQPO,5;pOOQO1G/d1G/dO*OQPO1G/dO1xQPO1G/kO4QQPO1G/nO5]QPO1G/xO6hQPO1G/{O7pQPO1G0PO8xQPO1G0UO/wQPO1G0YO9PQPO1G/nO9WQPO'#DkO9`QPO'#FWOOQO'#Dn'#DnOOQO1G/n1G/nO9hQPO1G/nOOQO'#Dl'#DlO:iQPO1G/xOOQO1G/x1G/xO:pQPO1G/xO;qQPO1G/{O;xQPO'#DxO5dQPO1G/{O<QQQO'#FYOOQO'#D|'#D|OOQO1G0P1G0PO6oQPO1G0PO9`QPO'#FZOOQO'#ER'#EROOQO1G0U1G0UO7wQPO1G0UO<YQPO'#DqO!iQPO'#DqOOQO'#Ep'#EpO<_QPO'#DpO<pQSO1G0YO)yQPO1G0YO>QQPO1G0YOOQO'#EV'#EVOOQO1G0d1G0dO>YQPO1G0dO!qQPO1G0hO?ZQPO1G0iO?ZQPO1G0jO?fQPO1G0kO?nQPO1G0lO?vQPO1G0mOOQO'#C|'#C|O@OQPO'#C{OOQO'#Em'#EmO@TQPO,59fOOQO1G/V1G/VO@]QPO1G/VO@nQPO1G/VOOQO1G/Y1G/YOOQO'#Cg'#CgOOQO,59q,59qOOQO1G/[1G/[O)aQPO1G/[O@uQPO,59POOQO-E8g-E8gOOQO1G.j1G.jOOQO7+$P7+$PO)aQPO7+$POOQO7+$z7+$zO)aQPO7+$zO!iQPO,59}OOQO1G1[1G1[OOQO7+%O7+%OOOQO7+%V7+%VOBOQPO7+%YOOQO7+%Y7+%YO@}QPO7+%YOCZQPO7+%dOOQO7+%d7+%dOBYQPO7+%dODfQPO7+%gODmQPO7+%gOOQO7+%k7+%kODtQPO7+%kOOQO7+%p7+%pOEuQPO7+%pO<pQSO7+%tO)yQPO7+%tO>QQPO7+%tO!iQPO,5:VOOQO,5:V,5:VOFvQPO'#DoO!iQPO'#DoOOQO'#Eo'#EoOGRQPO,5;rO!iQPO,5:dOOQO,5:d,5:dOG^QQO'#D}OGlQQO'#D}OOQO'#Eq'#EqOGqQQO,5;tOG|QPO,5;uO@uQPO,5:]OHXQPO,5:]OOQO-E8n-E8nOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#EY'#EYOH^QPO7+%tOOQO'#EX'#EXO<sQSO'#EXOOQO7+&O7+&OOOQO7+&S7+&SOJcQPO7+&TOOQO7+&T7+&TOIbQPO7+&TOKnQPO7+&UOOQO7+&U7+&UOJmQPO7+&UOLyQPO7+&VOMQQPO7+&VOOQO7+&W7+&WOMXQPO7+&WOOQO7+&X7+&XONYQPO7+&XO! ZQQO,59gOOQO-E8k-E8kOOQO1G/Q1G/QOOQO7+$q7+$qO! xQPO7+$qOOQO7+$v7+$vO@uQPO'#CjO!!ZQPO'#E|OOQO'#E|'#E|O!#UQPO1G.kOOQO<<Gk<<GkOOQO<<Hf<<HfOOQO1G/i1G/iOOQO<<Ht<<HtO!#gQPO<<HtOOQO<<IO<<IOO!$hQPO<<IOO!%iQPO<<IROOQO<<IV<<IVOOQO<<I[<<I[O!&mQPO<<I`O<pQSO<<I`O)yQPO<<I`OOQO1G/q1G/qO@uQPO,5:ZO!'qQPO,5:ZO!'vQPO,5:ZOOQO-E8m-E8mOOQO1G1^1G1^OOQO1G0O1G0OO!(RQQO'#CxO!(dQQO'#CwOOQO,5:i,5:iO!(rQQO,5:iOOQO-E8o-E8oOOQO1G1`1G1`OOQO1G1a1G1aO!)QQPO1G/wO@uQPO1G/wO<sQSO,5:sOOQO,5:s,5:sOOQO<<Io<<IoO!)lQPO<<IoOOQO<<Ip<<IpO!*mQPO<<IpO!+nQPO<<IqOOQO<<Ir<<IrOOQO<<Is<<IsO!,rQQO'#CsO!,yQPO'#CvOOQO'#FP'#FPOOQO1G/R1G/ROOQO<<H]<<H]O!-RQPO,59UOOQO,59V,59VO! ZQQO'#ClOOQO7+$V7+$VO!-WQPO7+$VO!-cQPO7+$VOOQOAN>`AN>`OOQOAN>jAN>jO!-qQPOAN>zO<pQSOAN>zO!.uQPO1G/uO@uQPO1G/uO!/TQPO1G/uOOQO1G0T1G0TOOQO7+%c7+%cO!/YQPO7+%cO!/qQPO7+%cOOQO1G0_1G0_OOQOAN?ZAN?ZOOQOAN?[AN?[O!/xQQO'#EjO!0mQQO,59_OOQO,59_,59_O!0tQPO'#FROOQO'#Ek'#EkO!0yQPO,59bOOQO,59b,59bOOQO1G.p1G.pOOQO,59W,59WOOQO<<Gq<<GqO!1RQPO<<GqO!1^QPOG24fOOQO7+%a7+%aO!2bQPO7+%aO@uQPO7+%aOOQO<<H}<<H}O!2pQPO<<H}OOQO,5;U,5;UOOQO-E8h-E8hOOQO1G.y1G.yO! ZQQO,5;mOOQO-E8i-E8iOOQO1G.|1G.|OOQOAN=]AN=]OOQO<<H{<<H{O!3XQPO<<H{OOQOAN>iAN>iO!3gQPO1G1XOOQOAN>gAN>gOOQO7+&s7+&s",stateData:"!3w~O#hOSPOS~OcUOiPO!OiO!TjO!^kO!hlO!kmO!onO!toO!xpO#SqO#lhO#mhO#nhO~O#krO#vvO~OV!OOiPOm{O#kzO~Oi!VOm{O~O!TjO!Z!cO!^kO!hlO!kmO!onO!toO~O!xpO~P!vOm!iO~OVuXhuXiuXmuX#kuX#oTX#tuX#vuX~O#o!rO~OV!sOiPOm{OhsX#ksX#tsX#vsX~O#k!wO~OiPOm{O{#OO#kzO~O#t#POhrX#krX#vrX~Oh#RO#krO#vvO~OV!sOilXmlXhlX#klX#tlX#vlXclX!OlX!TlX!^lX!hlX!klX!olX!tlX!xlX#SlX#flX#llX#mlX#nlX#rlXUlXYlX{lX!zlX#olX~Om{OikXhkX#kkX#tkX#vkXckX!OkX!TkX!^kX!hkX!kkX!okX!tkX!xkX#SkX#fkX#lkX#mkX#nkX#rkXUkXYkX{kX!zkX#okX~OY#UO~OiPO~OiPOm{O~OV!OOiPOm{O~O{#OO~Oi!VO~Om#gO~Oi#jOm{O!a#nOc![a!O![a!T![a!^![a!h![a!k![a!o![a!t![a!x![a#S![a#f![a#l![a#m![a#n![a~Oi#jOm{O!a#nOc!fa!O!fa!T!fa!^!fa!h!fa!k!fa!o!fa!t!fa!x!fa#S!fa#f!fa#l!fa#m!fa#n!fa~Om{O#r#sOc!iai!ia!O!ia!T!ia!^!ia!h!ia!k!ia!o!ia!t!ia!x!ia#S!ia#f!ia#l!ia#m!ia#n!ia~Oi#uOm{Oc!ma!O!ma!T!ma!^!ma!h!ma!k!ma!o!ma!t!ma!x!ma#S!ma#f!ma#l!ma#m!ma#n!ma~Oi#yOm{Oc!ra!O!ra!T!ra!^!ra!h!ra!k!ra!o!ra!t!ra!x!ra#S!ra#f!ra#l!ra#m!ra#n!ra~OcUO{#OO!z$UO#kzO~O#k$_O~OiPOhsa#ksa#tsa#vsa~Om{O~P0[OV!sOm{O~P0[Om{Ohva#kva#tva#vva~O#o$kO~OU$mOY#UO~O#o$rO~Oh$sO~Om{Oc!Xii!Xi!O!Xi!T!Xi!^!Xi!h!Xi!k!Xi!o!Xi!t!Xi!x!Xi#S!Xi#f!Xi#l!Xi#m!Xi#n!Xi~Oi#jOm{Oc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O!a#nO~P2|Oi#jOm{Oc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O!a#nO~P4XO#r#sOc!iii!ii!O!ii!T!ii!^!ii!h!ii!k!ii!o!ii!t!ii!x!ii#S!ii#f!ii#l!ii#m!ii#n!ii~Om{O~P5dOi#uOc!mi!O!mi!T!mi!^!mi!h!mi!k!mi!o!mi!t!mi!x!mi#S!mi#f!mi#l!mi#m!mi#n!mi~Om{O~P6oOi#yOc!ri!O!ri!T!ri!^!ri!h!ri!k!ri!o!ri!t!ri!x!ri#S!ri#f!ri#l!ri#m!ri#n!ri~Om{O~P7wO#y%VO~P2|O#kzO#y%VO~OcUO#kzO~Oi#jOc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O#y%VO~P4XOi#jOc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O#{%]O~P5gO#kzO#{%]O~OcUOf%_O~O#o%dO~OcUO#kzO{!dX!z!dX#o!dX~O#{%lO$O%gO$P%gO$Q%gO$R%gO$S%gO$T%gO$U%gO$V%gO$W%hO$X%hO$Y%hO$Z%hO$[%hO$]%hO$^%hO$_%hO$`%hO$a%hO$b%hO~O{#OO!z$UO~Oi!VOc#Qi!O#Qi!T#Qi!^#Qi!h#Qi!k#Qi!o#Qi!t#Qi!x#Qi#S#Qi#f#Qi#l#Qi#m#Qi#n#Qi~Oi#jOm{O!a#nO~Om{O#r#sO~Oi#uOm{O~Oi#yOm{O~O#o%{O~OU%}O#k$_O~OiPOhsi#ksi#tsi#vsi~Om{O~P@]O]&RO#kzO~Oi#jOc![q!O![q!T![q!^![q!h![q!k![q!o![q!t![q!x![q#S![q#f![q#l![q#m![q#n![q~Om{O#y%VO~P@}Oi#jOc!fq!O!fq!T!fq!^!fq!h!fq!k!fq!o!fq!t!fq!x!fq#S!fq#f!fq#l!fq#m!fq#n!fq~Om{O#y%VO~PBYOc!iqi!iq!O!iq!T!iq!^!iq!h!iq!k!iq!o!iq!t!iq!x!iq#S!iq#f!iq#l!iq#m!iq#n!iq~O#{%]O~PCeO#r#sO~PCeOi#uOc!mq!O!mq!T!mq!^!mq!h!mq!k!mq!o!mq!t!mq!x!mq#S!mq#f!mq#l!mq#m!mq#n!mq~Oi#yOc!rq!O!rq!T!rq!^!rq!h!rq!k!rq!o!rq!t!rq!x!rq#S!rq#f!rq#l!rq#m!rq#n!rq~OcUO#kzO#o&eO~OcUOh&iO#kzO~Om&kOc!qXf!qXh!qX~Of&nO~OcUOf%_Oh&pO~OcUOh&qO#kzO~O#o&sO~O#{&tOc!vqi!vq!O!vq!T!vq!^!vq!h!vq!k!vq!o!vq!t!vq!x!vq#S!vq#f!vq#l!vq#m!vq#n!vq~Oi#jOc#Vq!O#Vq!T#Vq!^#Vq!h#Vq!k#Vq!o#Vq!t#Vq!x#Vq#S#Vq#f#Vq#l#Vq#m#Vq#n#Vq~Om{O#y%VO~PIbOi#jOc#Wq!O#Wq!T#Wq!^#Wq!h#Wq!k#Wq!o#Wq!t#Wq!x#Wq#S#Wq#f#Wq#l#Wq#m#Wq#n#Wq~Om{O#y%VO~PJmOc#Xqi#Xq!O#Xq!T#Xq!^#Xq!h#Xq!k#Xq!o#Xq!t#Xq!x#Xq#S#Xq#f#Xq#l#Xq#m#Xq#n#Xq~O#{%]O~PKxO#r#sO~PKxOi#uOc#Yq!O#Yq!T#Yq!^#Yq!h#Yq!k#Yq!o#Yq!t#Yq!x#Yq#S#Yq#f#Yq#l#Yq#m#Yq#n#Yq~Oi#yOc#Zq!O#Zq!T#Zq!^#Zq!h#Zq!k#Zq!o#Zq!t#Zq!x#Zq#S#Zq#f#Zq#l#Zq#m#Zq#n#Zq~OY'PO]&}Oa'POb'POc'POd'POe'POf'POi'OO~OiPOhsq#ksq#tsq#vsq~O#q'TOU#pXY#pXm#pX#r#pX#t#pXc#pX{#pX!z#pX#k#pX[#pXh#pX#o#pX~Om{O#r'UO#t'VOUXiYXi~Oi#jOc![y!O![y!T![y!^![y!h![y!k![y!o![y!t![y!x![y#S![y#f![y#l![y#m![y#n![y~Oi#jOc!fy!O!fy!T!fy!^!fy!h!fy!k!fy!o!fy!t!fy!x!fy#S!fy#f!fy#l!fy#m!fy#n!fy~O#{%]Oc!iyi!iy!O!iy!T!iy!^!iy!h!iy!k!iy!o!iy!t!iy!x!iy#S!iy#f!iy#l!iy#m!iy#n!iy~O#{&tOc!vyi!vy!O!vy!T!vy!^!vy!h!vy!k!vy!o!vy!t!vy!x!vy#S!vy#f!vy#l!vy#m!vy#n!vy~O#o'_O~OcUO#kzO#o'_O~OV!sOclXflXhlXmlX~Om&kOckXfkXhkX~Om&kOc!qaf!qah!qa~Om{O#r'UOc!ei{!ei!z!ei#k!eih!ei#o!ei~Oi#jOc#Vy!O#Vy!T#Vy!^#Vy!h#Vy!k#Vy!o#Vy!t#Vy!x#Vy#S#Vy#f#Vy#l#Vy#m#Vy#n#Vy~Oi#jOc#Wy!O#Wy!T#Wy!^#Wy!h#Wy!k#Wy!o#Wy!t#Wy!x#Wy#S#Wy#f#Wy#l#Wy#m#Wy#n#Wy~O#{%]Oc#Xyi#Xy!O#Xy!T#Xy!^#Xy!h#Xy!k#Xy!o#Xy!t#Xy!x#Xy#S#Xy#f#Xy#l#Xy#m#Xy#n#Xy~O['jO~P! ZOh'nO#kzO~O['oO~O#t'qOUXqYXq~Om{O#t'qOUXqYXq~O#{&tOc!v!Ri!v!R!O!v!R!T!v!R!^!v!R!h!v!R!k!v!R!o!v!R!t!v!R!x!v!R#S!v!R#f!v!R#l!v!R#m!v!R#n!v!R~Om{Oc!cih!ci#k!ci~O#o'vO~Om{Oc!eq{!eq!z!eq#k!eqh!eq#o!eq~O#r'UO~P!/YO#t'yOY#^X[#^X]#^Xa#^Xb#^Xc#^Xd#^Xe#^Xf#^Xi#^X~O['{O~P! ZO#o'|O~Oh(OO#kzO~O#t(POUXyYXy~O#{&tOc!v!Zi!v!Z!O!v!Z!T!v!Z!^!v!Z!h!v!Z!k!v!Z!o!v!Z!t!v!Z!x!v!Z#S!v!Z#f!v!Z#l!v!Z#m!v!Z#n!v!Z~Om{Oc!cqh!cq#k!cq~Om{Oc!ey{!ey!z!ey#k!eyh!ey#o!ey~Om{Oc!cyh!cy#k!cy~O#t(VOh#ui#k#ui~Odefe~",goto:":k$OPPP$P$T$[PP&d&jP&nPP'Z'd'mPPPPPP'vPP'v'}*|P,T,_,c,g-k-o-s-w-o.O-o.U.[P$P.oP.s.w.{/bP/l/|.w0P0TP0P0ZP0e0wP1P2T2X2e0P2nP0P2xP3S0P3dP3n4O0P4SP4^.w4nP4uP5P5]5i5i.s5q5uP5q5y5y5y5y5y5y5}6T6Z6a6g7r7x8O8U8cPPP8i8mPPPPP8qPP9WP9eP8m9iP9qP:Z:cTTOgSQOgR#]!VSsPyQ!SQS!TSvQ!dXQ!eYQ!fZQ!g[Q!h]Q#a![Q#b!]Q#c!^Q#d!_Q#e!`Q#f!a^#}!i#g#y$Q%X%c&gQ$X!kQ$Y!lQ$Z!mQ$[!nQ$]!oQ$^!pj$g!z#i#s$k$r%V%]%d&R&e&s'_'vS%X#j%[Q%e$OQ&g%YT'k'O'mQ!RQR#Z!ST#V!O#WQ$h!zQ%W#iQ%^#s^&S$k%d&R&e&s'_'vQ&X$rQ&d%VR&j%]_&S$k%d&R&e&s'_'v_&T$k%d&R&e&s'_'vQ'X&UQ'c&rR'x'dZ'P%{&}'U'i'|Q!QQQ!YVQ!utQ!|vS#Y!R!SQ#`!ZQ#m!dQ#q!eQ#t!fQ#x!gQ#|!hQ$W!jS$d!v!xQ$f!yQ$j!}Q$o#ZQ$q#[Q$u#aS$x#b#hS${#c#oQ$}#dQ%P#eQ%R#fQ%n$XQ%q$YQ%t$ZQ%v$[Q%x$]Q%z$^Q&P$eQ&Z$vQ&]$yQ&m%_Q&w%oQ&y%rQ'W&UQ'a&nQ'b&rQ'r'XQ't'^S'w'c'dQ(Q'uQ(S'xR(U(R#Z|QVtv}!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%_%o%r&U&l&n&r'X'^'c'd'u'x(RQ!vtS#S{&kR$e!xT$a!s$bT$`!s$bSROgQ!PQQ!ttQ!{vU#X!Q!R!SU$c!u!v!xS$i!|!}S$n#Y#ZQ$p#[S&O$d$eQ&Q$jQ&V$oQ&W$qR'R&PTxPyTwPyTuPyStPyR!xuQ!USR!yvQ!}vR#[!US!zv!UQ$R!iU%S#g$S$TS&b%T%UR']&cTSOgTdOgT`OgSWOg^$O!i#g#y$Q%X%c&gS%Y#j%[T%`#u%bSVOgQ!ZWR!jaQ!XVS#_!Y!ZQ$V!jQ$t#`R%m$WR#^!VT^OgQ![WR!kaSXOgQ!]WR!laQ#h!dQ#o!eQ$v#bQ$y#cQ%o$YR%r$Z]#i!d!e#b#c$Y$ZQ#l!dQ#p!eU$w#b#h#mU$z#c#o#qQ%p$YQ%s$ZS&Y$v$xS&[$y${S&v%o%qS&x%r%tQ'Y&ZQ'Z&]Q'f&wR'g&yT%Z#j%[Q$T!iQ%U#gQ&f%XR'`&g_$P!i#g#y$Q%X%c&gSYOgQ!^WR!maSZOgQ!_WR!naQ#r!fS$|#d#tQ%u$[Q&^$}R&z%vS[OgQ!`WR!oaQ#w!gS%O#e#xQ%w$]Q&_%PR&{%xT%a#u%bS]OgQ!aWR!paQ#{!hS%Q#f#|Q%y$^Q&`%RR&|%zS_OgR!bWQ$S!iS%T#g$TR&c%UQ%j$RQ&a%SQ'[&bR's']W%k$R%S&b']Q&u%lR'e&t]%i$R%S%l&b&t']TcOgTaOgTbOgQgOR!qgQ#W!OR$l#WQ'i&}R'z'iQ'm'OR'}'m#Q}QVtv!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%o%r&U&r'X'^'c'd'u'x(RS#T}&lT&l%_&nQ$b!sR%|$bQyPR#QyQ%[#jR&h%[W$Q!i#g%X&gQ%c#yT%f$Q%cQ%b#uR&o%bTfOgTeOgQ&U$kQ&r%dQ'S&RQ'^&eQ'd&sQ'u'_R(R'vQ'Q%{S'h&}'iQ'p'UR(T'|T'l'O'm]!WV!Y!Z!j#`$W}#k!d!e#b#c#h#m#o#q$Y$Z$v$x$y${%o%q%r%t&Z&]&w&y]#v!g#e#x$]%P%x]#z!h#f#|$^%R%z",nodeNames:" Comment Document OperationDefinition OperationType Name ) ( VariableDefinitions VariableDefinition Variable NamedType ] [ ListType NonNullType DefaultValue IntValue FloatValue StringValue BooleanValue NullValue EnumValue ListValue } { ObjectValue Directives Directive DirectiveName Arguments Argument ArgumentAttributeName SelectionSet Selection Field Alias FieldName FragmentSpread FragmentName InlineFragment TypeCondition OnKeyword on FragmentDefinition FragmentKeyword fragment TypeSystemDefinition SchemaDefinition Description SchemaKeyword schema RootTypeDefinition RootOperationTypeDefinition TypeDefinition ScalarTypeDefinition ScalarKeyword scalar ObjectTypeDefinition TypeKeyword type ImplementsInterfaces ImplementsKeyword implements FieldsDefinition FieldDefinition ArgumentsDefinition InputValueDefinition InterfaceTypeDefinition InterfaceKeyword interface UnionTypeDefinition UnionKeyword union UnionMemberTypes EnumTypeDefinition EnumKeyword enum EnumValuesDefinition EnumValueDefinition InputObjectTypeDefinition InputKeyword input InputFieldsDefinition DirectiveDefinition DirectiveKeyword directive RepeatableKeyword repeatable DirectiveLocations DirectiveLocation ExecutableDirectiveLocation TypeSystemDirectiveLocation TypeSystemExtension SchemaExtension ExtendKeyword extend TypeExtension ScalarTypeExtension ObjectTypeExtension InterfaceTypeExtension UnionTypeExtension EnumTypeExtension InputObjectTypeExtension",maxTerm:156,nodeProps:[["openedBy",6,"(",12,"[",24,"{"],["closedBy",7,")",13,"]",25,"}"]],skippedNodes:[0,1],repeatNodeCount:10,tokenData:"#8g~R!XX^$npq$nqr%crs%hst)ntu)yvw*hxy*myz*r|}*w}!O*|!O!P,e!Q![+S![!],v!_!`,{!b!c-Q!c!d-o!d!g.Y!g!h8X!h!i=b!i!k.Y!k!l!$t!l!o.Y!o!p!>b!p!q.Y!q!r!Bk!r!s.Y!s!t!Es!t!u.Y!u!v!Hb!v!w.Y!w!x#%l!x!y#(Z!y!}.Y!}#O#2Y#P#Q#2_#R#S.Y#T#Y.Y#Y#Z#2d#Z#b.Y#b#c#5O#c#h.Y#h#i#7S#i#o.Y#o#p#8W#p#q#8]#q#r#8b#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~$sY#h~X^$npq$n#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~%hO#q~~%kVOY&QZ]&Q^r&Qrs(as#O&Q#O#P&o#P~&Q~&TVOY&QZ]&Q^r&Qrs&js#O&Q#O#P&o#P~&Q~&oOc~~&rXrs&Q!P!Q&Q#O#P&Q#U#V&Q#Y#Z&Q#b#c&Q#f#g&Q#h#i&Q#i#j'_~'bR!Q!['k!c!i'k#T#Z'k~'nR!Q!['w!c!i'w#T#Z'w~'zR!Q![(T!c!i(T#T#Z(T~(WR!Q![&Q!c!i&Q#T#Z&Q~(fPc~rs(i~(lQrs(r#O#P)[~(uROr(irs)Os~(i~)RROr(irs&js~(i~)_Prs)b~)ePrs)h~)kPrs(i~)sQP~OY)nZ~)n~)|R!c!}*V#R#S*V#T#o*V~*[SY~!Q![*V!c!}*V#R#S*V#T#o*V~*mO#y~~*rOV~~*wOU~~*|O#t~~+PP!Q![+S~+XSa~!O!P+e!Q![+S!g!h+y#X#Y+y~+hP!Q![+k~+pRb~!Q![+k!g!h+y#X#Y+y~+|R{|,V}!O,V!Q![,]~,YP!Q![,]~,bPb~!Q![,]~,hP!O!P,k~,nP!O!P,q~,vO#v~~,{O#o~~-QO#r~~-TR!c!}-^#R#S-^#T#o-^~-cSm~!Q![-^!c!}-^#R#S-^#T#o-^V-vU#kPfQ!Q![.Y!c!t.Y!t!u.m!u!}.Y#R#S.Y#T#o.YR.aS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV.tU#kPfQ!Q![.Y!c!i.Y!i!j/W!j!}.Y#R#S.Y#T#o.YV/_U#kPfQ!Q![.Y!c!w.Y!w!x/q!x!}.Y#R#S.Y#T#o.YV/xU#kPfQ!Q![.Y!c!o.Y!o!p0[!p!}.Y#R#S.Y#T#o.YV0cU#kPfQ!Q![.Y!c!g.Y!g!h0u!h!}.Y#R#S.Y#T#o.YV0|U#kPfQ!Q![.Y!c!p.Y!p!q1`!q!}.Y#R#S.Y#T#o.YV1gU#kPfQ!Q![.Y!c!v.Y!v!w1y!w!}.Y#R#S.Y#T#o.YV2QS#kPfQ!Q![.Y!c!}.Y#R#S2^#T#o.YV2eU#kPfQ!Q![.Y!c!f.Y!f!g2w!g!}.Y#R#S.Y#T#o.YV3OU#kPfQ!Q![.Y!c!g.Y!g!h3b!h!}.Y#R#S.Y#T#o.YV3iU#kPfQ!Q![.Y!c!h.Y!h!i3{!i!}.Y#R#S.Y#T#o.YV4SU#kPfQ!Q![.Y!c!k.Y!k!l4f!l!}.Y#R#S.Y#T#o.YV4mU#kPfQ!Q![.Y!c!p.Y!p!q5P!q!}.Y#R#S.Y#T#o.YV5WU#kPfQ!Q![.Y!c!k.Y!k!l5j!l!}.Y#R#S.Y#T#o.YV5qU#kPfQ!Q![.Y!c!v.Y!v!w6T!w!}.Y#R#S.Y#T#o.YV6[U#kPfQ!Q![.Y!c!k.Y!k!l6n!l!}.Y#R#S.Y#T#o.YV6uU#kPfQ!Q![.Y!c!q.Y!q!r7X!r!}.Y#R#S.Y#T#o.YV7`U#kPfQ!Q![.Y!c!p.Y!p!q7r!q!}.Y#R#S.Y#T#o.YV7{S$[S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV8`U#kPfQ!Q![.Y!c!p.Y!p!q8r!q!}.Y#R#S.Y#T#o.YV8yU#kPfQ!Q![.Y!c!w.Y!w!x9]!x!}.Y#R#S.Y#T#o.YV9dU#kPfQ!Q![.Y!c!o.Y!o!p9v!p!}.Y#R#S.Y#T#o.YV:PS$_S#kPfQ!Q![.Y!c!}.Y#R#S:]#T#o.YV:dU#kPfQ!Q![.Y!c!x.Y!x!y:v!y!}.Y#R#S.Y#T#o.YV:}T#kPfQ!Q![.Y!c!d;^!d!}.Y#R#S.Y#T#o.YV;eU#kPfQ!Q![.Y!c!n.Y!n!o;w!o!}.Y#R#S.Y#T#o.YV<OU#kPfQ!Q![.Y!c!w.Y!w!x<b!x!}.Y#R#S.Y#T#o.YV<iU#kPfQ!Q![.Y!c!g.Y!g!h<{!h!}.Y#R#S.Y#T#o.YV=US$`S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV=iW#kPfQ!Q![.Y!c!k.Y!k!l>R!l!t.Y!t!uFQ!u!}.Y#R#S.Y#T#o.YV>YU#kPfQ!Q![.Y!c!g.Y!g!h>l!h!}.Y#R#S.Y#T#o.YV>sU#kPfQ!Q![.Y!c!n.Y!n!o?V!o!}.Y#R#S.Y#T#o.YV?^U#kPfQ!Q![.Y!c!f.Y!f!g?p!g!}.Y#R#S.Y#T#o.YV?yS$RS#kPfQ!Q![.Y!c!}.Y#R#S@V#T#o.YV@^U#kPfQ!Q![.Y!c!f.Y!f!g@p!g!}.Y#R#S.Y#T#o.YV@wU#kPfQ!Q![.Y!c!g.Y!g!hAZ!h!}.Y#R#S.Y#T#o.YVAbU#kPfQ!Q![.Y!c!h.Y!h!iAt!i!}.Y#R#S.Y#T#o.YVA{U#kPfQ!Q![.Y!c!k.Y!k!lB_!l!}.Y#R#S.Y#T#o.YVBfU#kPfQ!Q![.Y!c!p.Y!p!qBx!q!}.Y#R#S.Y#T#o.YVCPU#kPfQ!Q![.Y!c!k.Y!k!lCc!l!}.Y#R#S.Y#T#o.YVCjU#kPfQ!Q![.Y!c!v.Y!v!wC|!w!}.Y#R#S.Y#T#o.YVDTU#kPfQ!Q![.Y!c!k.Y!k!lDg!l!}.Y#R#S.Y#T#o.YVDnU#kPfQ!Q![.Y!c!q.Y!q!rEQ!r!}.Y#R#S.Y#T#o.YVEXU#kPfQ!Q![.Y!c!p.Y!p!qEk!q!}.Y#R#S.Y#T#o.YVEtS$ZS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YVFXT#kPfQ!Q![.Y!c!dFh!d!}.Y#R#S.Y#T#o.YVFoU#kPfQ!Q![.Y!c!i.Y!i!jGR!j!}.Y#R#S.Y#T#o.YVGYU#kPfQ!Q![.Y!c!o.Y!o!pGl!p!}.Y#R#S.Y#T#o.YVGsU#kPfQ!Q![.Y!c!g.Y!g!hHV!h!}.Y#R#S.Y#T#o.YVH^U#kPfQ!Q![.Y!c!p.Y!p!qHp!q!}.Y#R#S.Y#T#o.YVHwU#kPfQ!Q![.Y!c!v.Y!v!wIZ!w!}.Y#R#S.Y#T#o.YVIbS#kPfQ!Q![.Y!c!}.Y#R#SIn#T#o.YVIuW#kPfQ!Q![.Y!c!f.Y!f!gJ_!g!u.Y!u!v! o!v!}.Y#R#S.Y#T#o.YVJfU#kPfQ!Q![.Y!c!g.Y!g!hJx!h!}.Y#R#S.Y#T#o.YVKPU#kPfQ!Q![.Y!c!h.Y!h!iKc!i!}.Y#R#S.Y#T#o.YVKjU#kPfQ!Q![.Y!c!k.Y!k!lK|!l!}.Y#R#S.Y#T#o.YVLTU#kPfQ!Q![.Y!c!p.Y!p!qLg!q!}.Y#R#S.Y#T#o.YVLnU#kPfQ!Q![.Y!c!k.Y!k!lMQ!l!}.Y#R#S.Y#T#o.YVMXU#kPfQ!Q![.Y!c!v.Y!v!wMk!w!}.Y#R#S.Y#T#o.YVMrU#kPfQ!Q![.Y!c!k.Y!k!lNU!l!}.Y#R#S.Y#T#o.YVN]U#kPfQ!Q![.Y!c!q.Y!q!rNo!r!}.Y#R#S.Y#T#o.YVNvU#kPfQ!Q![.Y!c!p.Y!p!q! Y!q!}.Y#R#S.Y#T#o.YV! cS$SS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV! vU#kPfQ!Q![.Y!c!r.Y!r!s!!Y!s!}.Y#R#S.Y#T#o.YV!!aU#kPfQ!Q![.Y!c!t.Y!t!u!!s!u!}.Y#R#S.Y#T#o.YV!!zU#kPfQ!Q![.Y!c!g.Y!g!h!#^!h!}.Y#R#S.Y#T#o.YV!#eT#kPfQ!Q![.Y!c!d!#t!d!}.Y#R#S.Y#T#o.YV!#{U#kPfQ!Q![.Y!c!f.Y!f!g!$_!g!}.Y#R#S.Y#T#o.YV!$hS$TS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!${U#kPfQ!Q![.Y!c!p.Y!p!q!%_!q!}.Y#R#S.Y#T#o.YV!%fY#kPfQ!Q![.Y!c!n.Y!n!o!&U!o!r.Y!r!s!,z!s!v.Y!v!w!:r!w!}.Y#R#S.Y#T#o.YV!&]U#kPfQ!Q![.Y!c!k.Y!k!l!&o!l!}.Y#R#S.Y#T#o.YV!&vU#kPfQ!Q![.Y!c!p.Y!p!q!'Y!q!}.Y#R#S.Y#T#o.YV!'aU#kPfQ!Q![.Y!c!g.Y!g!h!'s!h!}.Y#R#S.Y#T#o.YV!'zS#kPfQ!Q![.Y!c!}.Y#R#S!(W#T#o.YV!(_U#kPfQ!Q![.Y!c!h.Y!h!i!(q!i!}.Y#R#S.Y#T#o.YV!(xU#kPfQ!Q![.Y!c!t.Y!t!u!)[!u!}.Y#R#S.Y#T#o.YV!)cT#kPfQ!Q![.Y!c!d!)r!d!}.Y#R#S.Y#T#o.YV!)yU#kPfQ!Q![.Y!c!i.Y!i!j!*]!j!}.Y#R#S.Y#T#o.YV!*dU#kPfQ!Q![.Y!c!o.Y!o!p!*v!p!}.Y#R#S.Y#T#o.YV!*}U#kPfQ!Q![.Y!c!g.Y!g!h!+a!h!}.Y#R#S.Y#T#o.YV!+hU#kPfQ!Q![.Y!c!p.Y!p!q!+z!q!}.Y#R#S.Y#T#o.YV!,RU#kPfQ!Q![.Y!c!v.Y!v!w!,e!w!}.Y#R#S.Y#T#o.YV!,nS$US#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!-RU#kPfQ!Q![.Y!c!w.Y!w!x!-e!x!}.Y#R#S.Y#T#o.YV!-lU#kPfQ!Q![.Y!c!v.Y!v!w!.O!w!}.Y#R#S.Y#T#o.YV!.VS#kPfQ!Q![.Y!c!}.Y#R#S!.c#T#o.YV!.jW#kPfQ!Q![.Y!c!h.Y!h!i!/S!i!q.Y!q!r!7j!r!}.Y#R#S.Y#T#o.YV!/ZU#kPfQ!Q![.Y!c!k.Y!k!l!/m!l!}.Y#R#S.Y#T#o.YV!/tU#kPfQ!Q![.Y!c!g.Y!g!h!0W!h!}.Y#R#S.Y#T#o.YV!0_U#kPfQ!Q![.Y!c!n.Y!n!o!0q!o!}.Y#R#S.Y#T#o.YV!0xU#kPfQ!Q![.Y!c!f.Y!f!g!1[!g!}.Y#R#S.Y#T#o.YV!1cS#kPfQ!Q![.Y!c!}.Y#R#S!1o#T#o.YV!1vU#kPfQ!Q![.Y!c!f.Y!f!g!2Y!g!}.Y#R#S.Y#T#o.YV!2aU#kPfQ!Q![.Y!c!g.Y!g!h!2s!h!}.Y#R#S.Y#T#o.YV!2zU#kPfQ!Q![.Y!c!h.Y!h!i!3^!i!}.Y#R#S.Y#T#o.YV!3eU#kPfQ!Q![.Y!c!k.Y!k!l!3w!l!}.Y#R#S.Y#T#o.YV!4OU#kPfQ!Q![.Y!c!p.Y!p!q!4b!q!}.Y#R#S.Y#T#o.YV!4iU#kPfQ!Q![.Y!c!k.Y!k!l!4{!l!}.Y#R#S.Y#T#o.YV!5SU#kPfQ!Q![.Y!c!v.Y!v!w!5f!w!}.Y#R#S.Y#T#o.YV!5mU#kPfQ!Q![.Y!c!k.Y!k!l!6P!l!}.Y#R#S.Y#T#o.YV!6WU#kPfQ!Q![.Y!c!q.Y!q!r!6j!r!}.Y#R#S.Y#T#o.YV!6qU#kPfQ!Q![.Y!c!p.Y!p!q!7T!q!}.Y#R#S.Y#T#o.YV!7^S$bS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!7qU#kPfQ!Q![.Y!c!d.Y!d!e!8T!e!}.Y#R#S.Y#T#o.YV!8[U#kPfQ!Q![.Y!c!l.Y!l!m!8n!m!}.Y#R#S.Y#T#o.YV!8uU#kPfQ!Q![.Y!c!g.Y!g!h!9X!h!}.Y#R#S.Y#T#o.YV!9`U#kPfQ!Q![.Y!c!e.Y!e!f!9r!f!}.Y#R#S.Y#T#o.YV!9yU#kPfQ!Q![.Y!c!v.Y!v!w!:]!w!}.Y#R#S.Y#T#o.YV!:fS$aS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!:yU#kPfQ!Q![.Y!c!g.Y!g!h!;]!h!}.Y#R#S.Y#T#o.YV!;dU#kPfQ!Q![.Y!c!t.Y!t!u!;v!u!}.Y#R#S.Y#T#o.YV!;}U#kPfQ!Q![.Y!c!h.Y!h!i!<a!i!}.Y#R#S.Y#T#o.YV!<hT#kPfQ!Q![.Y!c!d!<w!d!}.Y#R#S.Y#T#o.YV!=OU#kPfQ!Q![.Y!c!e.Y!e!f!=b!f!}.Y#R#S.Y#T#o.YV!=iU#kPfQ!Q![.Y!c!g.Y!g!h!={!h!}.Y#R#S.Y#T#o.YV!>US$]S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!>iU#kPfQ!Q![.Y!c!w.Y!w!x!>{!x!}.Y#R#S.Y#T#o.YV!?SU#kPfQ!Q![.Y!c!v.Y!v!w!?f!w!}.Y#R#S.Y#T#o.YV!?mT#kPfQ!Q![.Y!c!d!?|!d!}.Y#R#S.Y#T#o.YV!@TU#kPfQ!Q![.Y!c!v.Y!v!w!@g!w!}.Y#R#S.Y#T#o.YV!@nU#kPfQ!Q![.Y!c!k.Y!k!l!AQ!l!}.Y#R#S.Y#T#o.YV!AXU#kPfQ!Q![.Y!c!q.Y!q!r!Ak!r!}.Y#R#S.Y#T#o.YV!ArU#kPfQ!Q![.Y!c!p.Y!p!q!BU!q!}.Y#R#S.Y#T#o.YV!B_S$PS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!BrU#kPfQ!Q![.Y!c!d.Y!d!e!CU!e!}.Y#R#S.Y#T#o.YV!C]U#kPfQ!Q![.Y!c!l.Y!l!m!Co!m!}.Y#R#S.Y#T#o.YV!CvU#kPfQ!Q![.Y!c!g.Y!g!h!DY!h!}.Y#R#S.Y#T#o.YV!DaU#kPfQ!Q![.Y!c!e.Y!e!f!Ds!f!}.Y#R#S.Y#T#o.YV!DzU#kPfQ!Q![.Y!c!v.Y!v!w!E^!w!}.Y#R#S.Y#T#o.YV!EgS$YS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!EzU#kPfQ!Q![.Y!c!w.Y!w!x!F^!x!}.Y#R#S.Y#T#o.YV!FeU#kPfQ!Q![.Y!c!g.Y!g!h!Fw!h!}.Y#R#S.Y#T#o.YV!GOU#kPfQ!Q![.Y!c!t.Y!t!u!Gb!u!}.Y#R#S.Y#T#o.YV!GiU#kPfQ!Q![.Y!c!{.Y!{!|!G{!|!}.Y#R#S.Y#T#o.YV!HUS$OS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!HiW#kPfQ!Q![.Y!c!e.Y!e!f!IR!f!w.Y!w!x!Mq!x!}.Y#R#S.Y#T#o.YV!IYV#kPfQ!Q![.Y!c!d!Io!d!j.Y!j!k!Kp!k!}.Y#R#S.Y#T#o.YV!IvU#kPfQ!Q![.Y!c!n.Y!n!o!JY!o!}.Y#R#S.Y#T#o.YV!JaT#kPfQ!Q![.Y!c!d!Jp!d!}.Y#R#S.Y#T#o.YV!JwU#kPfQ!Q![.Y!c!t.Y!t!u!KZ!u!}.Y#R#S.Y#T#o.YV!KdS$XS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!KwU#kPfQ!Q![.Y!c!g.Y!g!h!LZ!h!}.Y#R#S.Y#T#o.YV!LbU#kPfQ!Q![.Y!c!o.Y!o!p!Lt!p!}.Y#R#S.Y#T#o.YV!L{T#kPfQ!Q![.Y!c!d!M[!d!}.Y#R#S.Y#T#o.YV!MeS$WS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!MxU#kPfQ!Q![.Y!c!d.Y!d!e!N[!e!}.Y#R#S.Y#T#o.YV!NcU#kPfQ!Q![.Y!c!u.Y!u!v!Nu!v!}.Y#R#S.Y#T#o.YV!N|U#kPfQ!Q![.Y!c!e.Y!e!f# `!f!}.Y#R#S.Y#T#o.YV# gU#kPfQ!Q![.Y!c!t.Y!t!u# y!u!}.Y#R#S.Y#T#o.YV#!QU#kPfQ!Q![.Y!c!k.Y!k!l#!d!l!}.Y#R#S.Y#T#o.YV#!kU#kPfQ!Q![.Y!c!r.Y!r!s#!}!s!}.Y#R#S.Y#T#o.YV##UU#kPfQ!Q![.Y!c!v.Y!v!w##h!w!}.Y#R#S.Y#T#o.YV##oU#kPfQ!Q![.Y!c!k.Y!k!l#$R!l!}.Y#R#S.Y#T#o.YV#$YU#kPfQ!Q![.Y!c!q.Y!q!r#$l!r!}.Y#R#S.Y#T#o.YV#$sU#kPfQ!Q![.Y!c!p.Y!p!q#%V!q!}.Y#R#S.Y#T#o.YV#%`S$QS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV#%sU#kPfQ!Q![.Y!c!p.Y!p!q#&V!q!}.Y#R#S.Y#T#o.YV#&^U#kPfQ!Q![.Y!c!k.Y!k!l#&p!l!}.Y#R#S.Y#T#o.YV#&wU#kPfQ!Q![.Y!c!q.Y!q!r#'Z!r!}.Y#R#S.Y#T#o.YV#'bU#kPfQ!Q![.Y!c!p.Y!p!q#'t!q!}.Y#R#S.Y#T#o.YV#'}S$^S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV#(bT#kPfQ!Q![.Y!c!d#(q!d!}.Y#R#S.Y#T#o.YV#(xU#kPfQ!Q![.Y!c!t.Y!t!u#)[!u!}.Y#R#S.Y#T#o.YV#)cU#kPfQ!Q![.Y!c!k.Y!k!l#)u!l!}.Y#R#S.Y#T#o.YV#)|T#kPfQ!Q![.Y!c!d#*]!d!}.Y#R#S.Y#T#o.YV#*dU#kPfQ!Q![.Y!c!d.Y!d!e#*v!e!}.Y#R#S.Y#T#o.YV#*}U#kPfQ!Q![.Y!c!n.Y!n!o#+a!o!}.Y#R#S.Y#T#o.YV#+hU#kPfQ!Q![.Y!c!g.Y!g!h#+z!h!}.Y#R#S.Y#T#o.YV#,RS#kPfQ!Q![.Y!c!}.Y#R#S#,_#T#o.YV#,fU#kPfQ!Q![.Y!c!f.Y!f!g#,x!g!}.Y#R#S.Y#T#o.YV#-PU#kPfQ!Q![.Y!c!g.Y!g!h#-c!h!}.Y#R#S.Y#T#o.YV#-jU#kPfQ!Q![.Y!c!h.Y!h!i#-|!i!}.Y#R#S.Y#T#o.YV#.TU#kPfQ!Q![.Y!c!k.Y!k!l#.g!l!}.Y#R#S.Y#T#o.YV#.nU#kPfQ!Q![.Y!c!p.Y!p!q#/Q!q!}.Y#R#S.Y#T#o.YV#/XU#kPfQ!Q![.Y!c!k.Y!k!l#/k!l!}.Y#R#S.Y#T#o.YV#/rU#kPfQ!Q![.Y!c!v.Y!v!w#0U!w!}.Y#R#S.Y#T#o.YV#0]U#kPfQ!Q![.Y!c!k.Y!k!l#0o!l!}.Y#R#S.Y#T#o.YV#0vU#kPfQ!Q![.Y!c!q.Y!q!r#1Y!r!}.Y#R#S.Y#T#o.YV#1aU#kPfQ!Q![.Y!c!p.Y!p!q#1s!q!}.Y#R#S.Y#T#o.YV#1|S$VS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.Y~#2_O]~~#2dO[~R#2kT#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#U#2z#U#o.YR#3RU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#3e#a#o.YR#3lU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#g.Y#g#h#4O#h#o.YR#4VU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#X.Y#X#Y#4i#Y#o.YR#4rS#kPdQfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YR#5VU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#i.Y#i#j#5i#j#o.YR#5pU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#6S#a#o.YR#6ZU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#6m#a#o.YR#6vS#kPeQfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YR#7ZU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#f.Y#f#g#7m#g#o.YR#7tU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#i.Y#i#j#4O#j#o.Y~#8]Oi~~#8bO#{~~#8gOh~",tokenizers:[0,1,2],topRules:{Document:[0,2]},specialized:[{term:119,get:t=>Gue[t]||-1}],tokenPrec:2978}),dD="RootTypeDefinition InputFieldsDefinition EnumValuesDefinition FieldsDefinition SelectionSet { }",Kue="scalar type interface union enum input implements fragment extend schema directive on repeatable",Jue="( ) { } : [ ]",_4=ed.define({parser:Xue.configure({props:[zx({Variable:A.variableName,BooleanValue:A.bool,StringValue:A.string,Comment:A.lineComment,IntValue:A.integer,FloatValue:A.float,EnumValue:A.special(A.name),NullValue:A.null,DirectiveName:A.modifier,[Kue]:A.keyword,OperationType:A.definitionKeyword,FieldName:A.propertyName,Field:A.propertyName,ArgumentAttributeName:A.attributeName,Name:A.atom,"( )":A.paren,"{ }":A.brace,",":A.separator,[Jue]:A.punctuation}),Wx.add({[dD]:ose({closing:"}",align:!0})}),Xx.add({[dD]:QB})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*(\{|\})$/}});function Zue(){return new Jie(_4)}const ece=/^[a-zA-Z0-9_@(]$/,tce=_4.data.of({autocomplete:t=>{const e=m_(t.state),n=x4(t.state);if(!e)return null;const r=t.matchBefore(/\w*/);if(!r)return null;const i=r.text.split("").pop();if(!ece.test(i)&&!t.explicit)return null;const s=t.state.doc.toString(),o=O4(t.state.doc,t.pos),a=Jle(e,s,o);return a.length===0?null:{from:r.from,options:a.map(l=>({label:l.label,detail:l.detail||"",info:u=>{if(n!=null&&n.onCompletionInfoRender)return n.onCompletionInfoRender(l,t,u);if(l.documentation||l.isDeprecated&&l.deprecationReason){const c=document.createElement("div");return c.innerText=l.documentation||l.deprecationReason||"",c}}}))}}}),nce=se.domEventHandlers({click(t,e){var n,r,i;const s=m_(e.state);if(!s)return;const o=e.state.selection.main.head,a=O4(e.state.doc,o),l=f4(e.state.doc.toString(),a),u=d4(s,l.state),c=x4(e.state);c!=null&&c.onShowInDocs&&que(t)&&c.onShowInDocs((n=u.fieldDef)===null||n===void 0?void 0:n.name,(r=u.type)===null||r===void 0?void 0:r.toString(),(i=u.parentType)===null||i===void 0?void 0:i.toString())}}),rce=["error","warning","info"],ice=Vue(t=>{const e=m_(t.state);return e?yue(t.state.doc.toString(),e).map(r=>{if(!r.severity||!r.source)return null;const i=fD(t.state.doc,new IO(r.range.start.line,r.range.start.character)),s=Math.max(0,Math.min(i,t.state.doc.length)),o=fD(t.state.doc,new IO(r.range.end.line,r.range.end.character-1)),a=Math.min(Math.max(s+1,o),t.state.doc.length);return{from:s,to:s===a?a+1:a,severity:rce[r.severity-1],message:r.message,actions:[]}}).filter(r=>!!r):[]});function sce(t,e){return[Zue(),tce,ice,nce,Wue(t,e)]}function C4(t,e){return function(){return t.apply(e,arguments)}}const{toString:oce}=Object.prototype,{getPrototypeOf:g_}=Object,rw=(t=>e=>{const n=oce.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ds=t=>(t=t.toLowerCase(),e=>rw(e)===t),iw=t=>e=>typeof e===t,{isArray:Wc}=Array,dd=iw("undefined");function ace(t){return t!==null&&!dd(t)&&t.constructor!==null&&!dd(t.constructor)&&Jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const I4=ds("ArrayBuffer");function lce(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&I4(t.buffer),e}const uce=iw("string"),Jr=iw("function"),A4=iw("number"),sw=t=>t!==null&&typeof t=="object",cce=t=>t===!0||t===!1,rg=t=>{if(rw(t)!=="object")return!1;const e=g_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hce=ds("Date"),fce=ds("File"),dce=ds("Blob"),pce=ds("FileList"),mce=t=>sw(t)&&Jr(t.pipe),gce=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jr(t.append)&&((e=rw(t))==="formdata"||e==="object"&&Jr(t.toString)&&t.toString()==="[object FormData]"))},yce=ds("URLSearchParams"),vce=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Wc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function N4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const R4=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),P4=t=>!dd(t)&&t!==R4;function AO(){const{caseless:t}=P4(this)&&this||{},e={},n=(r,i)=>{const s=t&&N4(e,i)||i;rg(e[s])&&rg(r)?e[s]=AO(e[s],r):rg(r)?e[s]=AO({},r):Wc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sp(arguments[r],n);return e}const wce=(t,e,n,{allOwnKeys:r}={})=>(sp(e,(i,s)=>{n&&Jr(i)?t[s]=C4(i,n):t[s]=i},{allOwnKeys:r}),t),Sce=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bce=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ece=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&g_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Oce=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Tce=t=>{if(!t)return null;if(Wc(t))return t;let e=t.length;if(!A4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},kce=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&g_(Uint8Array)),xce=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},_ce=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Cce=ds("HTMLFormElement"),Ice=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ace=ds("RegExp"),D4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sp(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},Nce=t=>{D4(t,(e,n)=>{if(Jr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Jr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rce=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Wc(t)?r(t):r(String(t).split(e)),n},Pce=()=>{},Dce=(t,e)=>(t=+t,Number.isFinite(t)?t:e),dS="abcdefghijklmnopqrstuvwxyz",mD="0123456789",L4={DIGIT:mD,ALPHA:dS,ALPHA_DIGIT:dS+dS.toUpperCase()+mD},Lce=(t=16,e=L4.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Mce(t){return!!(t&&Jr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Fce=t=>{const e=new Array(10),n=(r,i)=>{if(sw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Wc(r)?[]:{};return sp(r,(o,a)=>{const l=n(o,i+1);!dd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},$ce=ds("AsyncFunction"),Uce=t=>t&&(sw(t)||Jr(t))&&Jr(t.then)&&Jr(t.catch),F={isArray:Wc,isArrayBuffer:I4,isBuffer:ace,isFormData:gce,isArrayBufferView:lce,isString:uce,isNumber:A4,isBoolean:cce,isObject:sw,isPlainObject:rg,isUndefined:dd,isDate:hce,isFile:fce,isBlob:dce,isRegExp:Ace,isFunction:Jr,isStream:mce,isURLSearchParams:yce,isTypedArray:kce,isFileList:pce,forEach:sp,merge:AO,extend:wce,trim:vce,stripBOM:Sce,inherits:bce,toFlatObject:Ece,kindOf:rw,kindOfTest:ds,endsWith:Oce,toArray:Tce,forEachEntry:xce,matchAll:_ce,isHTMLForm:Cce,hasOwnProperty:pD,hasOwnProp:pD,reduceDescriptors:D4,freezeMethods:Nce,toObjectSet:Rce,toCamelCase:Ice,noop:Pce,toFiniteNumber:Dce,findKey:N4,global:R4,isContextDefined:P4,ALPHABET:L4,generateString:Lce,isSpecCompliantForm:Mce,toJSONObject:Fce,isAsyncFn:$ce,isThenable:Uce};function Me(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}F.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const M4=Me.prototype,F4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{F4[t]={value:t}});Object.defineProperties(Me,F4);Object.defineProperty(M4,"isAxiosError",{value:!0});Me.from=(t,e,n,r,i,s)=>{const o=Object.create(M4);return F.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Me.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Vce=null;function NO(t){return F.isPlainObject(t)||F.isArray(t)}function $4(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function gD(t,e,n){return t?t.concat(e).map(function(i,s){return i=$4(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function jce(t){return F.isArray(t)&&!t.some(NO)}const Bce=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function ow(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!F.isUndefined(v[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(F.isDate(p))return p.toISOString();if(!l&&F.isBlob(p))throw new Me("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(p)||F.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,g,v){let m=p;if(p&&!v&&typeof p=="object"){if(F.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(F.isArray(p)&&jce(p)||(F.isFileList(p)||F.endsWith(g,"[]"))&&(m=F.toArray(p)))return g=$4(g),m.forEach(function(w,S){!(F.isUndefined(w)||w===null)&&e.append(o===!0?gD([g],S,s):o===null?g:g+"[]",u(w))}),!1}return NO(p)?!0:(e.append(gD(v,g,s),u(p)),!1)}const h=[],f=Object.assign(Bce,{defaultVisitor:c,convertValue:u,isVisitable:NO});function d(p,g){if(!F.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),F.forEach(p,function(m,y){(!(F.isUndefined(m)||m===null)&&i.call(e,m,F.isString(y)?y.trim():y,g,f))===!0&&d(m,g?g.concat(y):[y])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return d(t),e}function yD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function y_(t,e){this._pairs=[],t&&ow(t,this,e)}const U4=y_.prototype;U4.append=function(e,n){this._pairs.push([e,n])};U4.toString=function(e){const n=e?function(r){return e.call(this,r,yD)}:yD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Qce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V4(t,e,n){if(!e)return t;const r=n&&n.encode||Qce,i=n&&n.serialize;let s;if(i?s=i(e,n):s=F.isURLSearchParams(e)?e.toString():new y_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Yce{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vD=Yce,j4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qce=typeof URLSearchParams<"u"?URLSearchParams:y_,zce=typeof FormData<"u"?FormData:null,Hce=typeof Blob<"u"?Blob:null,Wce=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Gce=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xi={isBrowser:!0,classes:{URLSearchParams:qce,FormData:zce,Blob:Hce},isStandardBrowserEnv:Wce,isStandardBrowserWebWorkerEnv:Gce,protocols:["http","https","file","blob","url","data"]};function Xce(t,e){return ow(t,new Xi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Xi.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Kce(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jce(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function B4(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&F.isArray(i)?i.length:o,l?(F.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!F.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&F.isArray(i[o])&&(i[o]=Jce(i[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,i)=>{e(Kce(r),i,n,0)}),n}return null}const Zce={"Content-Type":void 0};function ehe(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const aw={transitional:j4,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i&&i?JSON.stringify(B4(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xce(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ow(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ehe(e)):e}],transformResponse:[function(e){const n=this.transitional||aw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&F.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Me.from(a,Me.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xi.classes.FormData,Blob:Xi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};F.forEach(["delete","get","head"],function(e){aw.headers[e]={}});F.forEach(["post","put","patch"],function(e){aw.headers[e]=F.merge(Zce)});const v_=aw,the=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nhe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&the[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},wD=Symbol("internals");function mh(t){return t&&String(t).trim().toLowerCase()}function ig(t){return t===!1||t==null?t:F.isArray(t)?t.map(ig):String(t)}function rhe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ihe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function pS(t,e,n,r,i){if(F.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function she(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ohe(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class lw{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=mh(l);if(!c)throw new Error("header name must be a non-empty string");const h=F.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=ig(a))}const o=(a,l)=>F.forEach(a,(u,c)=>s(u,c,l));return F.isPlainObject(e)||e instanceof this.constructor?o(e,n):F.isString(e)&&(e=e.trim())&&!ihe(e)?o(nhe(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=mh(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return rhe(i);if(F.isFunction(n))return n.call(this,i,r);if(F.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=mh(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||pS(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=mh(o),o){const a=F.findKey(r,o);a&&(!n||pS(r,r[a],a,n))&&(delete r[a],i=!0)}}return F.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||pS(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return F.forEach(this,(i,s)=>{const o=F.findKey(r,s);if(o){n[o]=ig(i),delete n[s];return}const a=e?she(s):String(s).trim();a!==s&&delete n[s],n[a]=ig(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[wD]=this[wD]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=mh(o);r[a]||(ohe(i,o),r[a]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}}lw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.freezeMethods(lw.prototype);F.freezeMethods(lw);const Ms=lw;function mS(t,e){const n=this||v_,r=e||n,i=Ms.from(r.headers);let s=r.data;return F.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Q4(t){return!!(t&&t.__CANCEL__)}function op(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(op,Me,{__CANCEL__:!0});function ahe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const lhe=Xi.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),F.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),F.isString(s)&&l.push("path="+s),F.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function uhe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function che(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Y4(t,e){return t&&!uhe(e)?che(t,e):e}const hhe=Xi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=F.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function fhe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dhe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const d=c&&u-c;return d?Math.round(f*1e3/d):void 0}}function SD(t,e){let n=0;const r=dhe(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const phe=typeof XMLHttpRequest<"u",mhe=phe&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ms.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}F.isFormData(i)&&(Xi.isStandardBrowserEnv||Xi.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const c=Y4(t.baseURL,t.url);u.open(t.method.toUpperCase(),V4(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const d=Ms.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:d,config:t,request:u};ahe(function(m){n(m),l()},function(m){r(m),l()},g),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(r(new Me("Request aborted",Me.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||j4;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Me(p,g.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,u)),u=null},Xi.isStandardBrowserEnv){const d=(t.withCredentials||hhe(c))&&t.xsrfCookieName&&lhe.read(t.xsrfCookieName);d&&s.set(t.xsrfHeaderName,d)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&F.forEach(s.toJSON(),function(p,g){u.setRequestHeader(g,p)}),F.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",SD(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",SD(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=d=>{u&&(r(!d||d.type?new op(null,t,u):d),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=fhe(c);if(f&&Xi.protocols.indexOf(f)===-1){r(new Me("Unsupported protocol "+f+":",Me.ERR_BAD_REQUEST,t));return}u.send(i||null)})},sg={http:Vce,xhr:mhe};F.forEach(sg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ghe={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=F.isString(n)?sg[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Me(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(F.hasOwnProp(sg,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!F.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:sg};function gS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new op(null,t)}function bD(t){return gS(t),t.headers=Ms.from(t.headers),t.data=mS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ghe.getAdapter(t.adapter||v_.adapter)(t).then(function(r){return gS(t),r.data=mS.call(t,t.transformResponse,r),r.headers=Ms.from(r.headers),r},function(r){return Q4(r)||(gS(t),r&&r.response&&(r.response.data=mS.call(t,t.transformResponse,r.response),r.response.headers=Ms.from(r.response.headers))),Promise.reject(r)})}const ED=t=>t instanceof Ms?t.toJSON():t;function xc(t,e){e=e||{};const n={};function r(u,c,h){return F.isPlainObject(u)&&F.isPlainObject(c)?F.merge.call({caseless:h},u,c):F.isPlainObject(c)?F.merge({},c):F.isArray(c)?c.slice():c}function i(u,c,h){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!F.isUndefined(c))return r(void 0,c)}function o(u,c){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(ED(u),ED(c),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,f=h(t[c],e[c],c);F.isUndefined(f)&&h!==a||(n[c]=f)}),n}const q4="1.4.0",w_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{w_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const OD={};w_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+q4+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Me(i(o," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!OD[o]&&(OD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function yhe(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Me("option "+s+" must be "+l,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const RO={assertOptions:yhe,validators:w_},so=RO.validators;class sv{constructor(e){this.defaults=e,this.interceptors={request:new vD,response:new vD}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=xc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&RO.assertOptions(r,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),i!=null&&(F.isFunction(i)?n.paramsSerializer={serialize:i}:RO.assertOptions(i,{encode:so.function,serialize:so.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&F.merge(s.common,s[n.method]),o&&F.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Ms.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,h=0,f;if(!l){const p=[bD.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,c=Promise.resolve(n);h<f;)c=c.then(p[h++],p[h++]);return c}f=a.length;let d=n;for(h=0;h<f;){const p=a[h++],g=a[h++];try{d=p(d)}catch(v){g.call(this,v);break}}try{c=bD.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=xc(this.defaults,e);const n=Y4(e.baseURL,e.url);return V4(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){sv.prototype[e]=function(n,r){return this.request(xc(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(xc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}sv.prototype[e]=n(),sv.prototype[e+"Form"]=n(!0)});const og=sv;class S_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new op(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new S_(function(i){e=i}),cancel:e}}}const vhe=S_;function whe(t){return function(n){return t.apply(null,n)}}function She(t){return F.isObject(t)&&t.isAxiosError===!0}const PO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PO).forEach(([t,e])=>{PO[e]=t});const bhe=PO;function z4(t){const e=new og(t),n=C4(og.prototype.request,e);return F.extend(n,og.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return z4(xc(t,i))},n}const Jt=z4(v_);Jt.Axios=og;Jt.CanceledError=op;Jt.CancelToken=vhe;Jt.isCancel=Q4;Jt.VERSION=q4;Jt.toFormData=ow;Jt.AxiosError=Me;Jt.Cancel=Jt.CanceledError;Jt.all=function(e){return Promise.all(e)};Jt.spread=whe;Jt.isAxiosError=She;Jt.mergeConfig=xc;Jt.AxiosHeaders=Ms;Jt.formToJSON=t=>B4(F.isHTMLForm(t)?new FormData(t):t);Jt.HttpStatusCode=bhe;Jt.default=Jt;const Ehe=Jt,Ohe="https://rickandmortyapi.com/graphql";async function TD(t,e,n){return(await Ehe.post(Ohe,{query:t,variables:n},{headers:e})).data}const The=t=>{const e=t.data;return Dle(e)},H4={getSchema:async()=>{const t=await TD(Ple());return The(t)},getGraphQLResponse:function(t){return TD(t.query,t.headers,t.variables)}},khe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=E_(t.state,n.from);return r.line?xhe(t):r.block?Che(t):!1};function b_(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const xhe=b_(Nhe,0),_he=b_(W4,0),Che=b_((t,e)=>W4(t,e,Ahe(e)),0);function E_(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const gh=50;function Ihe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-gh,r),o=t.sliceDoc(i,i+gh),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,h;i-r<=2*gh?c=h=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+gh),h=t.sliceDoc(i-gh,i));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function Ahe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function W4(t,e,n=e.selection.ranges){let r=n.map(s=>E_(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>Ihe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function Nhe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=E_(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>i&&(s==o||o>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of r)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const DO=hs.define(),Rhe=hs.define(),Phe=he.define(),G4=he.define({combine(t){return fs(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function Dhe(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const X4=Zt.define({create(){return Ki.empty},update(t,e){let n=e.state.facet(G4),r=e.annotation(DO);if(r){let l=e.docChanged?U.single(Dhe(e.changes)):void 0,u=fr.fromTransaction(e,l),c=r.side,h=c==0?t.undone:t.done;return u?h=ov(h,h.length,n.minDepth,u):h=Z4(h,e.startState.selection),new Ki(c==0?r.rest:h,c==0?h:r.rest)}let i=e.annotation(Rhe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ht.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=fr.fromTransaction(e),o=e.annotation(Ht.time),a=e.annotation(Ht.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ki(t.done.map(fr.fromJSON),t.undone.map(fr.fromJSON))}});function Lhe(t={}){return[X4,G4.of(t),se.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?K4:e.inputType=="historyRedo"?LO:null;return r?(e.preventDefault(),r(n)):!1}})]}function uw(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(X4,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const K4=uw(0,!1),LO=uw(1,!1),Mhe=uw(0,!0),Fhe=uw(1,!0);class fr{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new fr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new fr(e.changes&&qt.fromJSON(e.changes),[],e.mapped&&ss.fromJSON(e.mapped),e.startSelection&&U.fromJSON(e.startSelection),e.selectionsAfter.map(U.fromJSON))}static fromTransaction(e,n){let r=Gr;for(let i of e.startState.facet(Phe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new fr(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Gr)}static selection(e){return new fr(void 0,Gr,void 0,void 0,e)}}function ov(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function $he(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(r=!0)}}),r}function Uhe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function J4(t,e){return t.length?e.length?t.concat(e):t:e}const Gr=[],Vhe=200;function Z4(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Vhe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ov(t,t.length-1,1e9,n.setSelAfter(r)))}else return[fr.selection([e])]}function jhe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function yS(t,e){if(!t.length)return t;let n=t.length,r=Gr;for(;n;){let i=Bhe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[fr.selection(r)]:Gr}function Bhe(t,e,n){let r=J4(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Gr,n);if(!t.changes)return fr.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new fr(i,Oe.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const Qhe=/^(input\.type|delete)($|\.)/;class Ki{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Ki(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||Qhe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,$he(a.changes,e.changes))||r=="input.type.compose")?o=ov(o,o.length-1,i.minDepth,new fr(e.changes.compose(a.changes),J4(e.effects,a.effects),a.mapped,a.startSelection,Gr)):o=ov(o,o.length,i.minDepth,e),new Ki(o,Gr,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Gr;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Uhe(s[s.length-1],e)?this:new Ki(Z4(this.done,e),this.undone,n,r)}addMapping(e){return new Ki(yS(this.done,e),yS(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:DO.of({side:e,rest:jhe(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=i.length==1?Gr:i.slice(0,i.length-1);return s.mapped&&(o=yS(o,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:DO.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ki.empty=new Ki(Gr,Gr);const Yhe=[{key:"Mod-z",run:K4,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:LO,preventDefault:!0},{linux:"Ctrl-Shift-z",run:LO,preventDefault:!0},{key:"Mod-u",run:Mhe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Fhe,preventDefault:!0}];function Gc(t,e){return U.create(t.ranges.map(e),t.mainIndex)}function ps(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Pi({state:t,dispatch:e},n){let r=Gc(t.selection,n);return r.eq(t.selection)?!1:(e(ps(t,r)),!0)}function cw(t,e){return U.cursor(e?t.to:t.from)}function eY(t,e){return Pi(t,n=>n.empty?t.moveByChar(n,e):cw(n,e))}function Hn(t){return t.textDirectionAt(t.state.selection.main.head)==yt.LTR}const tY=t=>eY(t,!Hn(t)),nY=t=>eY(t,Hn(t));function rY(t,e){return Pi(t,n=>n.empty?t.moveByGroup(n,e):cw(n,e))}const qhe=t=>rY(t,!Hn(t)),zhe=t=>rY(t,Hn(t));function Hhe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function hw(t,e,n){let r=zn(t).resolveInner(e.head),i=n?_e.closedBy:_e.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;Hhe(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?Gi(t,r.from,1):Gi(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,U.cursor(a,n?-1:1)}const Whe=t=>Pi(t,e=>hw(t.state,e,!Hn(t))),Ghe=t=>Pi(t,e=>hw(t.state,e,Hn(t)));function iY(t,e){return Pi(t,n=>{if(!n.empty)return cw(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const sY=t=>iY(t,!1),oY=t=>iY(t,!0);function aY(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(se.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function lY(t,e){let n=aY(t),{state:r}=t,i=Gc(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):cw(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=se.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(ps(r,i),{effects:s}),!0}const kD=t=>lY(t,!1),MO=t=>lY(t,!0);function va(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=U.cursor(r.from+s))}return i}const Xhe=t=>Pi(t,e=>va(t,e,!0)),Khe=t=>Pi(t,e=>va(t,e,!1)),Jhe=t=>Pi(t,e=>va(t,e,!Hn(t))),Zhe=t=>Pi(t,e=>va(t,e,Hn(t))),efe=t=>Pi(t,e=>U.cursor(t.lineBlockAt(e.head).from,1)),tfe=t=>Pi(t,e=>U.cursor(t.lineBlockAt(e.head).to,-1));function nfe(t,e,n){let r=!1,i=Gc(t.selection,s=>{let o=Gi(t,s.head,-1)||Gi(t,s.head,1)||s.head>0&&Gi(t,s.head-1,1)||s.head<t.doc.length&&Gi(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return n?U.range(s.anchor,a):U.cursor(a)});return r?(e(ps(t,i)),!0):!1}const rfe=({state:t,dispatch:e})=>nfe(t,e,!1);function li(t,e){let n=Gc(t.state.selection,r=>{let i=e(r);return U.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ps(t.state,n)),!0)}function uY(t,e){return li(t,n=>t.moveByChar(n,e))}const cY=t=>uY(t,!Hn(t)),hY=t=>uY(t,Hn(t));function fY(t,e){return li(t,n=>t.moveByGroup(n,e))}const ife=t=>fY(t,!Hn(t)),sfe=t=>fY(t,Hn(t)),ofe=t=>li(t,e=>hw(t.state,e,!Hn(t))),afe=t=>li(t,e=>hw(t.state,e,Hn(t)));function dY(t,e){return li(t,n=>t.moveVertically(n,e))}const pY=t=>dY(t,!1),mY=t=>dY(t,!0);function gY(t,e){return li(t,n=>t.moveVertically(n,e,aY(t).height))}const xD=t=>gY(t,!1),_D=t=>gY(t,!0),lfe=t=>li(t,e=>va(t,e,!0)),ufe=t=>li(t,e=>va(t,e,!1)),cfe=t=>li(t,e=>va(t,e,!Hn(t))),hfe=t=>li(t,e=>va(t,e,Hn(t))),ffe=t=>li(t,e=>U.cursor(t.lineBlockAt(e.head).from)),dfe=t=>li(t,e=>U.cursor(t.lineBlockAt(e.head).to)),CD=({state:t,dispatch:e})=>(e(ps(t,{anchor:0})),!0),ID=({state:t,dispatch:e})=>(e(ps(t,{anchor:t.doc.length})),!0),AD=({state:t,dispatch:e})=>(e(ps(t,{anchor:t.selection.main.anchor,head:0})),!0),ND=({state:t,dispatch:e})=>(e(ps(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),pfe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),mfe=({state:t,dispatch:e})=>{let n=dw(t).map(({from:r,to:i})=>U.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:U.create(n),userEvent:"select"})),!0},gfe=({state:t,dispatch:e})=>{let n=Gc(t.selection,r=>{var i;let s=zn(t).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return U.range(s.to,s.from)});return e(ps(t,n)),!0},yfe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=U.create([n.main]):n.main.empty||(r=U.create([U.cursor(n.main.head)])),r?(e(ps(t,r)),!0):!1};function fw(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(n="delete.backward",l=mm(t,l,!1)):l>o&&(n="delete.forward",l=mm(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=mm(t,o,!1),a=mm(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:U.cursor(o)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?se.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function mm(t,e,n){if(t instanceof se)for(let r of t.state.facet(se.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const yY=(t,e)=>fw(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),s,o;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,n-i.from))){if(s[s.length-1]=="	")return n-1;let a=Kd(s,r.tabSize),l=a%Vy(r)||Vy(r);for(let u=0;u<l&&s[s.length-1-u]==" ";u++)n--;o=n}else o=Zn(i.text,n-i.from,e,e)+i.from,o==n&&i.number!=(e?r.doc.lines:1)&&(o+=e?1:-1);return o}),FO=t=>yY(t,!1),vY=t=>yY(t,!0),wY=(t,e)=>fw(t,n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Zn(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=n)&&(a=c),r=l}return r}),SY=t=>wY(t,!1),vfe=t=>wY(t,!0),bY=t=>fw(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),wfe=t=>fw(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),Sfe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Be.of(["",""])},range:U.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},bfe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:Zn(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:Zn(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:U.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function dw(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function EY(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of dw(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(U.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(U.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:U.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Efe=({state:t,dispatch:e})=>EY(t,e,!1),Ofe=({state:t,dispatch:e})=>EY(t,e,!0);function OY(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of dw(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Tfe=({state:t,dispatch:e})=>OY(t,e,!1),kfe=({state:t,dispatch:e})=>OY(t,e,!0),xfe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(dw(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Gc(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function _fe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=zn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(_e.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const Cfe=TY(!1),Ife=TY(!0);function TY(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&_fe(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new z0(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=Hx(u,s);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",td(e,c)];return l&&h.push(td(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Be.of(h)},range:U.cursor(s+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function O_(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:U.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Afe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new z0(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=O_(t,(s,o,a)=>{let l=Hx(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=td(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},kY=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(O_(t,(n,r)=>{r.push({from:n.from,insert:t.facet(q0)})}),{userEvent:"input.indent"})),!0),xY=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(O_(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Kd(i,t.tabSize),o=0,a=td(t,Math.max(0,s-Vy(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Nfe=[{key:"Ctrl-b",run:tY,shift:cY,preventDefault:!0},{key:"Ctrl-f",run:nY,shift:hY},{key:"Ctrl-p",run:sY,shift:pY},{key:"Ctrl-n",run:oY,shift:mY},{key:"Ctrl-a",run:efe,shift:ffe},{key:"Ctrl-e",run:tfe,shift:dfe},{key:"Ctrl-d",run:vY},{key:"Ctrl-h",run:FO},{key:"Ctrl-k",run:bY},{key:"Ctrl-Alt-h",run:SY},{key:"Ctrl-o",run:Sfe},{key:"Ctrl-t",run:bfe},{key:"Ctrl-v",run:MO}],Rfe=[{key:"ArrowLeft",run:tY,shift:cY,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:qhe,shift:ife,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Jhe,shift:cfe,preventDefault:!0},{key:"ArrowRight",run:nY,shift:hY,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zhe,shift:sfe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Zhe,shift:hfe,preventDefault:!0},{key:"ArrowUp",run:sY,shift:pY,preventDefault:!0},{mac:"Cmd-ArrowUp",run:CD,shift:AD},{mac:"Ctrl-ArrowUp",run:kD,shift:xD},{key:"ArrowDown",run:oY,shift:mY,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ID,shift:ND},{mac:"Ctrl-ArrowDown",run:MO,shift:_D},{key:"PageUp",run:kD,shift:xD},{key:"PageDown",run:MO,shift:_D},{key:"Home",run:Khe,shift:ufe,preventDefault:!0},{key:"Mod-Home",run:CD,shift:AD},{key:"End",run:Xhe,shift:lfe,preventDefault:!0},{key:"Mod-End",run:ID,shift:ND},{key:"Enter",run:Cfe},{key:"Mod-a",run:pfe},{key:"Backspace",run:FO,shift:FO},{key:"Delete",run:vY},{key:"Mod-Backspace",mac:"Alt-Backspace",run:SY},{key:"Mod-Delete",mac:"Alt-Delete",run:vfe},{mac:"Mod-Backspace",run:wfe},{mac:"Mod-Delete",run:bY}].concat(Nfe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Pfe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Whe,shift:ofe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ghe,shift:afe},{key:"Alt-ArrowUp",run:Efe},{key:"Shift-Alt-ArrowUp",run:Tfe},{key:"Alt-ArrowDown",run:Ofe},{key:"Shift-Alt-ArrowDown",run:kfe},{key:"Escape",run:yfe},{key:"Mod-Enter",run:Ife},{key:"Alt-l",mac:"Ctrl-l",run:mfe},{key:"Mod-i",run:gfe,preventDefault:!0},{key:"Mod-[",run:xY},{key:"Mod-]",run:kY},{key:"Mod-Alt-\\",run:Afe},{key:"Shift-Mod-k",run:xfe},{key:"Shift-Mod-\\",run:rfe},{key:"Mod-/",run:khe},{key:"Alt-A",run:_he}].concat(Rfe),Dfe={key:"Tab",run:kY,shift:xY},RD=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class _c{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(RD(a)):RD,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return gn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Ax(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Hr(e);let i=this.normalize(n);for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==i.length-1)break;o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(_c.prototype[Symbol.iterator]=function(){return this});const _Y={from:-1,to:-1,match:/.*/.exec("")},T_="gm"+(/x/.unicode==null?"":"u");class CY{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=_Y,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new IY(e,n,r,i,s);this.re=new RegExp(n,T_+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=av(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=av(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const vS=new WeakMap;class zu{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=vS.get(e);if(!i||i.from>=r||i.to<=n){let a=new zu(n,e.sliceString(n,r));return vS.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),vS.set(e,new zu(o,s)),new zu(n,s.slice(n-o,r-o))}}class IY{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=_Y,this.matchPos=av(e,i),this.re=new RegExp(n,T_+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=zu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=av(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=zu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(CY.prototype[Symbol.iterator]=IY.prototype[Symbol.iterator]=function(){return this});function Lfe(t){try{return new RegExp(t,T_),!0}catch{return!1}}function av(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function $O(t){let e=Je("input",{class:"cm-textfield",name:"line"}),n=Je("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:lv.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},Je("label",t.state.phrase("Go to line"),": ",e)," ",Je("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,a,l,u,c]=i,h=u?+u.slice(1):0,f=l?+l:o.number;if(l&&c){let p=f/100;a&&(p=p*(a=="-"?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*p)}else l&&a&&(f=f*(a=="-"?-1:1)+o.number);let d=s.doc.line(Math.max(1,Math.min(s.doc.lines,f)));t.dispatch({effects:lv.of(!1),selection:U.cursor(d.from+Math.max(0,Math.min(h,d.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const lv=Oe.define(),PD=Zt.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(lv)&&(t=n.value);return t},provide:t=>Zf.from(t,e=>e?$O:null)}),Mfe=t=>{let e=Jf(t,$O);if(!e){let n=[lv.of(!0)];t.state.field(PD,!1)==null&&n.push(Oe.appendConfig.of([PD,Ffe])),t.dispatch({effects:n}),e=Jf(t,$O)}return e&&e.dom.querySelector("input").focus(),!0},Ffe=se.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),$fe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},AY=he.define({combine(t){return fs(t,$fe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Ufe(t){let e=[Yfe,Qfe];return t&&e.push(AY.of(t)),e}const Vfe=pe.mark({class:"cm-selectionMatch"}),jfe=pe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function DD(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=dt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=dt.Word)}function Bfe(t,e,n,r){return t(e.sliceDoc(n,n+1))==dt.Word&&t(e.sliceDoc(r-1,r))==dt.Word}const Qfe=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(AY),{state:n}=t,r=n.selection;if(r.ranges.length>1)return pe.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return pe.none;let l=n.wordAt(i.head);if(!l)return pe.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return pe.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(DD(o,n,i.from,i.to)&&Bfe(o,n,i.from,i.to)))return pe.none}else if(s=n.sliceDoc(i.from,i.to).trim(),!s)return pe.none}let a=[];for(let l of t.visibleRanges){let u=new _c(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||DD(o,n,c,h))&&(i.empty&&c<=i.from&&h>=i.to?a.push(jfe.range(c,h)):(c>=i.to||h<=i.from)&&a.push(Vfe.range(c,h)),a.length>e.maxMatches))return pe.none}}return pe.set(a)}},{decorations:t=>t.decorations}),Yfe=se.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),qfe=({state:t,dispatch:e})=>{let{selection:n}=t,r=U.create(n.ranges.map(i=>t.wordAt(i.head)||U.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function zfe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new _c(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new _c(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const Hfe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return qfe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=zfe(t,r);return i?(e(t.update({selection:t.selection.addRange(U.range(i.from,i.to),!1),effects:se.scrollIntoView(i.to)})),!0):!1},Xc=he.define({combine(t){return fs(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new sde(e),scrollToMatch:e=>se.scrollIntoView(e)})}});class NY{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Lfe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Kfe(this):new Gfe(this)}getCursor(e,n=0,r){let i=e.doc?e:Ne.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Jl(this,i,n,r):Kl(this,i,n,r)}}class RY{constructor(e){this.spec=e}}function Kl(t,e,n,r){return new _c(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?Wfe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Wfe(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(uv(i,n-s))!=dt.Word||e(cv(i,n-s))!=dt.Word)&&(e(cv(i,r-s))!=dt.Word||e(uv(i,r-s))!=dt.Word))}class Gfe extends RY{constructor(e){super(e)}nextMatch(e,n,r){let i=Kl(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Kl(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Kl(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Kl(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Kl(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Jl(t,e,n,r){return new CY(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Xfe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function uv(t,e){return t.slice(Zn(t,e,!1),e)}function cv(t,e){return t.slice(e,Zn(t,e))}function Xfe(t){return(e,n,r)=>!r[0].length||(t(uv(r.input,r.index))!=dt.Word||t(cv(r.input,r.index))!=dt.Word)&&(t(cv(r.input,r.index+r[0].length))!=dt.Word||t(uv(r.input,r.index+r[0].length))!=dt.Word)}class Kfe extends RY{nextMatch(e,n,r){let i=Jl(this.spec,e,r,e.doc.length).next();return i.done&&(i=Jl(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=Jl(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n))}matchAll(e,n){let r=Jl(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Jl(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const pd=Oe.define(),k_=Oe.define(),Ho=Zt.define({create(t){return new wS(UO(t).create(),null)},update(t,e){for(let n of e.effects)n.is(pd)?t=new wS(n.value.create(),t.panel):n.is(k_)&&(t=new wS(t.query,n.value?x_:null));return t},provide:t=>Zf.from(t,e=>e.panel)});class wS{constructor(e,n){this.query=e,this.panel=n}}const Jfe=pe.mark({class:"cm-searchMatch"}),Zfe=pe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ede=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ho))}update(t){let e=t.state.field(Ho);(e!=t.startState.field(Ho)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return pe.none;let{view:n}=this,r=new na;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,c)=>{let h=n.state.selection.ranges.some(f=>f.from==u&&f.to==c);r.add(u,c,h?Zfe:Jfe)})}return r.finish()}},{decorations:t=>t.decorations});function ap(t){return e=>{let n=e.state.field(Ho,!1);return n&&n.query.spec.valid?t(e,n):LY(e)}}const hv=ap((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=U.single(r.from,r.to),s=t.state.facet(Xc);return t.dispatch({selection:i,effects:[__(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),DY(t),!0}),fv=ap((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=U.single(i.from,i.to),o=t.state.facet(Xc);return t.dispatch({selection:s,effects:[__(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),DY(t),!0}),tde=ap((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:U.create(n.map(r=>U.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),nde=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new _c(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(U.range(a.value.from,a.value.to))}return e(t.update({selection:U.create(s,o),userEvent:"select.search.matches"})),!0},LD=ap((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(se.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=U.single(s.from-c,s.to-c),u.push(__(t,s)),u.push(n.facet(Xc).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:u,userEvent:"input.replace"}),!0}),rde=ap((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:se.announce.of(r),userEvent:"input.replace.all"}),!0});function x_(t){return t.state.facet(Xc).createPanel(t)}function UO(t,e){var n,r,i,s;let o=t.selection.main,a=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!a)return e;let l=t.facet(Xc);return new NY({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}function PY(t){let e=Jf(t,x_);return e&&e.dom.querySelector("[main-field]")}function DY(t){let e=PY(t);e&&e==t.root.activeElement&&e.select()}const LY=t=>{let e=t.state.field(Ho,!1);if(e&&e.panel){let n=PY(t);if(n&&n!=t.root.activeElement){let r=UO(t.state,e.query.spec);r.valid&&t.dispatch({effects:pd.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[k_.of(!0),e?pd.of(UO(t.state,e.query.spec)):Oe.appendConfig.of(ade)]});return!0},MY=t=>{let e=t.state.field(Ho,!1);if(!e||!e.panel)return!1;let n=Jf(t,x_);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:k_.of(!1)}),!0},ide=[{key:"Mod-f",run:LY,scope:"editor search-panel"},{key:"F3",run:hv,shift:fv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:hv,shift:fv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:MY,scope:"editor search-panel"},{key:"Mod-Shift-l",run:nde},{key:"Alt-g",run:Mfe},{key:"Mod-d",run:Hfe,preventDefault:!0}];class sde{constructor(e){this.view=e;let n=this.query=e.state.field(Ho).query.spec;this.commit=this.commit.bind(this),this.searchField=Je("input",{value:n.search,placeholder:wr(e,"Find"),"aria-label":wr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Je("input",{value:n.replace,placeholder:wr(e,"Replace"),"aria-label":wr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Je("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Je("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Je("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Je("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Je("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>hv(e),[wr(e,"next")]),r("prev",()=>fv(e),[wr(e,"previous")]),r("select",()=>tde(e),[wr(e,"all")]),Je("label",null,[this.caseField,wr(e,"match case")]),Je("label",null,[this.reField,wr(e,"regexp")]),Je("label",null,[this.wordField,wr(e,"by word")]),...e.state.readOnly?[]:[Je("br"),this.replaceField,r("replace",()=>LD(e),[wr(e,"replace")]),r("replaceAll",()=>rde(e),[wr(e,"replace all")])],Je("button",{name:"close",onclick:()=>MY(e),"aria-label":wr(e,"close"),type:"button"},[""])])}commit(){let e=new NY({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:pd.of(e)}))}keydown(e){Lre(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fv:hv)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),LD(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(pd)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Xc).top}}function wr(t,e){return t.state.phrase(e)}const gm=30,ym=/[\s\.,:;?!]/;function __(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-gm),o=Math.min(i,n+gm),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<gm;l++)if(!ym.test(a[l+1])&&ym.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-gm;l--)if(!ym.test(a[l-1])&&ym.test(a[l])){a=a.slice(0,l);break}}return se.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const ode=se.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ade=[Ho,ga.lowest(ede),ode];var MD=function(e){e===void 0&&(e={});var n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(hoe)),e.defaultKeymap!==!1&&(n=n.concat(Pfe)),e.searchKeymap!==!1&&(n=n.concat(ide)),e.historyKeymap!==!1&&(n=n.concat(Yhe)),e.foldKeymap!==!1&&(n=n.concat(yse)),e.completionKeymap!==!1&&(n=n.concat(cQ)),e.lintKeymap!==!1&&(n=n.concat($ue));var r=[];return e.lineNumbers!==!1&&r.push(Nie()),e.highlightActiveLineGutter!==!1&&r.push(Die()),e.highlightSpecialChars!==!1&&r.push(Jre()),e.history!==!1&&r.push(Lhe()),e.foldGutter!==!1&&r.push(Sse()),e.drawSelection!==!1&&r.push(jre()),e.dropCursor!==!1&&r.push(zre()),e.allowMultipleSelections!==!1&&r.push(Ne.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(lse()),e.syntaxHighlighting!==!1&&r.push(Kx(Tse,{fallback:!0})),e.bracketMatching!==!1&&r.push(Nse()),e.closeBrackets!==!1&&r.push(aoe()),e.autocompletion!==!1&&r.push(e_()),e.rectangularSelection!==!1&&r.push(fie()),e.crosshairCursor!==!1&&r.push(mie()),e.highlightActiveLine!==!1&&r.push(iie()),e.highlightSelectionMatches!==!1&&r.push(Ufe()),e.tabSize&&typeof e.tabSize=="number"&&r.push(q0.of(" ".repeat(e.tabSize))),r.concat([Yc.of(n.flat())]).filter(Boolean)};const lde="#e5c07b",FD="#e06c75",ude="#56b6c2",cde="#ffffff",ag="#abb2bf",VO="#7d8799",hde="#61afef",fde="#98c379",$D="#d19a66",dde="#c678dd",pde="#21252b",UD="#2c313a",VD="#282c34",SS="#353a42",mde="#3E4451",jD="#528bff",gde=se.theme({"&":{color:ag,backgroundColor:VD},".cm-content":{caretColor:jD},".cm-cursor, .cm-dropCursor":{borderLeftColor:jD},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:mde},".cm-panels":{backgroundColor:pde,color:ag},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:VD,color:VO,border:"none"},".cm-activeLineGutter":{backgroundColor:UD},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:SS},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:SS,borderBottomColor:SS},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:UD,color:ag}}},{dark:!0}),yde=qc.define([{tag:A.keyword,color:dde},{tag:[A.name,A.deleted,A.character,A.propertyName,A.macroName],color:FD},{tag:[A.function(A.variableName),A.labelName],color:hde},{tag:[A.color,A.constant(A.name),A.standard(A.name)],color:$D},{tag:[A.definition(A.name),A.separator],color:ag},{tag:[A.typeName,A.className,A.number,A.changed,A.annotation,A.modifier,A.self,A.namespace],color:lde},{tag:[A.operator,A.operatorKeyword,A.url,A.escape,A.regexp,A.link,A.special(A.string)],color:ude},{tag:[A.meta,A.comment],color:VO},{tag:A.strong,fontWeight:"bold"},{tag:A.emphasis,fontStyle:"italic"},{tag:A.strikethrough,textDecoration:"line-through"},{tag:A.link,color:VO,textDecoration:"underline"},{tag:A.heading,fontWeight:"bold",color:FD},{tag:[A.atom,A.bool,A.special(A.variableName)],color:$D},{tag:[A.processingInstruction,A.string,A.inserted],color:fde},{tag:A.invalid,color:cde}]),vde=[gde,Kx(yde)];var wde=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[],u=se.theme({"&":{backgroundColor:"#fff"}},{dark:!1});switch(n&&l.unshift(Yc.of([Dfe])),a&&(typeof a=="boolean"?l.unshift(MD()):l.unshift(MD(a))),o&&l.unshift(lie(o)),s){case"light":l.push(u);break;case"dark":l.push(vde);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(se.editable.of(!1)),i&&l.push(Ne.readOnly.of(!0)),[...l]},Sde=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),BD=hs.define();function bde(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=[],autoFocus:l,theme:u="light",height:c="",minHeight:h="",maxHeight:f="",placeholder:d="",width:p="",minWidth:g="",maxWidth:v="",editable:m=!0,readOnly:y=!1,indentWithTab:w=!0,basicSetup:S=!0,root:b,initialState:k}=t,[_,R]=x.useState(),[T,C]=x.useState(),[B,G]=x.useState(),J=se.theme({"&":{height:c,minHeight:h,maxHeight:f,width:p,minWidth:g,maxWidth:v}}),I=se.updateListener.of(ne=>{if(ne.docChanged&&typeof r=="function"&&!ne.transactions.some(ee=>ee.annotation(BD))){var M=ne.state.doc,V=M.toString();r(V,ne)}i&&i(Sde(ne))}),D=wde({theme:u,editable:m,readOnly:y,placeholder:d,indentWithTab:w,basicSetup:S}),Y=[I,J,...D];return o&&typeof o=="function"&&Y.push(se.updateListener.of(o)),Y=Y.concat(a),x.useEffect(()=>{if(_&&!B){var ne={doc:e,selection:n,extensions:Y},M=k?Ne.fromJSON(k.json,ne,k.fields):Ne.create(ne);if(G(M),!T){var V=new se({state:M,parent:_,root:b});C(V),s&&s(V,M)}}return()=>{T&&(G(void 0),C(void 0))}},[_,B]),x.useEffect(()=>R(t.container),[t.container]),x.useEffect(()=>()=>{T&&(T.destroy(),C(void 0))},[T]),x.useEffect(()=>{l&&T&&T.focus()},[l,T]),x.useEffect(()=>{T&&T.dispatch({effects:Oe.reconfigure.of(Y)})},[u,a,c,h,f,p,g,v,d,m,y,w,S,r,o]),x.useEffect(()=>{if(e!==void 0){var ne=T?T.state.doc.toString():"";T&&e!==ne&&T.dispatch({changes:{from:0,to:ne.length,insert:e||""},annotations:[BD.of(!0)]})}},[e,T]),{state:B,setState:G,view:T,setView:C,container:_,setContainer:R}}var Ede=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],C_=x.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,autoFocus:c,theme:h="light",height:f,minHeight:d,maxHeight:p,width:g,minWidth:v,maxWidth:m,basicSetup:y,placeholder:w,indentWithTab:S,editable:b,readOnly:k,root:_,initialState:R}=t,T=e6(t,Ede),C=x.useRef(null),{state:B,view:G,container:J}=bde({container:C.current,root:_,value:r,autoFocus:c,theme:h,height:f,minHeight:d,maxHeight:p,width:g,minWidth:v,maxWidth:m,basicSetup:y,placeholder:w,indentWithTab:S,editable:b,readOnly:k,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,extensions:s,initialState:R});if(x.useImperativeHandle(e,()=>({editor:C.current,state:B,view:G}),[C,J,B,G]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var I=typeof h=="string"?"cm-theme-"+h:"cm-theme";return E.jsx("div",Eb({ref:C,className:""+I+(n?" "+n:"")},T))});C_.displayName="CodeMirror";var FY=t=>{var{theme:e,settings:n={},styles:r=[]}=t,i={".cm-gutters":{}},s={};n.background&&(s.backgroundColor=n.background),n.foreground&&(s.color=n.foreground),(n.background||n.foreground)&&(i["&"]=s),n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var o={};n.gutterActiveForeground&&(o.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},o.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=o,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={backgroundColor:n.selection}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch});var a=se.theme(i,{dark:e==="dark"}),l=qc.define(r),u=[a,Kx(l)];return u};const Ode=FY({theme:"light",settings:{gutterBorder:"transparent",background:"#ffffff",foreground:"#75baff",caret:"#5d00ff",selection:"#036dd626",selectionMatch:"#036dd626",lineHighlight:"#8a91991a",gutterBackground:"#fff",gutterForeground:"#8a919966"},styles:[{tag:A.comment,color:"#787b8099"},{tag:A.variableName,color:"#0080ff"},{tag:[A.string,A.special(A.brace)],color:"#1ea372"},{tag:A.bool,color:"var(--yellow-color)"},{tag:A.null,color:"#666669"},{tag:A.keyword,color:"#5c6166"},{tag:A.operator,color:"var(--violet-color)"},{tag:A.className,color:"#5c6166"},{tag:A.definition(A.typeName),color:"#5c6166"},{tag:A.typeName,color:"#5c6166"},{tag:A.angleBracket,color:"#5c6166"},{tag:A.tagName,color:"#5c6166"},{tag:A.attributeName,color:"#5c6166"},{tag:A.brace,color:"var(--violet-color)"},{tag:A.name,color:"var(--violet-color)"},{tag:A.propertyName,color:"var(--violet-color)"},{tag:A.number,color:"var(--orange-color)"}]}),jO=({value:t,placeholder:e,opacity:n,extensions:r,onChange:i})=>E.jsx(C_,{style:{opacity:n},value:t,placeholder:e,height:"100%",extensions:r,theme:Ode,onChange:i}),Tde=zx({String:A.string,Number:A.number,"True False":A.bool,PropertyName:A.propertyName,Null:A.null,",":A.separator,"[ ]":A.squareBracket,"{ }":A.brace}),kde=fd.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Tde],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),$Y=ed.define({name:"json",parser:kde.configure({props:[Wx.add({Object:CR({except:/^\s*\}/}),Array:CR({except:/^\s*\]/})}),Xx.add({"Object Array":QB})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}}),xde="_btn_dratn_1",_de="_toggle_dratn_17",QD={btn:xde,toggle:_de},Cde=({onClickHandler:t,className:e})=>{const[n,r]=x.useState(!1),i=()=>{r(s=>!s),t()};return E.jsx("button",{className:ft(QD.btn,e,{[QD.toggle]:n}),onClick:i,children:E.jsxs("svg",{height:"1em",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("title",{children:"chevron down icon"}),E.jsx("path",{d:"M1 1L7 7L13 1",stroke:"currentColor",strokeWidth:"1.5"})]})})},Ide="_editorTools_jv1qk_1",Ade="_toolsButtons_jv1qk_19",Nde="_toolsButton_jv1qk_19",Rde="_active_jv1qk_55",Pde="_toolsIDE_jv1qk_63",Dde="_opacity_jv1qk_83",Lde="_hidden_jv1qk_123",Sr={editorTools:Ide,toolsButtons:Ade,toolsButton:Nde,active:Rde,toolsIDE:Pde,opacity:Dde,hidden:Lde},YD=[e_({activateOnTyping:!0,icons:!0}),$Y,ga.high(Yc.of([{key:"Mod-Enter",run:()=>!0}]))],Mde=({variablesValue:t,headersValue:e,onVariablesChange:n,onHeadersChange:r,onToolsClose:i})=>{const[s,o]=x.useState("variables"),[a,l]=x.useState(!1),{t:u}=xn(),c=()=>{l(h=>!h),i(a)};return E.jsxs("div",{className:ft(Sr.editorTools,{[Sr.hidden]:a}),children:[E.jsxs("div",{className:Sr.toolsButtons,children:[E.jsxs("div",{className:Sr.toolsContainer,children:[E.jsx("button",{type:"button",className:ft(Sr.toolsButton,{[Sr.active]:s==="variables"}),onClick:()=>o("variables"),children:u("editor.variables")}),E.jsx("button",{type:"button",className:ft(Sr.toolsButton,{[Sr.active]:s==="headers"}),onClick:()=>o("headers"),children:u("editor.headers")})]}),E.jsx(Cde,{className:Sr.arrow,onClickHandler:c})]}),!a&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:ft(Sr.toolsIDE,{[Sr.opacity]:s==="variables"}),children:E.jsx(jO,{value:t,onChange:n,extensions:YD})}),E.jsx("div",{className:ft(Sr.toolsIDE,{[Sr.opacity]:s==="headers"}),children:E.jsx(jO,{value:e,onChange:r,extensions:YD})})]})]})},Fde=FY({theme:"light",settings:{gutterBorder:"transparent",background:"transparent",caret:"#5d00ff",selection:"#036dd626",selectionMatch:"#036dd626",lineHighlight:"transparent",gutterBackground:"transparent",gutterForeground:"#8a919966"},styles:[{tag:A.comment,color:"#787b8099"},{tag:A.variableName,color:"#0080ff"},{tag:[A.string,A.special(A.brace)],color:"#1ea372"},{tag:A.bool,color:"var(--yellow-color)"},{tag:A.null,color:"#666669"},{tag:A.keyword,color:"#5c6166"},{tag:A.operator,color:"var(--violet-color)"},{tag:A.className,color:"#5c6166"},{tag:A.definition(A.typeName),color:"#5c6166"},{tag:A.typeName,color:"#5c6166"},{tag:A.angleBracket,color:"#5c6166"},{tag:A.tagName,color:"#5c6166"},{tag:A.attributeName,color:"#5c6166"},{tag:A.brace,color:"var(--violet-color)"},{tag:A.name,color:"var(--violet-color)"},{tag:A.propertyName,color:"var(--violet-color)"},{tag:A.number,color:"var(--orange-color)"}]}),$de=({value:t})=>E.jsx(C_,{value:t,height:"100%",extensions:[$Y,se.lineWrapping],editable:!1,theme:Fde}),Ude="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNUlEQVR4nO3ZMStFYRzH8cMtUTaKF2AkZou8CIPJxmQxsBqNVm/AQjGqm9gM12ZQYiFWg7ugfHTKKYNwTeeX83kF5zs8z3me/1MUjUbjW+jHEo5xg1OsYKCoO7Sw52vXWEBfUVdY87MzzBZ1hEu/84Z9TBR1gle9ecY2Roo68HeP2MBgakDlFsvlTpYaUOlgLjmg0sZkckDpBTsYSw2oPGETQ6kBlbuPhd5KDaicYz454PNCn0oO8HECKBf6eGpApYstDKcGfD66zyQHlB4wmhxQ2kgPOEwPOEgPWE8OuO/5pqde2+h0Tx9fk4Bu6o/sNfko0U49zJ2nHqfvUi80sVfK6Et9O3Ws0kkdbN2mjhYf6zLcfU4fr1+kP3Cspj8x9WM39pGvVH4gFnGEK5zEPLM2Gv/AO0a08DkqNz3JAAAAAElFTkSuQmCC",Vde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoUlEQVR4nO3YsQ7CMAxF0fxG4bvagTL7/5d2vQipkZgtJ0Jwj5TdL8+TW5Mk6V8Ad2ADYtDbgNuo4Z/AyXgnsI/4+RnDd0dpE8DKfGtlgPd+zhYG6GwgJ1oVG8gJG+hcoZxoVWwgJ2ygc4VyolWxgZywgc4VyolWxQZywgZ+6axyu45NsxzAUhbgCrFPCnEAj9LhP0IsE467y5DhJUlqX+gFchqO+gS6irQAAAAASUVORK5CYII=",jde="_wrapper_1n2qz_1",Bde="_editor_1n2qz_19",Qde="_response_1n2qz_47",Yde="_editorWrapper_1n2qz_61",qde="_editorWide_1n2qz_77",zde="_editorField_1n2qz_85",Hde="_editorButtons_1n2qz_97",Wde="_runButton_1n2qz_105",Gde="_buttonIcon_1n2qz_131",Ui={wrapper:jde,editor:Bde,response:Qde,editorWrapper:Yde,editorWide:qde,editorField:zde,editorButtons:Hde,runButton:Wde,buttonIcon:Gde},qD=t=>JSON.parse(t.trim().replace("/n","")),Xde=t=>{if(!Object.values(t).every(n=>n&&typeof n=="string"))throw new Error("Enter a valid JSON");return t},UY=t=>{if(!Object.values(t).every(n=>(typeof n=="object"&&n!==null&&!Array.isArray(n)&&UY(n),!!(n&&typeof n=="string"))))throw new Error("Enter a valid JSON")},Kde=(t,e,n)=>{const r=qD(n||"{}"),i=qD(e||"{}"),s=Xde(r);return UY(i),{query:t,headers:s,variables:i}},Jde=t=>[sce(t),e_({activateOnTyping:!0,icons:!0}),ga.high(Yc.of([{key:"Tab",run:nQ},{key:"Mod-Enter",run:()=>!0}]))],Zde=({schemaResponse:t})=>{const{mutate:e,isLoading:n}=Xte(S=>H4.getGraphQLResponse(S),{onSuccess:S=>{i(JSON.stringify(S,null," "))},onError:S=>{var b,k;if(typeof((b=S.response)==null?void 0:b.data)=="string")return i(S.response.data);i(((k=S.response)==null?void 0:k.data.errors[0].message)??S.message)}}),[r,i]=x.useState(""),[s,o]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState(""),[h,f]=x.useState(!0),{t:d}=xn(),p=d("editor.pattern"),g=x.useCallback(S=>{o(S)},[]),v=x.useCallback(S=>{l(S)},[]),m=x.useCallback(S=>{c(S)},[]),y=()=>{try{const S=Kde(s,a,u);e(S)}catch(S){i(S.message)}},w=S=>{f(S)};return E.jsxs("div",{className:Ui.wrapper,children:[E.jsxs("div",{className:Ui.editor,children:[E.jsxs("div",{className:ft(Ui.editorWrapper,{[Ui.editorWide]:!h}),children:[E.jsx("div",{className:Ui.editorField,children:E.jsx(jO,{value:"",placeholder:p,onChange:g,extensions:Jde(t.data)})}),E.jsx("div",{className:Ui.editorButtons,children:E.jsxs("button",{title:"Run query",type:"button",className:Ui.runButton,onClick:y,children:[!n&&E.jsx("img",{className:Ui.buttonIcon,src:Ude,alt:"Run"}),n&&E.jsx("img",{className:Ui.buttonIcon,src:Vde,alt:"Stop"})]})})]}),E.jsx(Mde,{variablesValue:a,headersValue:u,onVariablesChange:v,onHeadersChange:m,onToolsClose:w})]}),E.jsx("div",{className:Ui.response,children:E.jsx($de,{value:r})})]})},epe="_wrapper_uj7tp_1",tpe="_img_uj7tp_17",zD={wrapper:epe,img:tpe},npe=({error:t})=>{const{resetBoundary:e}=zV(),{reset:n}=oj();return E.jsxs("div",{onReset:n,className:zD.wrapper,role:"alert",children:[E.jsx("img",{className:zD.img,src:qV,alt:"Got error"}),E.jsx("h2",{children:"Something went wrong:"}),E.jsx("pre",{style:{color:"red"},children:(t==null?void 0:t.message)??"error"}),E.jsx(as,{onClick:e,children:"Try again"})]})},rpe="_docsWrapper_38pwy_1",ipe="_open_38pwy_27",spe="_docsButton_38pwy_35",ope="_docs_38pwy_1",ape="_docsTitle_38pwy_71",lpe="_typesWrapper_38pwy_85",upe="_title_38pwy_99",cpe="_subtitle_38pwy_107",hpe="_category_38pwy_125",fpe="_query_38pwy_135",dpe="_types_38pwy_85",ppe="_value_38pwy_149",mpe="_button_38pwy_161",gpe="_backButton_38pwy_187",ype="_fieldButton_38pwy_205",vpe="_typesButton_38pwy_207",wpe="_description_38pwy_241",Qe={docsWrapper:rpe,open:ipe,docsButton:spe,docs:ope,docsTitle:ape,typesWrapper:lpe,title:upe,subtitle:cpe,category:hpe,query:fpe,types:dpe,value:ppe,button:mpe,backButton:gpe,fieldButton:ype,typesButton:vpe,description:wpe},Spe=""+new URL("archive-7f28d5e7.svg",import.meta.url).href,bpe=({field:t,onHistoryPush:e})=>E.jsx("button",{className:ft(Qe.button,Qe.fieldButton),type:"button",onClick:()=>{e({element:t,type:"field"})},children:E.jsxs("div",{children:[t.name,":"]})}),HD=({element:t,onHistoryPush:e})=>{const n=r=>r instanceof xe||r instanceof Un?n(r.ofType):r;return E.jsx("button",{className:ft(Qe.button,Qe.typesButton),type:"button",onClick:()=>{e({element:n(t),type:"type"})},children:E.jsx("div",{children:t.toString()})})},Epe=({lastItem:t,onHistoryPush:e})=>{const{t:n}=xn(),r=a=>a&&(a instanceof Ri||a instanceof J0)?a.getFields():null,s=(a=>!a||a instanceof Un||a instanceof xe||a instanceof la?null:a.description)(t.element),o=t.type==="type"?r(t.element):null;return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Qe.title,children:t.element.name}),s&&E.jsx("div",{className:Qe.description,children:s}),t.element instanceof la&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Qe.subtitle,children:n("docs.enum")}),Object.values(t.element.getValues()).map(a=>E.jsx("div",{className:Qe.value,children:a.name},a.name))]}),t.type==="field"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Qe.subtitle,children:n("docs.type")}),E.jsx(HD,{element:t.element.type,onHistoryPush:e})]}),t.type==="type"&&o&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Qe.subtitle,children:n("docs.fields")}),Object.values(o).map(a=>E.jsxs("div",{className:Qe.types,children:[E.jsx(bpe,{field:a,onHistoryPush:e}),E.jsx(HD,{element:a.type,onHistoryPush:e})]},a.name))]})]})},Ope=""+new URL("left-61786d2f.svg",import.meta.url).href,Tpe=({children:t,onHistoryBack:e})=>E.jsxs("button",{className:ft(Qe.button,Qe.backButton),type:"button",onClick:()=>{e()},children:[E.jsx("img",{src:Ope,alt:"Back"}),t]}),kpe=()=>E.jsxs("svg",{height:"1em",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("title",{children:"root type icon"}),E.jsx("rect",{x:"0.6",y:"0.6",width:"11.8",height:"11.8",rx:"5.9",stroke:"currentColor",strokeWidth:"1.2"}),E.jsx("path",{d:"M4.25 7.5C4.25 6 5.75 5 6.5 6.5C7.25 8 8.75 7 8.75 5.5",stroke:"currentColor",strokeWidth:"1.2"})]}),xpe=()=>E.jsxs("svg",{height:"1em",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("title",{children:"type icon"}),E.jsx("rect",{x:"0.6",y:"0.6",width:"11.8",height:"11.8",rx:"5.9",stroke:"currentColor",strokeWidth:"1.2"}),E.jsx("rect",{x:"5.5",y:"5.5",width:"2",height:"2",rx:"1",fill:"currentColor"})]}),_pe=({queryType:t,onHistoryPush:e})=>{const{t:n}=xn();return E.jsxs("div",{className:Qe.category,children:[E.jsxs("div",{className:Qe.subtitle,children:[E.jsx(kpe,{}),n("docs.rootTypes")]}),E.jsxs("div",{className:Qe.query,children:["query:",E.jsx("button",{className:ft(Qe.button,Qe.fieldButton),type:"button",onClick:()=>{e({element:t,type:"type"})},children:t.name})]})]})},Cpe=({schema:t,onHistoryPush:e})=>{const{t:n}=xn(),r=t==null?void 0:t.getTypeMap();return E.jsxs("div",{className:Qe.category,children:[E.jsxs("div",{className:Qe.subtitle,children:[E.jsx(xpe,{}),n("docs.allTypes")]}),E.jsx("div",{children:Object.values(r).filter(i=>i.name[0]!=="_").map(i=>E.jsx("button",{className:ft(Qe.button,Qe.fieldButton),type:"button",onClick:()=>{e({element:i,type:"type"})},children:i.name},i.name))})]})},Ipe=({schemaResponse:t})=>{var u;const[e,n]=x.useState(!1),[r,i]=x.useState([]),s=t.data,o=(s==null?void 0:s.getQueryType())||null,a=c=>{i([...r,c])},l=()=>{i(r.slice(0,-1))};return E.jsxs("div",{className:ft(Qe.docsWrapper,{[Qe.open]:e}),children:[E.jsx("button",{type:"button",title:"Docs",className:Qe.docsButton,onClick:()=>n(!e),children:E.jsx("img",{src:Spe,alt:"Docs"})}),e&&(!o||!s)&&E.jsx("div",{className:Qe.docsTitle,children:"Docs not found"}),e&&o&&s&&E.jsxs("div",{className:Qe.docs,children:[E.jsx("h2",{className:Qe.docsTitle,children:"Docs"}),E.jsxs("div",{className:Qe.docsInfo,children:[r.length===0&&E.jsxs("div",{className:Qe.typesWrapper,children:[E.jsx(_pe,{queryType:o,onHistoryPush:a}),E.jsx(Cpe,{schema:s,onHistoryPush:a})]}),r.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(Tpe,{onHistoryBack:l,children:((u=r[r.length-2])==null?void 0:u.element.name)||"Docs"}),E.jsx(Epe,{lastItem:r[r.length-1],onHistoryPush:a})]})]})]})]})},Ape="_wrapper_1sucy_1",Npe={wrapper:Ape},Rpe=t=>{$e(t.message,{type:"error"})},Ppe=()=>{const t=Gte(["getSchema"],H4.getSchema);return E.jsx(xx,{FallbackComponent:npe,onError:Rpe,children:E.jsx(Re.Suspense,{fallback:E.jsx(Cl,{}),children:E.jsxs("div",{className:Npe.wrapper,children:[E.jsx(Ipe,{schemaResponse:t}),E.jsx(Zde,{schemaResponse:t})]})})})},Dpe="_main_1u1vk_1",Lpe={main:Dpe},Mpe="_wrapper_quse2_1",Fpe="_logo_quse2_23",$pe="_logoImage_quse2_35",Upe="_buttonsWrapper_quse2_43",Vpe="_signUpButton_quse2_59",jpe="_nav_quse2_67",Bpe="_headerScroll_quse2_79",Qpe="_langWrapper_quse2_87",Ype="_langButton_quse2_107",qpe="_active_quse2_145",zpe="_menuButton_quse2_161",Hpe="_closeButton_quse2_163",Wpe="_menuLine_quse2_201",Gpe="_closeLine_quse2_253",Xpe="_open_quse2_309",Kpe="_hidden_quse2_317",Jpe="_arrowImage_quse2_341",Et={wrapper:Mpe,logo:Fpe,logoImage:$pe,buttonsWrapper:Upe,signUpButton:Vpe,nav:jpe,headerScroll:Bpe,langWrapper:Qpe,langButton:Ype,active:qpe,menuButton:zpe,closeButton:Hpe,menuLine:Wpe,closeLine:Gpe,open:Xpe,hidden:Kpe,arrowImage:Jpe},Zpe=()=>{const t=kl(),e=Zs(),{t:n}=xn(),[r,i,s]=DW(Gd),o=ic(l=>l.userState.userName),a=async()=>{await r()&&(e(nc("")),e(rc(!1)),e(Qs("")),t("/"))};return x.useEffect(()=>{s&&$e(s.message,{type:"error"})},[s]),E.jsxs(E.Fragment,{children:[i&&E.jsx(Cl,{}),E.jsxs("div",{className:Et.nav,children:[E.jsx("div",{children:o}),E.jsx(as,{type:"button",onClick:a,children:n("login.logout")})]})]})},eme=()=>{const t=Zs(),{t:e}=xn();return E.jsxs(E.Fragment,{children:[E.jsx(Sb,{to:"/auth",children:E.jsx(as,{type:"button",onClick:()=>{t(Qs("sign-in"))},children:e("login.signIn")})}),E.jsx(Sb,{to:"/auth",children:E.jsx(as,{className:Et.signUpButton,type:"button",onClick:()=>{t(Qs("sign-up"))},children:e("login.signUp")})})]})},tme=""+new URL("graphiQL-logo-9fa982d3.png",import.meta.url).href,nme=""+new URL("arrow-97d07057.png",import.meta.url).href,rme=x.memo(function(){const e=Tl(),n=ic(c=>c.userState.isUserLogged),[r,i]=x.useState(!1),s=ic(c=>c.userState.lang),o=Zs(),{t:a}=xn(),{i18n:l}=xn(),u=x.useRef(null);return x.useEffect(()=>{const c=()=>{const h=window.scrollY;u.current&&u.current.classList.toggle(Et.headerScroll,h>0)};return window.addEventListener("scroll",c,{passive:!0}),()=>{window.removeEventListener("scroll",c)}},[]),E.jsxs("header",{ref:u,className:Et.wrapper,children:[E.jsx($M,{className:Et.logo,to:"/",children:E.jsx("img",{className:Et.logoImage,src:tme,alt:"GraphiQL logo"})}),E.jsxs("button",{type:"button",className:ft(Et.menuButton,{[Et.hidden]:r}),onClick:()=>i(!0),children:[E.jsx("span",{className:Et.menuLine}),E.jsx("span",{className:Et.menuLine}),E.jsx("span",{className:Et.menuLine})]}),E.jsxs("div",{className:ft(Et.buttonsWrapper,{[Et.open]:r}),children:[E.jsxs("button",{type:"button",className:Et.closeButton,onClick:()=>i(!1),children:[E.jsx("span",{className:Et.closeLine}),E.jsx("span",{className:Et.closeLine})]}),n?E.jsx(Zpe,{}):E.jsx(eme,{}),E.jsxs("div",{className:Et.langWrapper,children:[E.jsx("button",{type:"button",className:ft(Et.langButton,{[Et.active]:s==="en"}),onClick:()=>{o(hI("en")),l.changeLanguage("en")},children:a("lang.en")}),E.jsx("button",{type:"button",className:ft(Et.langButton,{[Et.active]:s==="ru"}),onClick:()=>{o(hI("ru")),l.changeLanguage("ru")},children:a("lang.ru")})]})]}),e.pathname==="/"&&E.jsx("img",{className:Et.arrowImage,src:nme,alt:"Arrow",draggable:"false",style:n?{transform:"rotate(30deg)   translateY(1rem)"}:{transform:"rotate(210deg)"}})]})}),ime="_footer_1l7wn_1",sme="_github__wrapper_1l7wn_23",ome="_github__link_1l7wn_33",ame="_github__name_1l7wn_53",lme="_github__logo_1l7wn_79",ume="_rs__logo_1l7wn_89",cme="_footer__year_1l7wn_109",ba={footer:ime,github__wrapper:sme,github__link:ome,"rs-link":"_rs-link_1l7wn_35",github__name:ame,github__logo:lme,rs__logo:ume,footer__year:cme},hme=""+new URL("github-be098e73.png",import.meta.url).href,fme=""+new URL("rs-school-b8a8557e.png",import.meta.url).href,dme=()=>E.jsxs("footer",{className:ba.footer,children:[E.jsx("div",{className:ba.github__wrapper,children:E.jsx("a",{className:ba.github__link,href:"https://github.com/mskmee/rs_GraphiQL_front",target:"_blank",rel:"noreferrer",children:E.jsx("img",{className:ba.github__logo,src:hme,alt:"GitHub"})})}),E.jsx("p",{className:ba.footer__year,children:"2023"}),E.jsx("a",{className:ba.rs__link,href:"https://rs.school/react/",target:"_blank",rel:"noreferrer",children:E.jsx("img",{className:ba.rs__logo,src:fme,alt:"Rolling Scopes School"})})]});const pme=()=>E.jsxs(E.Fragment,{children:[E.jsx(rme,{}),E.jsxs("main",{className:Lpe.main,children:[E.jsx(gq,{}),E.jsx(Vb,{position:"bottom-left",autoClose:2e3,newestOnTop:!0,hideProgressBar:!1,pauseOnFocusLoss:!0,draggable:!0})]}),E.jsx(dme,{})]});function mme(){const t=HH();return E.jsx(vq,{children:E.jsxs(Wl,{path:"/",element:E.jsx(pme,{}),children:[E.jsx(Wl,{index:!0,element:E.jsx(hte,{})}),E.jsx(Wl,{path:"/auth",element:t?E.jsx(vb,{to:"/"}):E.jsx(qee,{})}),E.jsx(Wl,{path:"/editor",element:t?E.jsx(Ppe,{}):E.jsx(vb,{to:"/"})}),E.jsx(Wl,{path:"*",element:E.jsx(Xee,{})})]})})}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BO(t,e){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BO(t,e)}function pw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BO(t,e)}function lp(t,e){if(e&&(Ar(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function cs(t){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cs(t)}function gme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yme(t){return n$(t)||gme(t)||r$(t)||i$()}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vme={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},wme=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};si(this,t),this.init(e,n)}return oi(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||vme,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,GD(GD({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),Ji=new wme,ua=function(){function t(){si(this,t),this.observers={}}return oi(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function yh(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function XD(t){return t==null?"":""+t}function Sme(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function I_(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function KD(t,e,n){var r=I_(t,e,Object),i=r.obj,s=r.k;i[s]=n}function bme(t,e,n,r){var i=I_(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function dv(t,e){var n=I_(t,e),r=n.obj,i=n.k;if(r)return r[i]}function Eme(t,e,n){var r=dv(t,n);return r!==void 0?r:dv(e,n)}function VY(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):VY(t[r],e[r],n):t[r]=e[r]);return t}function zl(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ome={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Tme(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return Ome[e]}):t}var mw=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,kme=[" ",",","?","!",";"];function xme(t,e,n){e=e||"",n=n||"";var r=kme.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function pv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,a=r.slice(s,s+o).join(n),l=i[a];l===void 0&&r.length>s+o;)o++,a=r.slice(s,s+o).join(n),l=i[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}var u=r.slice(s+o).join(n);return u?pv(l,u,n):void 0}i=i[r[s]]}return i}}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _me(t){var e=Cme();return function(){var r=cs(t),i;if(e){var s=cs(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lp(this,i)}}function Cme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ime=function(t){pw(n,t);var e=_me(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return si(this,n),i=e.call(this),mw&&ua.call(Wo(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return oi(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,s];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."));var h=dv(this.data,c);return h||!u||typeof o!="string"?h:pv(this.data&&this.data[i]&&this.data[i][s],o,l)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var c=[i,s];o&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."),a=s,s=c[1]),this.addNamespaces(s),KD(this.data,c,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,s];i.indexOf(".")>-1&&(c=i.split("."),a=o,o=s,s=c[1]),this.addNamespaces(s);var h=dv(this.data,c)||{};a?VY(h,o,l):h=vm(vm({},h),o),KD(this.data,c,h),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?vm(vm({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(ua),jY={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(n=o.processors[a].process(n,r,i,s))}),n}};function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t){var e=Nme();return function(){var r=cs(t),i;if(e){var s=cs(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lp(this,i)}}function Nme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var e2={},t2=function(t){pw(n,t);var e=Ame(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return si(this,n),i=e.call(this),mw&&ua.call(Wo(i)),Sme(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Wo(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ji.create("translator"),i}return oi(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!xme(i,o,a);if(u&&!c){var h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:l};var f=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),i=f.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Ar(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Ar(s)==="object"&&(s=Nn({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],s),h=c.key,f=c.namespaces,d=f[f.length-1],p=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(g){var v=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(v).concat(h),usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:"".concat(d).concat(v).concat(h)}return l?{res:h,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:h}var m=this.resolve(i,s),y=m&&m.res,w=m&&m.usedKey||h,S=m&&m.exactUsedKey||h,b=Object.prototype.toString.apply(y),k=["[object Number]","[object Function]","[object RegExp]"],_=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(R&&y&&T&&k.indexOf(b)<0&&!(typeof _=="string"&&b==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,y,Nn(Nn({},s),{},{ns:f})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return l?(m.res=C,m):C}if(u){var B=b==="[object Array]",G=B?[]:{},J=B?S:w;for(var I in y)if(Object.prototype.hasOwnProperty.call(y,I)){var D="".concat(J).concat(u).concat(I);G[I]=this.translate(D,Nn(Nn({},s),{joinArrays:!1,ns:f})),G[I]===D&&(G[I]=y[I])}y=G}}else if(R&&typeof _=="string"&&b==="[object Array]")y=y.join(_),y&&(y=this.extendTranslation(y,i,s,o));else{var Y=!1,ne=!1,M=s.count!==void 0&&typeof s.count!="string",V=n.hasDefaultValue(s),ee=M?this.pluralResolver.getSuffix(p,s.count,s):"",Se=s["defaultValue".concat(ee)]||s.defaultValue;!this.isValidLookup(y)&&V&&(Y=!0,y=Se),this.isValidLookup(y)||(ne=!0,y=h);var Pe=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,yr=Pe&&ne?void 0:y,en=V&&Se!==y&&this.options.updateMissing;if(ne||Y||en){if(this.logger.log(en?"updateKey":"missingKey",p,d,h,en?Se:y),u){var no=this.resolve(h,Nn(Nn({},s),{},{keySeparator:!1}));no&&no.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var un=[],vr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&vr&&vr[0])for(var Fl=0;Fl<vr.length;Fl++)un.push(vr[Fl]);else this.options.saveMissingTo==="all"?un=this.languageUtils.toResolveHierarchy(s.lng||this.language):un.push(s.lng||this.language);var up=function(ms,$l,gw){var yw=V&&gw!==y?gw:yr;a.options.missingKeyHandler?a.options.missingKeyHandler(ms,d,$l,yw,en,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(ms,d,$l,yw,en,s),a.emit("missingKey",ms,d,$l,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?un.forEach(function(Kc){a.pluralResolver.getSuffixes(Kc,s).forEach(function(ms){up([Kc],h+ms,s["defaultValue".concat(ms)]||Se)})}):up(un,h,Se))}y=this.extendTranslation(y,i,s,m,o),ne&&y===h&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(h)),(ne||Y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(h):h,Y?y:void 0):y=this.options.parseMissingKeyHandler(y))}return l?(m.res=y,m):y}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Nn(Nn({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Nn(Nn({},o),{interpolation:Nn(Nn({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(c){var f=i.match(this.interpolator.nestingRegexp);h=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=Nn(Nn({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),c){var p=i.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,w=new Array(y),S=0;S<y;S++)w[S]=arguments[S];return l&&l[0]===w[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(s[0])),null):u.translate.apply(u,w.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var v=o.postProcess||this.options.postProcess,m=typeof v=="string"?[v]:v;return i!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(i=jY.handle(m,i,s,this.options&&this.options.postProcessPassResolved?Nn({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,c,h;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),p=d.key;l=p;var g=d.namespaces;s.options.fallbackNS&&(g=g.concat(s.options.fallbackNS));var v=o.count!==void 0&&typeof o.count!="string",m=v&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",w=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);g.forEach(function(S){s.isValidLookup(a)||(h=S,!e2["".concat(w[0],"-").concat(S)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(h)&&(e2["".concat(w[0],"-").concat(S)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(b){if(!s.isValidLookup(a)){c=b;var k=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(k,p,b,S,o);else{var _;v&&(_=s.pluralResolver.getSuffix(b,o.count,o));var R="".concat(s.options.pluralSeparator,"zero");if(v&&(k.push(p+_),m&&k.push(p+R)),y){var T="".concat(p).concat(s.options.contextSeparator).concat(o.context);k.push(T),v&&(k.push(T+_),m&&k.push(T+R))}}for(var C;C=k.pop();)s.isValidLookup(a)||(u=C,a=s.getResource(b,S,C,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:c,usedNS:h}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(ua);function bS(t){return t.charAt(0).toUpperCase()+t.slice(1)}var n2=function(){function t(e){si(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ji.create("languageUtils")}return oi(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=bS(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=bS(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=bS(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(a){if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],a=function(u){u&&(i.isSupportedCode(u)?o.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),s.forEach(function(l){o.indexOf(l)<0&&a(i.formatLanguageCode(l))}),o}}]),t}(),Rme=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Pme={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},Dme=["v1","v2","v3"],r2={zero:0,one:1,two:2,few:3,many:4,other:5};function Lme(){var t={};return Rme.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:Pme[e.fc]}})}),t}var Mme=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};si(this,t),this.languageUtils=e,this.options=n,this.logger=Ji.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Lme()}return oi(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return r2[o]-r2[a]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Dme.includes(this.options.compatibilityJSON)}}]),t}();function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s2(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Eme(t,e,n);return!s&&i&&typeof n=="string"&&(s=pv(t,n,r),s===void 0&&(s=pv(e,n,r))),s}var Fme=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};si(this,t),this.logger=Ji.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return oi(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:Tme,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?zl(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?zl(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?zl(r.nestingPrefix):r.nestingPrefixEscaped||zl("$t("),this.nestingSuffix=r.nestingSuffix?zl(r.nestingSuffix):r.nestingSuffixEscaped||zl(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,a,l,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(v){return v.replace(/\$/g,"$$$$")}var f=function(m){if(m.indexOf(o.formatSeparator)<0){var y=s2(r,c,m,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(y,void 0,i,fi(fi(fi({},s),r),{},{interpolationkey:m})):y}var w=m.split(o.formatSeparator),S=w.shift().trim(),b=w.join(o.formatSeparator).trim();return o.format(s2(r,c,S,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,fi(fi(fi({},s),r),{},{interpolationkey:S}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(m){return h(m)}},{regex:this.regexp,safeValue:function(m){return o.escapeValue?h(o.escape(m)):h(m)}}];return g.forEach(function(v){for(u=0;a=v.regex.exec(n);){var m=a[1].trim();if(l=f(m),l===void 0)if(typeof d=="function"){var y=d(n,a,s);l=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))l="";else if(p){l=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(n)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=XD(l));var w=v.safeValue(l);if(n=n.replace(a[0],w),p?(v.regex.lastIndex+=l.length,v.regex.lastIndex-=a[0].length):v.regex.lastIndex=0,u++,u>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,l;function u(d,p){var g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;var v=d.split(new RegExp("".concat(g,"[ ]*{"))),m="{".concat(v[1]);d=v[0],m=this.interpolate(m,l);var y=m.match(/'/g),w=m.match(/"/g);(y&&y.length%2===0&&!w||w.length%2!==0)&&(m=m.replace(/'/g,'"'));try{l=JSON.parse(m),p&&(l=fi(fi({},p),l))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),S),"".concat(d).concat(g).concat(m)}return delete l.defaultValue,d}for(;o=this.nestingRegexp.exec(n);){var c=[];l=fi({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var h=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=f.shift(),c=f,h=!0}if(a=r(u.call(this,o[1].trim(),l),l),a&&o[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=XD(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),a=""),h&&(a=c.reduce(function(d,p){return i.format(d,p,s.lng,fi(fi({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),n=n.replace(o[0],a),this.regexp.lastIndex=0}return n}}]),t}();function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $me(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var a=o.split(":"),l=yme(a),u=l[0],c=l.slice(1),h=c.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))}})}}return{formatName:e,formatOptions:n}}function Hl(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(r)}}var Ume=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};si(this,t),this.logger=Ji.create("formatter"),this.options=e,this.formats={number:Hl(function(n,r){var i=new Intl.NumberFormat(n,vs({},r));return function(s){return i.format(s)}}),currency:Hl(function(n,r){var i=new Intl.NumberFormat(n,vs(vs({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Hl(function(n,r){var i=new Intl.DateTimeFormat(n,vs({},r));return function(s){return i.format(s)}}),relativetime:Hl(function(n,r){var i=new Intl.RelativeTimeFormat(n,vs({},r));return function(s){return i.format(s,r.range||"day")}}),list:Hl(function(n,r){var i=new Intl.ListFormat(n,vs({},r));return function(s){return i.format(s)}})},this.init(e)}return oi(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Hl(r)}},{key:"format",value:function(n,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),l=a.reduce(function(u,c){var h=$me(c),f=h.formatName,d=h.formatOptions;if(s.formats[f]){var p=u;try{var g=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},v=g.locale||g.lng||o.locale||o.lng||i;p=s.formats[f](u,v,vs(vs(vs({},d),o),g))}catch(m){s.logger.warn(m)}return p}else s.logger.warn("there was no format function for ".concat(f));return u},n);return l}}]),t}();function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vme(t){var e=jme();return function(){var r=cs(t),i;if(e){var s=cs(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lp(this,i)}}function jme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bme(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var Qme=function(t){pw(n,t);var e=Vme(n);function n(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return si(this,n),o=e.call(this),mw&&ua.call(Wo(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=Ji.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return oi(n,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u={},c={},h={},f={};return i.forEach(function(d){var p=!0;s.forEach(function(g){var v="".concat(d,"|").concat(g);!o.reload&&l.store.hasResourceBundle(d,g)?l.state[v]=2:l.state[v]<0||(l.state[v]===1?c[v]===void 0&&(c[v]=!0):(l.state[v]=1,p=!1,c[v]===void 0&&(c[v]=!0),u[v]===void 0&&(u[v]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(h[d]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var c={};this.queue.forEach(function(h){bme(h.loaded,[l],u),Bme(h,i),s&&h.errors.push(s),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(f){c[f]||(c[f]={});var d=h.loaded[f];d.length&&d.forEach(function(p){c[f][p]===void 0&&(c[f][p]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:l,wait:u,callback:c});return}this.readingCalls++;var h=function(g,v){if(a.readingCalls--,a.waitingReads.length>0){var m=a.waitingReads.shift();a.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(g&&v&&l<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,c)},u);return}c(g,v)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var d=f(i,s);d&&typeof d.then=="function"?d.then(function(p){return h(null,p)}).catch(h):h(null,d)}catch(p){h(p)}return}return f(i,s,h)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(c,h){c&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),c),!c&&h&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),h),s.loaded(i,c,h)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var h=l2(l2({},u),{},{isUpdate:l}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var d;f.length===5?d=f(i,s,o,a,h):d=f(i,s,o,a),d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}else f(i,s,o,a,c,h)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),n}(ua);function u2(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Ar(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Ar(e[2])==="object"||Ar(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function c2(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yme(t){var e=qme();return function(){var r=cs(t),i;if(e){var s=cs(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lp(this,i)}}function qme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wm(){}function zme(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var mv=function(t){pw(n,t);var e=Yme(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(si(this,n),r=e.call(this),mw&&ua.call(Wo(r)),r.options=c2(i),r.services={},r.logger=Ji,r.modules={external:[]},zme(Wo(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),lp(r,Wo(r));setTimeout(function(){r.init(i,s)},0)}return r}return oi(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=u2();this.options=Vi(Vi(Vi({},a),this.options),c2(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Vi(Vi({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Ji.init(l(this.modules.logger),this.options):Ji.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Ume);var c=new n2(this.options);this.store=new Ime(this.options.resources,this.options);var h=this.services;h.logger=Ji,h.resourceStore=this.store,h.languageUtils=c,h.pluralResolver=new Mme(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=l(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Fme(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Qme(l(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];i.emit.apply(i,[m].concat(w))}),this.modules.languageDetector&&(h.languageDetector=l(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=l(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new t2(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];i.emit.apply(i,[m].concat(w))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.format=this.options.interpolation.format,o||(o=wm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments),i}});var g=yh(),v=function(){var y=function(S,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),g.resolve(b),o(S,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),g}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wm,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],c=function(d){if(d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(g){u.indexOf(g)<0&&u.push(g)})}};if(l)c(l);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(u,this.options.ns,function(f){!f&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(f)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=yh();return i||(i=this.languages),s||(s=this.options.ns),o||(o=wm),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&jY.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=yh();this.emit("languageChanging",i);var l=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},u=function(f,d){d?(l(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(f,function(){return o.t.apply(o,arguments)})},c=function(f){!i&&!f&&o.services.languageDetector&&(f=[]);var d=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);d&&(o.language||l(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){u(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,l=function u(c,h){var f;if(Ar(h)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),g=2;g<d;g++)p[g-2]=arguments[g];f=a.options.overloadTranslationOptionHandler([c,h].concat(p))}else f=Vi({},h);f.lng=f.lng||u.lng,f.lngs=f.lngs||u.lngs,f.ns=f.ns||u.ns,f.keyPrefix=f.keyPrefix||o||u.keyPrefix;var v=a.options.keySeparator||".",m;return f.keyPrefix&&Array.isArray(c)?m=c.map(function(y){return"".concat(f.keyPrefix).concat(v).concat(y)}):m=f.keyPrefix?"".concat(f.keyPrefix).concat(v).concat(c):c,a.t(m,f)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=o,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=o.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var c=function(d,p){var g=s.services.backendConnector.state["".concat(d,"|").concat(p)];return g===-1||g===2};if(o.precheck){var h=o.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(a,i)&&(!l||c(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=yh();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=yh();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new n2(u2());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wm,a=Vi(Vi(Vi({},this.options),s),{isClone:!0}),l=new n(a);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(c){l[c]=i[c]}),l.services=Vi({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new t2(l.services,l.options),l.translator.on("*",function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];l.emit.apply(l,[c].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(ua);Ii(mv,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new mv(t,e)});var Wn=mv.createInstance();Wn.createInstance=mv.createInstance;Wn.createInstance;Wn.dir;Wn.init;Wn.loadResources;Wn.reloadResources;Wn.use;Wn.changeLanguage;Wn.getFixedT;Wn.t;Wn.exists;Wn.setDefaultNamespace;Wn.hasLoadedNamespace;Wn.loadNamespaces;Wn.loadLanguages;function QO(t){return QO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QO(t)}var BY=[],Hme=BY.forEach,Wme=BY.slice;function YO(t){return Hme.call(Wme.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}function QY(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":QO(XMLHttpRequest))==="object"}function Gme(t){return!!t&&typeof t.then=="function"}function Xme(t){return Gme(t)?t:Promise.resolve(t)}function Kme(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var md={},Jme={get exports(){return md},set exports(t){md=t}},lf={},Zme={get exports(){return lf},set exports(t){lf=t}},f2;function ege(){return f2||(f2=1,function(t,e){var n=typeof self<"u"?self:Sm,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function h(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function d(I){var D={next:function(){var Y=I.shift();return{done:Y===void 0,value:Y}}};return a.iterable&&(D[Symbol.iterator]=function(){return D}),D}function p(I){this.map={},I instanceof p?I.forEach(function(D,Y){this.append(Y,D)},this):Array.isArray(I)?I.forEach(function(D){this.append(D[0],D[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(D){this.append(D,I[D])},this)}p.prototype.append=function(I,D){I=h(I),D=f(D);var Y=this.map[I];this.map[I]=Y?Y+", "+D:D},p.prototype.delete=function(I){delete this.map[h(I)]},p.prototype.get=function(I){return I=h(I),this.has(I)?this.map[I]:null},p.prototype.has=function(I){return this.map.hasOwnProperty(h(I))},p.prototype.set=function(I,D){this.map[h(I)]=f(D)},p.prototype.forEach=function(I,D){for(var Y in this.map)this.map.hasOwnProperty(Y)&&I.call(D,this.map[Y],Y,this)},p.prototype.keys=function(){var I=[];return this.forEach(function(D,Y){I.push(Y)}),d(I)},p.prototype.values=function(){var I=[];return this.forEach(function(D){I.push(D)}),d(I)},p.prototype.entries=function(){var I=[];return this.forEach(function(D,Y){I.push([Y,D])}),d(I)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function v(I){return new Promise(function(D,Y){I.onload=function(){D(I.result)},I.onerror=function(){Y(I.error)}})}function m(I){var D=new FileReader,Y=v(D);return D.readAsArrayBuffer(I),Y}function y(I){var D=new FileReader,Y=v(D);return D.readAsText(I),Y}function w(I){for(var D=new Uint8Array(I),Y=new Array(D.length),ne=0;ne<D.length;ne++)Y[ne]=String.fromCharCode(D[ne]);return Y.join("")}function S(I){if(I.slice)return I.slice(0);var D=new Uint8Array(I.byteLength);return D.set(new Uint8Array(I)),D.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:a.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:a.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():a.arrayBuffer&&a.blob&&l(I)?(this._bodyArrayBuffer=S(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||c(I))?this._bodyArrayBuffer=S(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var I=g(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var I=g(this);if(I)return I;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(I){var D=I.toUpperCase();return k.indexOf(D)>-1?D:I}function R(I,D){D=D||{};var Y=D.body;if(I instanceof R){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,D.headers||(this.headers=new p(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!Y&&I._bodyInit!=null&&(Y=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new p(D.headers)),this.method=_(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function T(I){var D=new FormData;return I.trim().split("&").forEach(function(Y){if(Y){var ne=Y.split("="),M=ne.shift().replace(/\+/g," "),V=ne.join("=").replace(/\+/g," ");D.append(decodeURIComponent(M),decodeURIComponent(V))}}),D}function C(I){var D=new p,Y=I.replace(/\r?\n[\t ]+/g," ");return Y.split(/\r?\n/).forEach(function(ne){var M=ne.split(":"),V=M.shift().trim();if(V){var ee=M.join(":").trim();D.append(V,ee)}}),D}b.call(R.prototype);function B(I,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new p(D.headers),this.url=D.url||"",this._initBody(I)}b.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},B.error=function(){var I=new B(null,{status:0,statusText:""});return I.type="error",I};var G=[301,302,303,307,308];B.redirect=function(I,D){if(G.indexOf(D)===-1)throw new RangeError("Invalid status code");return new B(null,{status:D,headers:{location:I}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(D,Y){this.message=D,this.name=Y;var ne=Error(D);this.stack=ne.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function J(I,D){return new Promise(function(Y,ne){var M=new R(I,D);if(M.signal&&M.signal.aborted)return ne(new o.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function ee(){V.abort()}V.onload=function(){var Se={status:V.status,statusText:V.statusText,headers:C(V.getAllResponseHeaders()||"")};Se.url="responseURL"in V?V.responseURL:Se.headers.get("X-Request-URL");var Pe="response"in V?V.response:V.responseText;Y(new B(Pe,Se))},V.onerror=function(){ne(new TypeError("Network request failed"))},V.ontimeout=function(){ne(new TypeError("Network request failed"))},V.onabort=function(){ne(new o.DOMException("Aborted","AbortError"))},V.open(M.method,M.url,!0),M.credentials==="include"?V.withCredentials=!0:M.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&a.blob&&(V.responseType="blob"),M.headers.forEach(function(Se,Pe){V.setRequestHeader(Pe,Se)}),M.signal&&(M.signal.addEventListener("abort",ee),V.onreadystatechange=function(){V.readyState===4&&M.signal.removeEventListener("abort",ee)}),V.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return J.polyfill=!0,s.fetch||(s.fetch=J,s.Headers=p,s.Request=R,s.Response=B),o.Headers=p,o.Request=R,o.Response=B,o.fetch=J,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Zme,lf)),lf}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Sm<"u"&&Sm.fetch?n=Sm.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Kme<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||ege();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(Jme,md);const YY=md,d2=e3({__proto__:null,default:YY},[md]);function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}var Fs;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Fs=global.fetch:typeof window<"u"&&window.fetch?Fs=window.fetch:Fs=fetch);var gd;QY()&&(typeof global<"u"&&global.XMLHttpRequest?gd=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(gd=window.XMLHttpRequest));var yv;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?yv=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(yv=window.ActiveXObject));!Fs&&d2&&!gd&&!yv&&(Fs=YY||d2);typeof Fs!="function"&&(Fs=void 0);var qO=function(e,n){if(n&&gv(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},p2=function(e,n,r){Fs(e,n).then(function(i){if(!i.ok)return r(i.statusText||"Error",{status:i.status});i.text().then(function(s){r(null,{status:i.status,data:s})}).catch(r)}).catch(r)},m2=!1,tge=function(e,n,r,i){e.queryStringParams&&(n=qO(n,e.queryStringParams));var s=YO({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);r&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=YO({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},m2?{}:o);try{p2(n,a,i)}catch(l){if(!o||Object.keys(o).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(o).forEach(function(u){delete a[u]}),p2(n,a,i),m2=!0}catch(u){i(u)}}},nge=function(e,n,r,i){r&&gv(r)==="object"&&(r=qO("",r).slice(1)),e.queryStringParams&&(n=qO(n,e.queryStringParams));try{var s;gd?s=new gd:s=new yv("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},rge=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Fs&&n.indexOf("file:")!==0)return tge(e,n,r,i);if(QY()||typeof ActiveXObject=="function")return nge(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function yd(t){return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qY(r.key),r)}}function sge(t,e,n){return e&&g2(t.prototype,e),n&&g2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oge(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=age(t,"string");return yd(e)==="symbol"?e:String(e)}function age(t,e){if(yd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return oge({},r,i||"")},parseLoadPayload:function(n,r){},request:rge,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},zY=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ige(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return sge(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=YO(i,this.options||{},lge()),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=Xme(l),l.then(function(u){if(!u)return o(null,{});var c=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,u,function(c,h){if(h&&(h.status>=500&&h.status<600||!h.status))return r("failed loading "+n+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return r("failed loading "+n+"; status code: "+h.status,!1);if(!h&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var f,d;try{typeof h.data=="string"?f=o.options.parse(h.data,i,s):f=h.data}catch{d="failed parsing "+n+" to json"}if(d)return r(d,!1);r(null,f)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,c=[],h=[];n.forEach(function(f){var d=a.options.addPath;typeof a.options.addPath=="function"&&(d=a.options.addPath(f,r));var p=a.services.interpolator.interpolate(d,{lng:f,ns:r});a.options.request(a.options,p,l,function(g,v){u+=1,c.push(g),h.push(v),u===n.length&&typeof o=="function"&&o(c,h)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(h){var f=s.toResolveHierarchy(h);f.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(h){i.read(c,h,"read",null,null,function(f,d){f&&o.warn("loading namespace ".concat(h," for language ").concat(c," failed"),f),!f&&d&&o.log("loaded namespace ".concat(h," for language ").concat(c),d),i.loaded("".concat(c,"|").concat(h),f,d)})})})}}}]),t}();zY.type="backend";var HY=[],uge=HY.forEach,cge=HY.slice;function hge(t){return uge.call(cge.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var y2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fge=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!y2.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!y2.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},v2={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=fge(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},dge={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=v2.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&v2.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},pge={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(n=s[o].substring(a+1))}}}return n}},vh=null,w2=function(){if(vh!==null)return vh;try{vh=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{vh=!1}return vh},mge={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&w2()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&w2()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},wh=null,S2=function(){if(wh!==null)return wh;try{wh=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{wh=!1}return wh},gge={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&S2()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&S2()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},yge={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},vge={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},wge={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Sge={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function bge(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var WY=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};si(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return oi(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=hge(r,this.options||{},bge()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(dge),this.addDetector(pge),this.addDetector(mge),this.addDetector(gge),this.addDetector(yge),this.addDetector(vge),this.addDetector(wge),this.addDetector(Sge)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();WY.type="languageDetector";Wn.use(zY).use(WY).use(sW).init({lng:"en",fallbackLng:"en",debug:!1,detection:{order:["queryString","cookie"],caches:["cookie"]},interpolation:{escapeValue:!1}});const Ege=new Pte({defaultOptions:{queries:{suspense:!0}}});ES.createRoot(document.getElementById("root")).render(E.jsx(Re.StrictMode,{children:E.jsx(x.Suspense,{fallback:E.jsx(Cl,{}),children:E.jsx(Fte,{client:Ege,children:E.jsx(g6,{store:uz,children:E.jsx(Oq,{children:E.jsx(mme,{})})})})})}));
